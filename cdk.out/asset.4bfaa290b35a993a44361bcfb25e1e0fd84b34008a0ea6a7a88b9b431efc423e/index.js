"use strict";var bL=Object.create;var yc=Object.defineProperty;var CL=Object.getOwnPropertyDescriptor;var wL=Object.getOwnPropertyNames;var PL=Object.getPrototypeOf,xL=Object.prototype.hasOwnProperty;var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jt=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},_y=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wL(t))!xL.call(e,s)&&s!==r&&yc(e,s,{get:()=>t[s],enumerable:!(n=CL(t,s))||n.enumerable});return e};var w=(e,t,r)=>(r=e!=null?bL(PL(e)):{},_y(t||!e||!e.__esModule?yc(r,"default",{value:e,enumerable:!0}):r,e)),Y=e=>_y(yc({},"__esModule",{value:!0}),e);var tr=A((tce,AS)=>{var Jc=Object.defineProperty,Bj=Object.getOwnPropertyDescriptor,Hj=Object.getOwnPropertyNames,qj=Object.prototype.hasOwnProperty,Kc=(e,t)=>Jc(e,"name",{value:t,configurable:!0}),Vj=(e,t)=>{for(var r in t)Jc(e,r,{get:t[r],enumerable:!0})},zj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Hj(t))!qj.call(e,s)&&s!==r&&Jc(e,s,{get:()=>t[s],enumerable:!(n=Bj(t,s))||n.enumerable});return e},Gj=e=>zj(Jc({},"__esModule",{value:!0}),e),SS={};Vj(SS,{AlgorithmId:()=>CS,EndpointURLScheme:()=>bS,FieldPosition:()=>wS,HttpApiKeyAuthLocation:()=>vS,HttpAuthLocation:()=>ES,IniSectionType:()=>PS,RequestHandlerProtocol:()=>xS,SMITHY_CONTEXT_KEY:()=>Xj,getDefaultClientConfiguration:()=>Kj,resolveDefaultRuntimeConfig:()=>Yj});AS.exports=Gj(SS);var ES=(e=>(e.HEADER="header",e.QUERY="query",e))(ES||{}),vS=(e=>(e.HEADER="header",e.QUERY="query",e))(vS||{}),bS=(e=>(e.HTTP="http",e.HTTPS="https",e))(bS||{}),CS=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(CS||{}),Wj=Kc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Jj=Kc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Kj=Kc(e=>Wj(e),"getDefaultClientConfiguration"),Yj=Kc(e=>Jj(e),"resolveDefaultRuntimeConfig"),wS=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(wS||{}),Xj="__smithy_context",PS=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(PS||{}),xS=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(xS||{})});var le=A((rce,NS)=>{var Yc=Object.defineProperty,Qj=Object.getOwnPropertyDescriptor,Zj=Object.getOwnPropertyNames,eF=Object.prototype.hasOwnProperty,nn=(e,t)=>Yc(e,"name",{value:t,configurable:!0}),tF=(e,t)=>{for(var r in t)Yc(e,r,{get:t[r],enumerable:!0})},rF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zj(t))!eF.call(e,s)&&s!==r&&Yc(e,s,{get:()=>t[s],enumerable:!(n=Qj(t,s))||n.enumerable});return e},nF=e=>rF(Yc({},"__esModule",{value:!0}),e),OS={};tF(OS,{Field:()=>iF,Fields:()=>aF,HttpRequest:()=>cF,HttpResponse:()=>dF,IHttpRequest:()=>IS.HttpRequest,getHttpHandlerExtensionConfiguration:()=>sF,isValidHostname:()=>TS,resolveHttpHandlerRuntimeConfig:()=>oF});NS.exports=nF(OS);var sF=nn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),oF=nn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),IS=tr(),iF=class{static{nn(this,"Field")}constructor({name:e,kind:t=IS.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},aF=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{nn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},cF=class lm{static{nn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new lm({...t,headers:{...t.headers}});return r.query&&(r.query=RS(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return lm.clone(this)}};function RS(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}nn(RS,"cloneQuery");var dF=class{static{nn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function TS(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}nn(TS,"isValidHostname")});var Po=A((ice,jS)=>{"use strict";var Qc=Object.defineProperty,lF=Object.getOwnPropertyDescriptor,uF=Object.getOwnPropertyNames,pF=Object.prototype.hasOwnProperty,Xc=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),mF=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},fF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uF(t))!pF.call(e,s)&&s!==r&&Qc(e,s,{get:()=>t[s],enumerable:!(n=lF(t,s))||n.enumerable});return e},hF=e=>fF(Qc({},"__esModule",{value:!0}),e),DS={};mF(DS,{getHostHeaderPlugin:()=>_F,hostHeaderMiddleware:()=>MS,hostHeaderMiddlewareOptions:()=>LS,resolveHostHeaderConfig:()=>kS});jS.exports=hF(DS);var gF=le();function kS(e){return e}Xc(kS,"resolveHostHeaderConfig");var MS=Xc(e=>t=>async r=>{if(!gF.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},"hostHeaderMiddleware"),LS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},_F=Xc(e=>({applyToStack:Xc(t=>{t.add(MS(e),LS)},"applyToStack")}),"getHostHeaderPlugin")});var xo=A((ace,BS)=>{"use strict";var Zc=Object.defineProperty,yF=Object.getOwnPropertyDescriptor,SF=Object.getOwnPropertyNames,EF=Object.prototype.hasOwnProperty,um=(e,t)=>Zc(e,"name",{value:t,configurable:!0}),vF=(e,t)=>{for(var r in t)Zc(e,r,{get:t[r],enumerable:!0})},bF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of SF(t))!EF.call(e,s)&&s!==r&&Zc(e,s,{get:()=>t[s],enumerable:!(n=yF(t,s))||n.enumerable});return e},CF=e=>bF(Zc({},"__esModule",{value:!0}),e),FS={};vF(FS,{getLoggerPlugin:()=>wF,loggerMiddleware:()=>US,loggerMiddlewareOptions:()=>$S});BS.exports=CF(FS);var US=um(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:l}=c,p=d??t.inputFilterSensitiveLog,m=l??t.outputFilterSensitiveLog,{$metadata:h,...f}=n.output;return a?.info?.({clientName:s,commandName:o,input:p(r.input),output:m(f),metadata:h}),n}catch(n){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d}=c,l=d??t.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),$S={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},wF=um(e=>({applyToStack:um(t=>{t.add(US(),$S)},"applyToStack")}),"getLoggerPlugin")});var Ao=A((cce,zS)=>{"use strict";var td=Object.defineProperty,PF=Object.getOwnPropertyDescriptor,xF=Object.getOwnPropertyNames,AF=Object.prototype.hasOwnProperty,ed=(e,t)=>td(e,"name",{value:t,configurable:!0}),OF=(e,t)=>{for(var r in t)td(e,r,{get:t[r],enumerable:!0})},IF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xF(t))!AF.call(e,s)&&s!==r&&td(e,s,{get:()=>t[s],enumerable:!(n=PF(t,s))||n.enumerable});return e},RF=e=>IF(td({},"__esModule",{value:!0}),e),HS={};OF(HS,{addRecursionDetectionMiddlewareOptions:()=>VS,getRecursionDetectionPlugin:()=>kF,recursionDetectionMiddleware:()=>qS});zS.exports=RF(HS);var TF=le(),pm="X-Amzn-Trace-Id",NF="AWS_LAMBDA_FUNCTION_NAME",DF="_X_AMZN_TRACE_ID",qS=ed(e=>t=>async r=>{let{request:n}=r;if(!TF.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let s=Object.keys(n.headers??{}).find(d=>d.toLowerCase()===pm.toLowerCase())??pm;if(n.headers.hasOwnProperty(s))return t(r);let o=process.env[NF],a=process.env[DF],c=ed(d=>typeof d=="string"&&d.length>0,"nonEmptyString");return c(o)&&c(a)&&(n.headers[pm]=a),t({...r,request:n})},"recursionDetectionMiddleware"),VS={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},kF=ed(e=>({applyToStack:ed(t=>{t.add(qS(e),VS)},"applyToStack")}),"getRecursionDetectionPlugin")});var mm,MF,GS=S(()=>{mm=w(tr()),MF=e=>e[mm.SMITHY_CONTEXT_KEY]||(e[mm.SMITHY_CONTEXT_KEY]={})});var vt=A((lce,YS)=>{var rd=Object.defineProperty,LF=Object.getOwnPropertyDescriptor,jF=Object.getOwnPropertyNames,FF=Object.prototype.hasOwnProperty,JS=(e,t)=>rd(e,"name",{value:t,configurable:!0}),UF=(e,t)=>{for(var r in t)rd(e,r,{get:t[r],enumerable:!0})},$F=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jF(t))!FF.call(e,s)&&s!==r&&rd(e,s,{get:()=>t[s],enumerable:!(n=LF(t,s))||n.enumerable});return e},BF=e=>$F(rd({},"__esModule",{value:!0}),e),KS={};UF(KS,{getSmithyContext:()=>HF,normalizeProvider:()=>qF});YS.exports=BF(KS);var WS=tr(),HF=JS(e=>e[WS.SMITHY_CONTEXT_KEY]||(e[WS.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),qF=JS(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var XS,QS=S(()=>{XS=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function VF(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var pce,ZS,$i,nd=S(()=>{pce=w(tr()),ZS=w(vt());QS();$i=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],c=XS(o,a),d=VF(e.httpAuthSchemes),l=(0,ZS.getSmithyContext)(n),p=[];for(let m of c){let h=d.get(m.schemeId);if(!h){p.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let f=h.identityProvider(await t.identityProviderConfigProvider(e));if(!f){p.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:_={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},y),m.signingProperties=Object.assign(m.signingProperties||{},_),l.selectedHttpAuthScheme={httpAuthOption:m,identity:await f(m.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(s)}});var eE,Bi,tE=S(()=>{nd();eE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Bi=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($i(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),eE)}})});var Cr=A((yce,cE)=>{var sd=Object.defineProperty,zF=Object.getOwnPropertyDescriptor,GF=Object.getOwnPropertyNames,WF=Object.prototype.hasOwnProperty,od=(e,t)=>sd(e,"name",{value:t,configurable:!0}),JF=(e,t)=>{for(var r in t)sd(e,r,{get:t[r],enumerable:!0})},KF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GF(t))!WF.call(e,s)&&s!==r&&sd(e,s,{get:()=>t[s],enumerable:!(n=zF(t,s))||n.enumerable});return e},YF=e=>KF(sd({},"__esModule",{value:!0}),e),rE={};JF(rE,{deserializerMiddleware:()=>nE,deserializerMiddlewareOption:()=>oE,getSerdePlugin:()=>aE,serializerMiddleware:()=>sE,serializerMiddlewareOption:()=>iE});cE.exports=YF(rE);var XF=le(),nE=od((e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let a=await t(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(XF.HttpResponse.isInstance(o)){let{headers:d={}}=o,l=Object.entries(d);a.$metadata={httpStatusCode:o.statusCode,requestId:fm(/^x-[\w-]+-request-?id$/,l),extendedRequestId:fm(/^x-[\w-]+-id-2$/,l),cfId:fm(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw a}},"deserializerMiddleware"),fm=od((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),sE=od((e,t)=>(r,n)=>async s=>{let o=e,a=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let c=await t(s.input,{...e,endpoint:a});return r({...s,request:c})},"serializerMiddleware"),oE={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},iE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function aE(e,t,r){return{applyToStack:n=>{n.add(nE(e,r),oE),n.add(sE(e,t),iE)}}}od(aE,"getSerdePlugin")});var dE,lE,QF,uE=S(()=>{dE=w(Cr());nd();lE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:dE.serializerMiddlewareOption.name},QF=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($i(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),lE)}})});var pE=S(()=>{nd();tE();uE()});var mE,Pce,fE,ZF,e1,hm,gm=S(()=>{mE=w(le()),Pce=w(tr()),fE=w(vt()),ZF=e=>t=>{throw t},e1=(e,t)=>{},hm=e=>(t,r)=>async n=>{if(!mE.HttpRequest.isInstance(n.request))return t(n);let o=(0,fE.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:d}=o,l=await t({...n,request:await d.sign(n.request,c,a)}).catch((d.errorHandler||ZF)(a));return(d.successHandler||e1)(l.response,a),l}});var hE,Hi,gE=S(()=>{gm();hE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hi=e=>({applyToStack:t=>{t.addRelativeTo(hm(e),hE)}})});var _E=S(()=>{gm();gE()});var sn,yE=S(()=>{sn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function SE(e,t,r,n,s){return async function*(a,c,...d){let l=c,p=a.startingToken??l[r],m=!0,h;for(;m;){if(l[r]=p,s&&(l[s]=l[s]??a.pageSize),a.client instanceof e)h=await t1(t,a.client,c,a.withCommand,...d);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let f=p;p=r1(h,n),m=!!(p&&(!a.stopOnSameToken||p!==f))}return void 0}}var t1,r1,EE=S(()=>{t1=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};r1=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var _m=A((Mce,bE)=>{var id=Object.defineProperty,n1=Object.getOwnPropertyDescriptor,s1=Object.getOwnPropertyNames,o1=Object.prototype.hasOwnProperty,i1=(e,t)=>id(e,"name",{value:t,configurable:!0}),a1=(e,t)=>{for(var r in t)id(e,r,{get:t[r],enumerable:!0})},c1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of s1(t))!o1.call(e,s)&&s!==r&&id(e,s,{get:()=>t[s],enumerable:!(n=n1(t,s))||n.enumerable});return e},d1=e=>c1(id({},"__esModule",{value:!0}),e),vE={};a1(vE,{isArrayBuffer:()=>l1});bE.exports=d1(vE);var l1=i1(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Oo=A((Lce,PE)=>{var ad=Object.defineProperty,u1=Object.getOwnPropertyDescriptor,p1=Object.getOwnPropertyNames,m1=Object.prototype.hasOwnProperty,CE=(e,t)=>ad(e,"name",{value:t,configurable:!0}),f1=(e,t)=>{for(var r in t)ad(e,r,{get:t[r],enumerable:!0})},h1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of p1(t))!m1.call(e,s)&&s!==r&&ad(e,s,{get:()=>t[s],enumerable:!(n=u1(t,s))||n.enumerable});return e},g1=e=>h1(ad({},"__esModule",{value:!0}),e),wE={};f1(wE,{fromArrayBuffer:()=>y1,fromString:()=>S1});PE.exports=g1(wE);var _1=_m(),ym=require("buffer"),y1=CE((e,t=0,r=e.byteLength-t)=>{if(!(0,_1.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ym.Buffer.from(e,t,r)},"fromArrayBuffer"),S1=CE((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ym.Buffer.from(e,t):ym.Buffer.from(e)},"fromString")});var xE=A(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.fromBase64=void 0;var E1=Oo(),v1=/^[A-Za-z0-9+/]*={0,2}$/,b1=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!v1.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,E1.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};cd.fromBase64=b1});var ke=A((Fce,RE)=>{var dd=Object.defineProperty,C1=Object.getOwnPropertyDescriptor,w1=Object.getOwnPropertyNames,P1=Object.prototype.hasOwnProperty,Sm=(e,t)=>dd(e,"name",{value:t,configurable:!0}),x1=(e,t)=>{for(var r in t)dd(e,r,{get:t[r],enumerable:!0})},A1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of w1(t))!P1.call(e,s)&&s!==r&&dd(e,s,{get:()=>t[s],enumerable:!(n=C1(t,s))||n.enumerable});return e},O1=e=>A1(dd({},"__esModule",{value:!0}),e),AE={};x1(AE,{fromUtf8:()=>IE,toUint8Array:()=>I1,toUtf8:()=>R1});RE.exports=O1(AE);var OE=Oo(),IE=Sm(e=>{let t=(0,OE.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),I1=Sm(e=>typeof e=="string"?IE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),R1=Sm(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,OE.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var TE=A(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.toBase64=void 0;var T1=Oo(),N1=ke(),D1=e=>{let t;if(typeof e=="string"?t=(0,N1.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,T1.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ld.toBase64=D1});var Ge=A(($ce,ud)=>{var NE=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,M1=Object.getOwnPropertyNames,L1=Object.prototype.hasOwnProperty,Em=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of M1(t))!L1.call(e,s)&&s!==r&&NE(e,s,{get:()=>t[s],enumerable:!(n=k1(t,s))||n.enumerable});return e},DE=(e,t,r)=>(Em(e,t,"default"),r&&Em(r,t,"default")),j1=e=>Em(NE({},"__esModule",{value:!0}),e),vm={};ud.exports=j1(vm);DE(vm,xE(),ud.exports);DE(vm,TE(),ud.exports)});var Cm=A(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.ChecksumStream=void 0;var F1=Ge(),U1=require("stream"),bm=class extends U1.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){var a,c;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(c=(a=n?.constructor)===null||a===void 0?void 0:a.name)!==null&&c!==void 0?c:n} in ChecksumStream.`);this.base64Encoder=o??F1.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};pd.ChecksumStream=bm});var on=A(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.isBlob=Io.isReadableStream=void 0;var $1=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Io.isReadableStream=$1;var B1=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Io.isBlob=B1});var kE=A(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.ChecksumStream=void 0;var H1=typeof ReadableStream=="function"?ReadableStream:function(){},wm=class extends H1{};md.ChecksumStream=wm});var ME=A(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.createChecksumStream=void 0;var q1=Ge(),V1=on(),z1=kE(),G1=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var o,a;if(!(0,V1.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=r?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:r} in ChecksumStream.`);let c=s??q1.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let d=new TransformStream({start(){},async transform(p,m){t.update(p),m.enqueue(p)},async flush(p){let m=await t.digest(),h=c(m);if(e!==h){let f=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(f)}else p.terminate()}});r.pipeThrough(d);let l=d.readable;return Object.setPrototypeOf(l,z1.ChecksumStream.prototype),l};fd.createChecksumStream=G1});var LE=A(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.createChecksumStream=Y1;var W1=on(),J1=Cm(),K1=ME();function Y1(e){return typeof ReadableStream=="function"&&(0,W1.isReadableStream)(e.source)?(0,K1.createChecksumStream)(e):new J1.ChecksumStream(e)}});var Am=A(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.ByteArrayCollector=void 0;var xm=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};hd.ByteArrayCollector=xm});var $E=A(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.createBufferedReadable=void 0;wr.createBufferedReadableStream=jE;wr.merge=FE;wr.flush=gd;wr.sizeOf=Ro;wr.modeOf=UE;var X1=Am();function jE(e,t,r){let n=e.getReader(),s=!1,o=0,a=["",new X1.ByteArrayCollector(l=>new Uint8Array(l))],c=-1,d=async l=>{let{value:p,done:m}=await n.read(),h=p;if(m){if(c!==-1){let f=gd(a,c);Ro(f)>0&&l.enqueue(f)}l.close()}else{let f=UE(h,!1);if(c!==f&&(c>=0&&l.enqueue(gd(a,c)),c=f),c===-1){l.enqueue(h);return}let y=Ro(h);o+=y;let _=Ro(a[c]);if(y>=t&&_===0)l.enqueue(h);else{let b=FE(a,c,h);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),b>=t?l.enqueue(gd(a,c)):await d(l)}}};return new ReadableStream({pull:d})}wr.createBufferedReadable=jE;function FE(e,t,r){switch(t){case 0:return e[0]+=r,Ro(e[0]);case 1:case 2:return e[t].push(r),Ro(e[t])}}function gd(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Ro(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function UE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var HE=A(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.createBufferedReadable=eU;var Q1=require("node:stream"),BE=Am(),Pr=$E(),Z1=on();function eU(e,t,r){if((0,Z1.isReadableStream)(e))return(0,Pr.createBufferedReadableStream)(e,t,r);let n=new Q1.Readable({read(){}}),s=!1,o=0,a=["",new BE.ByteArrayCollector(d=>new Uint8Array(d)),new BE.ByteArrayCollector(d=>Buffer.from(new Uint8Array(d)))],c=-1;return e.on("data",d=>{let l=(0,Pr.modeOf)(d,!0);if(c!==l&&(c>=0&&n.push((0,Pr.flush)(a,c)),c=l),c===-1){n.push(d);return}let p=(0,Pr.sizeOf)(d);o+=p;let m=(0,Pr.sizeOf)(a[c]);if(p>=t&&m===0)n.push(d);else{let h=(0,Pr.merge)(a,c,d);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Pr.flush)(a,c))}}),e.on("end",()=>{if(c!==-1){let d=(0,Pr.flush)(a,c);(0,Pr.sizeOf)(d)>0&&n.push(d)}n.push(null)}),n}});var qE=A(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.getAwsChunkedEncodingStream=void 0;var tU=require("stream"),rU=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=t,c=r!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,d=c?a(s,e):void 0,l=new tU.Readable({read:()=>{}});return e.on("data",p=>{let m=n(p)||0;l.push(`${m.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),c){let p=r(await d);l.push(`${o}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};_d.getAwsChunkedEncodingStream=rU});var VE=A(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.headStream=nU;async function nU(e,t){var r;let n=0,s=[],o=e.getReader(),a=!1;for(;!a;){let{done:l,value:p}=await o.read();if(p&&(s.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;a=l}o.releaseLock();let c=new Uint8Array(Math.min(t,n)),d=0;for(let l of s){if(l.byteLength>c.byteLength-d){c.set(l.subarray(0,c.byteLength-d),d);break}else c.set(l,d);d+=l.length}return c}});var zE=A(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.headStream=void 0;var sU=require("stream"),oU=VE(),iU=on(),aU=(e,t)=>(0,iU.isReadableStream)(e)?(0,oU.headStream)(e,t):new Promise((r,n)=>{let s=new Rm;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});yd.headStream=aU;var Rm=class extends sU.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var s;if(this.buffers.push(t),this.bytesBuffered+=(s=t.byteLength)!==null&&s!==void 0?s:0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,a=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=a.subarray(0,a.byteLength-o),this.emit("finish")}n()}}});var Nm=A((Qce,JE)=>{var Sd=Object.defineProperty,cU=Object.getOwnPropertyDescriptor,dU=Object.getOwnPropertyNames,lU=Object.prototype.hasOwnProperty,Tm=(e,t)=>Sd(e,"name",{value:t,configurable:!0}),uU=(e,t)=>{for(var r in t)Sd(e,r,{get:t[r],enumerable:!0})},pU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dU(t))!lU.call(e,s)&&s!==r&&Sd(e,s,{get:()=>t[s],enumerable:!(n=cU(t,s))||n.enumerable});return e},mU=e=>pU(Sd({},"__esModule",{value:!0}),e),GE={};uU(GE,{escapeUri:()=>WE,escapeUriPath:()=>hU});JE.exports=mU(GE);var WE=Tm(e=>encodeURIComponent(e).replace(/[!'()*]/g,fU),"escapeUri"),fU=Tm(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),hU=Tm(e=>e.split("/").map(WE).join("/"),"escapeUriPath")});var km=A((Zce,XE)=>{var Ed=Object.defineProperty,gU=Object.getOwnPropertyDescriptor,_U=Object.getOwnPropertyNames,yU=Object.prototype.hasOwnProperty,SU=(e,t)=>Ed(e,"name",{value:t,configurable:!0}),EU=(e,t)=>{for(var r in t)Ed(e,r,{get:t[r],enumerable:!0})},vU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _U(t))!yU.call(e,s)&&s!==r&&Ed(e,s,{get:()=>t[s],enumerable:!(n=gU(t,s))||n.enumerable});return e},bU=e=>vU(Ed({},"__esModule",{value:!0}),e),KE={};EU(KE,{buildQueryString:()=>YE});XE.exports=bU(KE);var Dm=Nm();function YE(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Dm.escapeUri)(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${(0,Dm.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Dm.escapeUri)(n)}`),t.push(s)}}return t.join("&")}SU(YE,"buildQueryString")});var an=A((ede,mv)=>{var CU=Object.create,qi=Object.defineProperty,wU=Object.getOwnPropertyDescriptor,PU=Object.getOwnPropertyNames,xU=Object.getPrototypeOf,AU=Object.prototype.hasOwnProperty,ue=(e,t)=>qi(e,"name",{value:t,configurable:!0}),OU=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},rv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PU(t))!AU.call(e,s)&&s!==r&&qi(e,s,{get:()=>t[s],enumerable:!(n=wU(t,s))||n.enumerable});return e},IU=(e,t,r)=>(r=e!=null?CU(xU(e)):{},rv(t||!e||!e.__esModule?qi(r,"default",{value:e,enumerable:!0}):r,e)),RU=e=>rv(qi({},"__esModule",{value:!0}),e),sv={};OU(sv,{DEFAULT_REQUEST_TIMEOUT:()=>lv,NodeHttp2Handler:()=>$U,NodeHttpHandler:()=>LU,streamCollector:()=>HU});mv.exports=RU(sv);var ov=le(),iv=km(),Mm=require("http"),Lm=require("https"),TU=["ECONNRESET","EPIPE","ETIMEDOUT"],av=ue(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),nt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},QE=1e3,NU=ue((e,t,r=0)=>{if(!r)return-1;let n=ue(s=>{let o=nt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-s),a=ue(c=>{c?.connecting?c.on("connect",()=>{nt.clearTimeout(o)}):nt.clearTimeout(o)},"doWithSocket");e.socket?a(e.socket):e.on("socket",a)},"registerTimeout");return r<2e3?(n(0),0):nt.setTimeout(n.bind(null,QE),QE)},"setConnectionTimeout"),DU=3e3,kU=ue((e,{keepAlive:t,keepAliveMsecs:r},n=DU)=>{if(t!==!0)return-1;let s=ue(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})},"registerListener");return n===0?(s(),0):nt.setTimeout(s,n)},"setSocketKeepAlive"),ZE=3e3,MU=ue((e,t,r=lv)=>{let n=ue(s=>{let o=r-s,a=ue(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(o,a),e.on("close",()=>e.socket?.removeListener("timeout",a))):e.setTimeout(o,a)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):nt.setTimeout(n.bind(null,r===0?0:ZE),ZE)},"setSocketTimeout"),cv=require("stream"),ev=6e3;async function Fm(e,t,r=ev){let n=t.headers??{},s=n.Expect||n.expect,o=-1,a=!0;s==="100-continue"&&(a=await Promise.race([new Promise(c=>{o=Number(nt.setTimeout(()=>c(!0),Math.max(ev,r)))}),new Promise(c=>{e.on("continue",()=>{nt.clearTimeout(o),c(!0)}),e.on("response",()=>{nt.clearTimeout(o),c(!1)}),e.on("error",()=>{nt.clearTimeout(o),c(!1)})})])),a&&dv(e,t.body)}ue(Fm,"writeRequestBody");function dv(e,t){if(t instanceof cv.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ue(dv,"writeBody");var lv=0,LU=class jm{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ue(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new jm(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let d in s){let l=s[d]?.length??0,p=o[d]?.length??0;if(l>=a&&p>=2*a)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:a,httpsAgent:c}=t||{},d=!0,l=50;return{connectionTimeout:n,requestTimeout:r??s,socketAcquisitionWarningTimeout:o,httpAgent:a instanceof Mm.Agent||typeof a?.destroy=="function"?a:new Mm.Agent({keepAlive:d,maxSockets:l,...a}),httpsAgent:c instanceof Lm.Agent||typeof c?.destroy=="function"?c:new Lm.Agent({keepAlive:d,maxSockets:l,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let a,c=[],d=ue(async $=>{await a,c.forEach(nt.clearTimeout),s($)},"resolve"),l=ue(async $=>{await a,c.forEach(nt.clearTimeout),o($)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let $=new Error("Request aborted");$.name="AbortError",l($);return}let p=t.protocol==="https:",m=p?this.config.httpsAgent:this.config.httpAgent;c.push(nt.setTimeout(()=>{this.socketWarningTimestamp=jm.checkSocketUsage(m,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,iv.buildQueryString)(t.query||{}),f;if(t.username!=null||t.password!=null){let $=t.username??"",G=t.password??"";f=`${$}:${G}`}let y=t.path;h&&(y+=`?${h}`),t.fragment&&(y+=`#${t.fragment}`);let _=t.hostname??"";_[0]==="["&&_.endsWith("]")?_=t.hostname.slice(1,-1):_=t.hostname;let b={headers:t.headers,host:_,method:t.method,path:y,port:t.port,agent:m,auth:f},C=(p?Lm.request:Mm.request)(b,$=>{let G=new ov.HttpResponse({statusCode:$.statusCode||-1,reason:$.statusMessage,headers:av($.headers),body:$});d({response:G})});if(C.on("error",$=>{TU.includes($.code)?l(Object.assign($,{name:"TimeoutError"})):l($)}),r){let $=ue(()=>{C.destroy();let G=new Error("Request aborted");G.name="AbortError",l(G)},"onAbort");if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",$,{once:!0}),C.once("close",()=>G.removeEventListener("abort",$))}else r.onabort=$}let q=n??this.config.requestTimeout;c.push(NU(C,l,this.config.connectionTimeout)),c.push(MU(C,l,q));let F=b.agent;typeof F=="object"&&"keepAlive"in F&&c.push(kU(C,{keepAlive:F.keepAlive,keepAliveMsecs:F.keepAliveMsecs})),a=Fm(C,t,q).catch($=>(c.forEach(nt.clearTimeout),o($)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},tv=require("http2"),jU=IU(require("http2")),FU=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ue(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},UU=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ue(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let c=n.poll();if(c&&!this.config.disableConcurrency)return c}let s=jU.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let o=ue(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",o),s.on("error",o),s.on("frameError",o),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,o);let a=this.sessionCache.get(r)||new FU;return a.offerLast(s),this.sessionCache.set(r,a),s}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},$U=class uv{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new UU({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}static{ue(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new uv(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,a=n??s;return new Promise((c,d)=>{let l=!1,p,m=ue(async W=>{await p,c(W)},"resolve"),h=ue(async W=>{await p,d(W)},"reject");if(r?.aborted){l=!0;let W=new Error("Request aborted");W.name="AbortError",h(W);return}let{hostname:f,method:y,port:_,protocol:b,query:P}=t,C="";if(t.username!=null||t.password!=null){let W=t.username??"",ce=t.password??"";C=`${W}:${ce}@`}let q=`${b}//${C}${f}${_?`:${_}`:""}`,F={destination:new URL(q)},$=this.connectionManager.lease(F,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),G=ue(W=>{o&&this.destroySession($),l=!0,h(W)},"rejectWithDestroy"),ie=(0,iv.buildQueryString)(P||{}),ee=t.path;ie&&(ee+=`?${ie}`),t.fragment&&(ee+=`#${t.fragment}`);let ae=$.request({...t.headers,[tv.constants.HTTP2_HEADER_PATH]:ee,[tv.constants.HTTP2_HEADER_METHOD]:y});if($.ref(),ae.on("response",W=>{let ce=new ov.HttpResponse({statusCode:W[":status"]||-1,headers:av(W),body:ae});l=!0,m({response:ce}),o&&($.close(),this.connectionManager.deleteSession(q,$))}),a&&ae.setTimeout(a,()=>{ae.close();let W=new Error(`Stream timed out because of no activity for ${a} ms`);W.name="TimeoutError",G(W)}),r){let W=ue(()=>{ae.close();let ce=new Error("Request aborted");ce.name="AbortError",G(ce)},"onAbort");if(typeof r.addEventListener=="function"){let ce=r;ce.addEventListener("abort",W,{once:!0}),ae.once("close",()=>ce.removeEventListener("abort",W))}else r.onabort=W}ae.on("frameError",(W,ce,_c)=>{G(new Error(`Frame type id ${W} in stream id ${_c} has failed with code ${ce}.`))}),ae.on("error",G),ae.on("aborted",()=>{G(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ae.rstCode}.`))}),ae.on("close",()=>{$.unref(),o&&$.destroy(),l||G(new Error("Unexpected error: http2 request did not get a response"))}),p=Fm(ae,t,a)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},BU=class extends cv.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ue(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},HU=ue(e=>qU(e)?pv(e):new Promise((t,r)=>{let n=new BU;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),"streamCollector"),qU=ue(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function pv(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=c}let o=new Uint8Array(s),a=0;for(let c of t)o.set(c,a),a+=c.length;return o}ue(pv,"collectReadableStream")});var bv=A((sde,vv)=>{var bd=Object.defineProperty,VU=Object.getOwnPropertyDescriptor,zU=Object.getOwnPropertyNames,GU=Object.prototype.hasOwnProperty,rr=(e,t)=>bd(e,"name",{value:t,configurable:!0}),WU=(e,t)=>{for(var r in t)bd(e,r,{get:t[r],enumerable:!0})},JU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zU(t))!GU.call(e,s)&&s!==r&&bd(e,s,{get:()=>t[s],enumerable:!(n=VU(t,s))||n.enumerable});return e},KU=e=>JU(bd({},"__esModule",{value:!0}),e),hv={};WU(hv,{FetchHttpHandler:()=>XU,keepAliveSupport:()=>vd,streamCollector:()=>ZU});vv.exports=KU(hv);var fv=le(),YU=km();function Um(e,t){return new Request(e,t)}rr(Um,"createRequest");function gv(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}rr(gv,"requestTimeout");var vd={supported:void 0},XU=class _v{static{rr(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new _v(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),vd.supported===void 0&&(vd.supported=typeof Request<"u"&&"keepalive"in Um("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,a=this.config.credentials;if(r?.aborted){let C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let c=t.path,d=(0,YU.buildQueryString)(t.query||{});d&&(c+=`?${d}`),t.fragment&&(c+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let C=t.username??"",q=t.password??"";l=`${C}:${q}@`}let{port:p,method:m}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${c}`,f=m==="GET"||m==="HEAD"?void 0:t.body,y={body:f,headers:new Headers(t.headers),method:m,credentials:a};this.config?.cache&&(y.cache=this.config.cache),f&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),vd.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let _=rr(()=>{},"removeSignalEventListener"),b=Um(h,y),P=[fetch(b).then(C=>{let q=C.headers,F={};for(let G of q.entries())F[G[0]]=G[1];return C.body!=null?{response:new fv.HttpResponse({headers:F,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(G=>({response:new fv.HttpResponse({headers:F,reason:C.statusText,statusCode:C.status,body:G})}))}),gv(s)];return r&&P.push(new Promise((C,q)=>{let F=rr(()=>{let $=new Error("Request aborted");$.name="AbortError",q($)},"onAbort");if(typeof r.addEventListener=="function"){let $=r;$.addEventListener("abort",F,{once:!0}),_=rr(()=>$.removeEventListener("abort",F),"removeSignalEventListener")}else r.onabort=F})),Promise.race(P).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},QU=Ge(),ZU=rr(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):yv(e):Sv(e),"streamCollector");async function yv(e){let t=await Ev(e),r=(0,QU.fromBase64)(t);return new Uint8Array(r)}rr(yv,"collectBlob");async function Sv(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=c}let o=new Uint8Array(s),a=0;for(let c of t)o.set(c,a),a+=c.length;return o}rr(Sv,"collectStream");function Ev(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),a=o>-1?o+1:s.length;t(s.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}rr(Ev,"readToBase64")});var Bm=A((ode,Ov)=>{var Cd=Object.defineProperty,e$=Object.getOwnPropertyDescriptor,t$=Object.getOwnPropertyNames,r$=Object.prototype.hasOwnProperty,Cv=(e,t)=>Cd(e,"name",{value:t,configurable:!0}),n$=(e,t)=>{for(var r in t)Cd(e,r,{get:t[r],enumerable:!0})},s$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of t$(t))!r$.call(e,s)&&s!==r&&Cd(e,s,{get:()=>t[s],enumerable:!(n=e$(t,s))||n.enumerable});return e},o$=e=>s$(Cd({},"__esModule",{value:!0}),e),wv={};n$(wv,{fromHex:()=>xv,toHex:()=>Av});Ov.exports=o$(wv);var Pv={},$m={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Pv[e]=t,$m[t]=e}function xv(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in $m)t[r/2]=$m[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Cv(xv,"fromHex");function Av(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Pv[e[r]];return t}Cv(Av,"toHex")});var Nv=A(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.sdkStreamMixin=void 0;var i$=bv(),a$=Ge(),c$=Bm(),d$=ke(),Iv=on(),Rv="The stream has already been transformed.",l$=e=>{var t,r;if(!Tv(e)&&!(0,Iv.isReadableStream)(e)){let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${a}`)}let n=!1,s=async()=>{if(n)throw new Error(Rv);return n=!0,await(0,i$.streamCollector)(e)},o=a=>{if(typeof a.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return a.stream()};return Object.assign(e,{transformToByteArray:s,transformToString:async a=>{let c=await s();if(a==="base64")return(0,a$.toBase64)(c);if(a==="hex")return(0,c$.toHex)(c);if(a===void 0||a==="utf8"||a==="utf-8")return(0,d$.toUtf8)(c);if(typeof TextDecoder=="function")return new TextDecoder(a).decode(c);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Rv);if(n=!0,Tv(e))return o(e);if((0,Iv.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};wd.sdkStreamMixin=l$;var Tv=e=>typeof Blob=="function"&&e instanceof Blob});var kv=A(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.sdkStreamMixin=void 0;var u$=an(),p$=Oo(),Hm=require("stream"),m$=Nv(),Dv="The stream has already been transformed.",f$=e=>{var t,r;if(!(e instanceof Hm.Readable))try{return(0,m$.sdkStreamMixin)(e)}catch{let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${a}`)}let n=!1,s=async()=>{if(n)throw new Error(Dv);return n=!0,await(0,u$.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let a=await s();return o===void 0||Buffer.isEncoding(o)?(0,p$.fromArrayBuffer)(a.buffer,a.byteOffset,a.byteLength).toString(o):new TextDecoder(o).decode(a)},transformToWebStream:()=>{if(n)throw new Error(Dv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Hm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Hm.Readable.toWeb(e)}})};Pd.sdkStreamMixin=f$});var Mv=A(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.splitStream=h$;async function h$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Fv=A(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.splitStream=_$;var Lv=require("stream"),g$=Mv(),jv=on();async function _$(e){if((0,jv.isReadableStream)(e)||(0,jv.isBlob)(e))return(0,g$.splitStream)(e);let t=new Lv.PassThrough,r=new Lv.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ad=A((lde,sr)=>{var xd=Object.defineProperty,y$=Object.getOwnPropertyDescriptor,S$=Object.getOwnPropertyNames,E$=Object.prototype.hasOwnProperty,Wm=(e,t)=>xd(e,"name",{value:t,configurable:!0}),v$=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},zm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of S$(t))!E$.call(e,s)&&s!==r&&xd(e,s,{get:()=>t[s],enumerable:!(n=y$(t,s))||n.enumerable});return e},cn=(e,t,r)=>(zm(e,t,"default"),r&&zm(r,t,"default")),b$=e=>zm(xd({},"__esModule",{value:!0}),e),nr={};v$(nr,{Uint8ArrayBlobAdapter:()=>Gm});sr.exports=b$(nr);var Uv=Ge(),$v=ke();function Bv(e,t="utf-8"){return t==="base64"?(0,Uv.toBase64)(e):(0,$v.toUtf8)(e)}Wm(Bv,"transformToString");function Hv(e,t){return t==="base64"?Gm.mutate((0,Uv.fromBase64)(e)):Gm.mutate((0,$v.fromUtf8)(e))}Wm(Hv,"transformFromString");var Gm=class qv extends Uint8Array{static{Wm(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Hv(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,qv.prototype),t}transformToString(t="utf-8"){return Bv(this,t)}};cn(nr,Cm(),sr.exports);cn(nr,LE(),sr.exports);cn(nr,HE(),sr.exports);cn(nr,qE(),sr.exports);cn(nr,zE(),sr.exports);cn(nr,kv(),sr.exports);cn(nr,Fv(),sr.exports);cn(nr,on(),sr.exports)});var Od,$t,Id=S(()=>{Od=w(Ad()),$t=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Od.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Od.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Od.Uint8ArrayBlobAdapter.mutate(await r)}});function or(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Rd=S(()=>{});var xr,Jm=S(()=>{xr=e=>typeof e=="function"?e():e});var Vv=S(()=>{});var Ye,zv=S(()=>{Ye=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Ye.registries=new Map});var ir,To=S(()=>{ir=class{constructor(t,r){this.name=t,this.traits=r}}});var Vi,Km=S(()=>{To();Vi=class e extends ir{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Vi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var zi,Ym=S(()=>{To();zi=class e extends ir{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zi.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Gv=S(()=>{});var ss,Td=S(()=>{To();ss=class e extends ir{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let o=0;o<n.length;++o)this.members[n[o]]=Array.isArray(s[o])?s[o]:[s[o],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ss.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var Xm,Wv=S(()=>{Td();Xm=class e extends ss{constructor(t,r,n,s,o){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xm.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var U,Qm=S(()=>{U={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Gi,Zm=S(()=>{To();Gi=class e extends ir{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Gi.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var z,Jv=S(()=>{Jm();Km();Ym();Qm();Zm();Td();z=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],s=t,o=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],o=xr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){let c=n[a];Object.assign(this.memberTraits,e.translateTraits(c))}}else this.memberTraits=0;if(o instanceof e){this.name=o.name,this.traits=o.traits,this._isMemberSchema=o._isMemberSchema,this.schema=o.schema,this.memberTraits=Object.assign({},o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=o.ref,this.memberName=r??o.memberName;return}if(this.schema=xr(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Gi?xr(this.schema.schemaRef):xr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=U.LIST_MODIFIER&&t<U.MAP_MODIFIER:t instanceof Vi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=U.MAP_MODIFIER&&t<=255:t instanceof zi}isDocumentSchema(){return this.getSchema()===U.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof ss}isBlobSchema(){return this.getSchema()===U.BLOB||this.getSchema()===U.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=U.TIMESTAMP_DEFAULT&&t<=U.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===U.STRING}isBooleanSchema(){return this.getSchema()===U.BOOLEAN}isNumericSchema(){return this.getSchema()===U.NUMERIC}isBigIntegerSchema(){return this.getSchema()===U.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===U.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===U.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([U.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([U.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([U.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let s of r.memberNames)n[s]=this.getMemberSchema(s);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,s=Object.entries(U).find(([,o])=>o===r)?.[0]??"Unknown";switch(n){case U.MAP_MODIFIER:return`${s}Map`;case U.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}};z.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Me=S(()=>{Jm();Vv();Km();Ym();Gv();Wv();Jv();To();Zm();Td();Qm();zv()});var C$,Kv=S(()=>{C$=(e,t,r=n=>n)=>e});var w$,P$,Wi,x$,Nd,Ji,A$,ef,tf,rf,nf,O$,I$,Yv,R$,T$,kd,N$,sf,D$,No,of,k$,M$,L$,Xv,Qv,j$,F$,os,af,Dd,Ki,cf=S(()=>{w$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},P$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ki.warn(Dd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ki.warn(Dd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Wi=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ki.warn(Dd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},x$=Math.ceil(34028234663852886e22),Nd=e=>{let t=Wi(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>x$)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ji=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},A$=Ji,ef=e=>nf(e,32),tf=e=>nf(e,16),rf=e=>nf(e,8),nf=(e,t)=>{let r=Ji(e);if(r!==void 0&&O$(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},O$=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},I$=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Yv=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},R$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ki.warn(Dd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},T$=e=>{if(e==null)return;let t=Yv(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},kd=e=>Wi(typeof e=="string"?No(e):e),N$=kd,sf=e=>Nd(typeof e=="string"?No(e):e),D$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,No=e=>{let t=e.match(D$);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},of=e=>typeof e=="string"?Xv(e):Wi(e),k$=of,M$=of,L$=e=>typeof e=="string"?Xv(e):Nd(e),Xv=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Qv=e=>Ji(typeof e=="string"?No(e):e),j$=Qv,F$=e=>ef(typeof e=="string"?No(e):e),os=e=>tf(typeof e=="string"?No(e):e),af=e=>rf(typeof e=="string"?No(e):e),Dd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ki={warn:console.warn}});function Xi(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,p=a<10?`0${a}`:`${a}`,m=c<10?`0${c}`:`${c}`;return`${U$[n]}, ${d} ${lf[r]} ${t} ${l}:${p}:${m} GMT`}var U$,lf,$$,B$,H$,Qi,q$,V$,z$,Zi,ea,Yi,G$,W$,J$,df,K$,Y$,X$,ar,Q$,Z$,Do,Zv=S(()=>{cf();U$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),B$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=$$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,a,c,d,l]=t,p=os(Do(n)),m=ar(s,"month",1,12),h=ar(o,"day",1,31);return Yi(p,m,h,{hours:a,minutes:c,seconds:d,fractionalMilliseconds:l})},H$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Qi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=H$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,a,c,d,l,p]=t,m=os(Do(n)),h=ar(s,"month",1,12),f=ar(o,"day",1,31),y=Yi(m,h,f,{hours:a,minutes:c,seconds:d,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&y.setTime(y.getTime()-Z$(p)),y},q$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),V$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),z$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Zi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=q$.exec(e);if(t){let[r,n,s,o,a,c,d,l]=t;return Yi(os(Do(o)),df(s),ar(n,"day",1,31),{hours:a,minutes:c,seconds:d,fractionalMilliseconds:l})}if(t=V$.exec(e),t){let[r,n,s,o,a,c,d,l]=t;return J$(Yi(G$(o),df(s),ar(n,"day",1,31),{hours:a,minutes:c,seconds:d,fractionalMilliseconds:l}))}if(t=z$.exec(e),t){let[r,n,s,o,a,c,d,l]=t;return Yi(os(Do(l)),df(n),ar(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},ea=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=kd(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Yi=(e,t,r,n)=>{let s=t-1;return Y$(e,s,r),new Date(Date.UTC(e,s,r,ar(n.hours,"hour",0,23),ar(n.minutes,"minute",0,59),ar(n.seconds,"seconds",0,60),Q$(n.fractionalMilliseconds)))},G$=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+os(Do(e));return r<t?r+100:r},W$=50*365*24*60*60*1e3,J$=e=>e.getTime()-new Date().getTime()>W$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,df=e=>{let t=lf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},K$=[31,28,31,30,31,30,31,31,30,31,30,31],Y$=(e,t,r)=>{let n=K$[t];if(t===1&&X$(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${lf[t]} in ${e}: ${r}`)},X$=e=>e%4===0&&(e%100!==0||e%400===0),ar=(e,t,r,n)=>{let s=af(Do(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},Q$=e=>e==null?0:sf("0."+e)*1e3,Z$=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Do=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function ta(){return Md>Ld.length-16&&(eb.default.randomFillSync(Ld),Md=0),Ld.slice(Md,Md+=16)}var eb,Ld,Md,uf=S(()=>{eb=w(require("crypto")),Ld=new Uint8Array(256),Md=Ld.length});var tb,rb=S(()=>{tb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function eB(e){return typeof e=="string"&&tb.test(e)}var dn,ra=S(()=>{rb();dn=eB});function is(e,t=0){return Ue[e[t+0]]+Ue[e[t+1]]+Ue[e[t+2]]+Ue[e[t+3]]+"-"+Ue[e[t+4]]+Ue[e[t+5]]+"-"+Ue[e[t+6]]+Ue[e[t+7]]+"-"+Ue[e[t+8]]+Ue[e[t+9]]+"-"+Ue[e[t+10]]+Ue[e[t+11]]+Ue[e[t+12]]+Ue[e[t+13]]+Ue[e[t+14]]+Ue[e[t+15]]}function tB(e,t=0){let r=is(e,t);if(!dn(r))throw TypeError("Stringified UUID is invalid");return r}var Ue,nb,na=S(()=>{ra();Ue=[];for(let e=0;e<256;++e)Ue.push((e+256).toString(16).slice(1));nb=tB});function rB(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let o=e.node||sb,a=e.clockseq!==void 0?e.clockseq:pf;if(o==null||a==null){let h=e.random||(e.rng||ta)();o==null&&(o=sb=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),a==null&&(a=pf=(h[6]<<8|h[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),d=e.nsecs!==void 0?e.nsecs:ff+1,l=c-mf+(d-ff)/1e4;if(l<0&&e.clockseq===void 0&&(a=a+1&16383),(l<0||c>mf)&&e.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mf=c,ff=d,pf=a,c+=122192928e5;let p=((c&268435455)*1e4+d)%4294967296;s[n++]=p>>>24&255,s[n++]=p>>>16&255,s[n++]=p>>>8&255,s[n++]=p&255;let m=c/4294967296*1e4&268435455;s[n++]=m>>>8&255,s[n++]=m&255,s[n++]=m>>>24&15|16,s[n++]=m>>>16&255,s[n++]=a>>>8|128,s[n++]=a&255;for(let h=0;h<6;++h)s[n+h]=o[h];return t||is(s)}var sb,pf,mf,ff,ob,ib=S(()=>{uf();na();mf=0,ff=0;ob=rB});function nB(e){if(!dn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var jd,hf=S(()=>{ra();jd=nB});function sB(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function sa(e,t,r){function n(s,o,a,c){var d;if(typeof s=="string"&&(s=sB(s)),typeof o=="string"&&(o=jd(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(o),l.set(s,o.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){c=c||0;for(let p=0;p<16;++p)a[c+p]=l[p];return a}return is(l)}try{n.name=e}catch{}return n.DNS=oB,n.URL=iB,n}var oB,iB,gf=S(()=>{na();hf();oB="6ba7b810-9dad-11d1-80b4-00c04fd430c8",iB="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function aB(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ab.default.createHash("md5").update(e).digest()}var ab,cb,db=S(()=>{ab=w(require("crypto"));cb=aB});var cB,lb,ub=S(()=>{gf();db();cB=sa("v3",48,cb),lb=cB});var pb,_f,mb=S(()=>{pb=w(require("crypto")),_f={randomUUID:pb.default.randomUUID}});function dB(e,t,r){if(_f.randomUUID&&!t&&!e)return _f.randomUUID();e=e||{};let n=e.random||(e.rng||ta)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return is(n)}var cr,fb=S(()=>{mb();uf();na();cr=dB});function lB(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),hb.default.createHash("sha1").update(e).digest()}var hb,gb,_b=S(()=>{hb=w(require("crypto"));gb=lB});var uB,yb,Sb=S(()=>{gf();_b();uB=sa("v5",80,gb),yb=uB});var Eb,vb=S(()=>{Eb="00000000-0000-0000-0000-000000000000"});function pB(e){if(!dn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var bb,Cb=S(()=>{ra();bb=pB});var Fd={};jt(Fd,{NIL:()=>Eb,parse:()=>jd,stringify:()=>nb,v1:()=>ob,v3:()=>lb,v4:()=>cr,v5:()=>yb,validate:()=>dn,version:()=>bb});var oa=S(()=>{ib();ub();fb();Sb();vb();Cb();ra();na();hf()});var wb=S(()=>{oa()});var Xe,Pb=S(()=>{Xe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Xe.from=e=>e&&typeof e=="object"&&(e instanceof Xe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Xe(String(e)):Xe(JSON.stringify(e));Xe.fromObject=Xe.from});function yf(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var xb=S(()=>{});function Sf(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let a=0;a<n.length;a++)o===""?o=n[a]:o+=t+n[a],(a+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var Ab=S(()=>{});var ia,Ob=S(()=>{ia=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let a=0;a<t;++a){let c=e[a];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,a)),o=a+1);break;default:}s=c}return r.push(e.slice(o)),r.map(a=>{a=a.trim();let c=a.length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})}});function mB(e){return new $e(String(e),"bigDecimal")}var $e,Ib=S(()=>{$e=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let s=0;s<t.length;++s){let o=t.charCodeAt(s);if(!(s===0&&o===45)){if(o===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(o<48||o>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var Rb={};jt(Rb,{LazyJsonString:()=>Xe,NumericValue:()=>$e,copyDocumentWithTransform:()=>C$,dateToUtcString:()=>Xi,expectBoolean:()=>P$,expectByte:()=>rf,expectFloat32:()=>Nd,expectInt:()=>A$,expectInt32:()=>ef,expectLong:()=>Ji,expectNonNull:()=>I$,expectNumber:()=>Wi,expectObject:()=>Yv,expectShort:()=>tf,expectString:()=>R$,expectUnion:()=>T$,generateIdempotencyToken:()=>cr,handleFloat:()=>k$,limitedParseDouble:()=>of,limitedParseFloat:()=>M$,limitedParseFloat32:()=>L$,logger:()=>Ki,nv:()=>mB,parseBoolean:()=>w$,parseEpochTimestamp:()=>ea,parseRfc3339DateTime:()=>B$,parseRfc3339DateTimeWithOffset:()=>Qi,parseRfc7231DateTime:()=>Zi,quoteHeader:()=>yf,splitEvery:()=>Sf,splitHeader:()=>ia,strictParseByte:()=>af,strictParseDouble:()=>kd,strictParseFloat:()=>N$,strictParseFloat32:()=>sf,strictParseInt:()=>j$,strictParseInt32:()=>F$,strictParseLong:()=>Qv,strictParseShort:()=>os});var Bt=S(()=>{Kv();Zv();wb();Pb();cf();xb();Ab();Ob();Ib()});var Ud,ko,Ef=S(()=>{Me();Ud=w(le()),ko=class{constructor(t){this.options=t}getRequestType(){return Ud.HttpRequest}getResponseType(){return Ud.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,s]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=z.of(r),o=z.of(r.input);if(s.getMergedTraits().endpoint){let a=s.getMergedTraits().endpoint?.[0];if(typeof a=="string"){let c=[...o.structIterator()].filter(([,d])=>d.getMergedTraits().hostLabel);for(let[d]of c){let l=n[d];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${d} in input must be a string as hostLabel.`);a=a.replace(`{${d}}`,l)}t.hostname=a+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,s,o){return[]}}});var Tb,Nb,as,Db=S(()=>{Me();Bt();Tb=w(le()),Nb=w(Ad());Id();Rd();Ef();as=class extends ko{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,a={},c={},d=await n.endpoint(),l=z.of(t?.input),p=l.getSchema(),m=!1,h,f=new Tb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:c,body:void 0});if(d){this.updateServiceEndpoint(f,d),this.setHostPrefix(f,t,s);let y=z.translateTraits(t.traits);if(y.http){f.method=y.http[0];let[_,b]=y.http[1].split("?");f.path=="/"?f.path=_:f.path+=_;let P=new URLSearchParams(b??"");Object.assign(a,Object.fromEntries(P))}}for(let[y,_]of l.structIterator()){let b=_.getMergedTraits()??{},P=s[y];if(P!=null)if(b.httpPayload){if(_.isStreaming()){if(_.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=P}else o.write(_,P),h=o.flush();delete s[y]}else if(b.httpLabel){o.write(_,P);let C=o.flush();f.path.includes(`{${y}+}`)?f.path=f.path.replace(`{${y}+}`,C.split("/").map(or).join("/")):f.path.includes(`{${y}}`)&&(f.path=f.path.replace(`{${y}}`,or(C))),delete s[y]}else if(b.httpHeader)o.write(_,P),c[b.httpHeader.toLowerCase()]=String(o.flush()),delete s[y];else if(typeof b.httpPrefixHeaders=="string"){for(let[C,q]of Object.entries(P)){let F=b.httpPrefixHeaders+C;o.write([_.getValueSchema(),{httpHeader:F}],q),c[F.toLowerCase()]=o.flush()}delete s[y]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(_,P,a),delete s[y]):m=!0}return m&&s&&(o.write(p,s),h=o.flush()),f.headers=c,f.query=a,f.body=h,f}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[a,c]of Object.entries(r))a in n||this.serializeQuery(z.of([t.getValueSchema(),{...o,httpQuery:a,httpQueryParams:void 0}]),c,n);return}if(t.isListSchema()){let a=!!t.getMergedTraits().sparse,c=[];for(let d of r){s.write([t.getValueSchema(),o],d);let l=s.flush();(a||l!==void 0)&&c.push(l)}n[o.httpQuery]=c}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),a={};if(n.statusCode>=300){let l=await $t(n.body,r);throw l.byteLength>0&&Object.assign(a,await s.read(U.DOCUMENT,l)),await this.handleError(t,r,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let c=await this.deserializeHttpMessage(o,r,n,a);if(c.length){let l=await $t(n.body,r);if(l.byteLength>0){let p=await s.read(o,l);for(let m of c)a[m]=p[m]}}return{$metadata:this.deserializeMetadata(n),...a}}async deserializeHttpMessage(t,r,n,s,o){let a;s instanceof Set?a=o:a=s;let c=this.deserializer,d=z.of(t),l=[];for(let[p,m]of d.structIterator()){let h=m.getMemberTraits();if(h.httpPayload){if(m.isStreaming())if(m.isStructSchema()){let _=this.serdeContext;if(!_.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let b=m.getMemberSchemas();a[p]=_.eventStreamMarshaller.deserialize(n.body,async P=>{let C=Object.keys(P).find(q=>q!=="__type")??"";if(C in b){let q=b[C];return{[C]:await c.read(q,P[C].body)}}else return{$unknown:P}})}else a[p]=(0,Nb.sdkStreamMixin)(n.body);else if(n.body){let y=await $t(n.body,r);y.byteLength>0&&(a[p]=await c.read(m,y))}}else if(h.httpHeader){let f=String(h.httpHeader).toLowerCase(),y=n.headers[f];if(y!=null)if(m.isListSchema()){let _=m.getValueSchema(),b;_.isTimestampSchema()&&_.getSchema()===U.TIMESTAMP_DEFAULT?b=Sf(y,",",2):b=ia(y);let P=[];for(let C of b)P.push(await c.read([_,{httpHeader:f}],C.trim()));a[p]=P}else a[p]=await c.read(m,y)}else if(h.httpPrefixHeaders!==void 0){a[p]={};for(let[f,y]of Object.entries(n.headers))f.startsWith(h.httpPrefixHeaders)&&(a[p][f.slice(h.httpPrefixHeaders.length)]=await c.read([m.getValueSchema(),{httpHeader:f}],y))}else h.httpResponseCode?a[p]=n.statusCode:l.push(p)}return l}}});var kb,cs,Mb=S(()=>{Me();kb=w(le());Id();Ef();cs=class extends ko{async serializeRequest(t,r,n){let s=this.serializer,o={},a={},c=await n.endpoint(),l=z.of(t?.input).getSchema(),p,m=new kb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:a,body:void 0});c&&(this.updateServiceEndpoint(m,c),this.setHostPrefix(m,t,r));let h={...r};return r&&(s.write(l,h),p=s.flush()),m.headers=a,m.query=o,m.body=p,m.method="POST",m}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),a={};if(n.statusCode>=300){let l=await $t(n.body,r);throw l.byteLength>0&&Object.assign(a,await s.read(U.DOCUMENT,l)),await this.handleError(t,r,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let c=await $t(n.body,r);return c.byteLength>0&&Object.assign(a,await s.read(o,c)),{$metadata:this.deserializeMetadata(n),...a}}}});var vf,bf=S(()=>{Rd();vf=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?a.split("/").map(c=>or(c)).join("/"):or(a))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function aa(e,t){return new $d(e,t)}var Lb,$d,jb=S(()=>{Lb=w(le());bf();$d=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new Lb.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=vf(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function ds(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===U.TIMESTAMP_DATE_TIME||e.getSchema()===U.TIMESTAMP_HTTP_DATE||e.getSchema()===U.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?U.TIMESTAMP_HTTP_DATE:o||r?U.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Bd=S(()=>{Me()});var Cf,Fb,ls,wf=S(()=>{Me();Bt();Cf=w(Ge()),Fb=w(ke());Bd();ls=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=z.of(t);if(n.isListSchema())return ia(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Cf.fromBase64)(r);if(n.isTimestampSchema())switch(ds(n,this.settings)){case U.TIMESTAMP_DATE_TIME:return Qi(r);case U.TIMESTAMP_HTTP_DATE:return Zi(r);case U.TIMESTAMP_EPOCH_SECONDS:return ea(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=Xe.from(o)),o}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new $e(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Fb.toUtf8)((this.serdeContext?.base64Decoder??Cf.fromBase64)(t))}}});var Hd,us,Ub=S(()=>{Me();Hd=w(ke());wf();us=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new ls(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=z.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Hd.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??Hd.fromUtf8;return typeof r=="string"?a(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var Pf,ca,xf=S(()=>{Me();Bt();Pf=w(Ge());Bd();ca=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=z.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(ds(n,this.settings)){case U.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case U.TIMESTAMP_HTTP_DATE:this.stringBuffer=Xi(r);break;case U.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Pf.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let a="";for(let c of r){this.write([n.getValueSchema(),n.getMergedTraits()],c);let d=this.flush(),l=n.getValueSchema().isTimestampSchema()?d:yf(d);a!==""&&(a+=", "),a+=l}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=Xe.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Pf.toBase64)(o.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var ps,$b=S(()=>{Me();xf();ps=class{constructor(t,r,n=new ca(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=z.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var Bb={};jt(Bb,{FromStringShapeDeserializer:()=>ls,HttpBindingProtocol:()=>as,HttpInterceptingShapeDeserializer:()=>us,HttpInterceptingShapeSerializer:()=>ps,RequestBuilder:()=>$d,RpcProtocol:()=>cs,ToStringShapeSerializer:()=>ca,collectBody:()=>$t,determineTimestampFormat:()=>ds,extendedEncodeURIComponent:()=>or,requestBuilder:()=>aa,resolvedPath:()=>vf});var Ar=S(()=>{Id();Rd();Db();Mb();jb();bf();wf();Ub();$b();xf();Bd()});var Hb=S(()=>{Ar()});function fB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var qb=S(()=>{});var ms,Vb=S(()=>{ms=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var zb,Af,Of,Gb=S(()=>{zb=w(le()),Af=w(tr()),Of=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=zb.HttpRequest.clone(t);if(n.in===Af.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===Af.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var Wb,If,Jb=S(()=>{Wb=w(le()),If=class{async sign(t,r,n){let s=Wb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var Or,Kb=S(()=>{Or=class{async sign(t,r,n){return t}}});var Yb=S(()=>{Gb();Jb();Kb()});var Xb,hB,Rf,qd,Tf,Qb=S(()=>{Xb=e=>t=>qd(t)&&t.expiration.getTime()-Date.now()<e,hB=3e5,Rf=Xb(3e5),qd=e=>e.expiration!==void 0,Tf=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,a,c=!1,d=async l=>{o||(o=n(l));try{s=await o,a=!0,c=!1}finally{o=void 0}return s};return t===void 0?async l=>((!a||l?.forceRefresh)&&(s=await d(l)),s):async l=>((!a||l?.forceRefresh)&&(s=await d(l)),c?s:r(s)?(t(s)&&await d(l),s):(c=!0,s))}});var Zb=S(()=>{Vb();Yb();Qb()});var fs={};jt(fs,{DefaultIdentityProviderConfig:()=>ms,EXPIRATION_MS:()=>hB,HttpApiKeyAuthSigner:()=>Of,HttpBearerAuthSigner:()=>If,NoAuthSigner:()=>Or,createIsIdentityExpiredFunction:()=>Xb,createPaginator:()=>SE,doesIdentityRequireRefresh:()=>qd,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Bi,getHttpAuthSchemePlugin:()=>QF,getHttpSigningPlugin:()=>Hi,getSmithyContext:()=>MF,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>eE,httpAuthSchemeMiddleware:()=>$i,httpAuthSchemeMiddlewareOptions:()=>lE,httpSigningMiddleware:()=>hm,httpSigningMiddlewareOptions:()=>hE,isIdentityExpired:()=>Rf,memoizeIdentityProvider:()=>Tf,normalizeProvider:()=>sn,requestBuilder:()=>aa,setFeature:()=>fB});var Qe=S(()=>{GS();pE();_E();yE();EE();Hb();qb();Zb()});var hs=A((mpe,cC)=>{var Vd=Object.defineProperty,gB=Object.getOwnPropertyDescriptor,_B=Object.getOwnPropertyNames,yB=Object.prototype.hasOwnProperty,de=(e,t)=>Vd(e,"name",{value:t,configurable:!0}),SB=(e,t)=>{for(var r in t)Vd(e,r,{get:t[r],enumerable:!0})},EB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of _B(t))!yB.call(e,s)&&s!==r&&Vd(e,s,{get:()=>t[s],enumerable:!(n=gB(t,s))||n.enumerable});return e},vB=e=>EB(Vd({},"__esModule",{value:!0}),e),eC={};SB(eC,{EndpointCache:()=>bB,EndpointError:()=>st,customEndpointFunctions:()=>Df,isIpAddress:()=>tC,isValidHostLabel:()=>Mf,resolveEndpoint:()=>BB});cC.exports=vB(eC);var bB=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{de(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:o,done:a}=n.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let s=String(e[n]??"");if(s.includes("|;"))return!1;t+=s+"|;"}return t}},CB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),tC=de(e=>CB.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),wB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Mf=de((e,t=!1)=>{if(!t)return wB.test(e);let r=e.split(".");for(let n of r)if(!Mf(n))return!1;return!0},"isValidHostLabel"),Df={},da="endpoints";function Ir(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ir(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ir).join(", ")})`:JSON.stringify(e,null,2)}de(Ir,"toDebugString");var st=class extends Error{static{de(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},PB=de((e,t)=>e===t,"booleanEquals"),xB=de(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new st(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new st(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},"getAttrPathList"),rC=de((e,t)=>xB(t).reduce((r,n)=>{if(typeof r!="object")throw new st(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),AB=de(e=>e!=null,"isSet"),OB=de(e=>!e,"not"),kf=tr(),Nf={[kf.EndpointURLScheme.HTTP]:80,[kf.EndpointURLScheme.HTTPS]:443},IB=de(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:f,protocol:y="",path:_="",query:b={}}=e,P=new URL(`${y}//${h}${f?`:${f}`:""}${_}`);return P.search=Object.entries(b).map(([C,q])=>`${C}=${q}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:a,search:c}=t;if(c)return null;let d=a.slice(0,-1);if(!Object.values(kf.EndpointURLScheme).includes(d))return null;let l=tC(s),p=r.includes(`${n}:${Nf[d]}`)||typeof e=="string"&&e.includes(`${n}:${Nf[d]}`),m=`${n}${p?`:${Nf[d]}`:""}`;return{scheme:d,authority:m,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},"parseURL"),RB=de((e,t)=>e===t,"stringEquals"),TB=de((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),NB=de(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),DB={booleanEquals:PB,getAttr:rC,isSet:AB,isValidHostLabel:Mf,not:OB,parseURL:IB,stringEquals:RB,substring:TB,uriEncode:NB},nC=de((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(o+1,a)),s=a+2);let c=e.substring(o+1,a);if(c.includes("#")){let[d,l]=c.split("#");r.push(rC(n[d],l))}else r.push(n[c]);s=a+1}return r.join("")},"evaluateTemplate"),kB=de(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),zd=de((e,t,r)=>{if(typeof e=="string")return nC(e,r);if(e.fn)return sC(e,r);if(e.ref)return kB(e,r);throw new st(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),sC=de(({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:zd(o,"arg",r)),s=e.split(".");return s[0]in Df&&s[1]!=null?Df[s[0]][s[1]](...n):DB[e](...n)},"callFunction"),MB=de(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new st(`'${e}' is already defined in Reference Record.`);let n=sC(t,r);return r.logger?.debug?.(`${da} evaluateCondition: ${Ir(t)} = ${Ir(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),Lf=de((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=MB(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${da} assign: ${o.name} := ${Ir(o.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),LB=de((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let a=zd(o,"Header value entry",t);if(typeof a!="string")throw new st(`Header '${n}' value '${a}' is not a string`);return a})}),{}),"getEndpointHeaders"),oC=de((e,t)=>{if(Array.isArray(e))return e.map(r=>oC(r,t));switch(typeof e){case"string":return nC(e,t);case"object":if(e===null)throw new st(`Unexpected endpoint property: ${e}`);return iC(e,t);case"boolean":return e;default:throw new st(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),iC=de((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:oC(s,t)}),{}),"getEndpointProperties"),jB=de((e,t)=>{let r=zd(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new st(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),FB=de((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=Lf(r,t);if(!s)return;let a={...t,referenceRecord:{...t.referenceRecord,...o}},{url:c,properties:d,headers:l}=n;return t.logger?.debug?.(`${da} Resolving endpoint from template: ${Ir(n)}`),{...l!=null&&{headers:LB(l,a)},...d!=null&&{properties:iC(d,a)},url:jB(c,a)}},"evaluateEndpointRule"),UB=de((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=Lf(r,t);if(s)throw new st(zd(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},"evaluateErrorRule"),$B=de((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=Lf(r,t);if(s)return aC(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},"evaluateTreeRule"),aC=de((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=FB(r,t);if(n)return n}else if(r.type==="error")UB(r,t);else if(r.type==="tree"){let n=$B(r,t);if(n)return n}else throw new st(`Unknown endpoint rule: ${r}`);throw new st("Rules evaluation failed")},"evaluateRules"),BB=de((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${da} Initial EndpointParams: ${Ir(r)}`);let a=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(a.length>0)for(let[l,p]of a)r[l]=r[l]??p;let c=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of c)if(r[l]==null)throw new st(`Missing required parameter: '${l}'`);let d=aC(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${da} Resolved endpoint: ${Ir(d)}`),d},"resolveEndpoint")});var pC=A((gpe,uC)=>{var Gd=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,qB=Object.getOwnPropertyNames,VB=Object.prototype.hasOwnProperty,zB=(e,t)=>Gd(e,"name",{value:t,configurable:!0}),GB=(e,t)=>{for(var r in t)Gd(e,r,{get:t[r],enumerable:!0})},WB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qB(t))!VB.call(e,s)&&s!==r&&Gd(e,s,{get:()=>t[s],enumerable:!(n=HB(t,s))||n.enumerable});return e},JB=e=>WB(Gd({},"__esModule",{value:!0}),e),dC={};GB(dC,{parseQueryString:()=>lC});uC.exports=JB(dC);function lC(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}zB(lC,"parseQueryString")});var Rr=A((_pe,hC)=>{var Wd=Object.defineProperty,KB=Object.getOwnPropertyDescriptor,YB=Object.getOwnPropertyNames,XB=Object.prototype.hasOwnProperty,QB=(e,t)=>Wd(e,"name",{value:t,configurable:!0}),ZB=(e,t)=>{for(var r in t)Wd(e,r,{get:t[r],enumerable:!0})},eH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YB(t))!XB.call(e,s)&&s!==r&&Wd(e,s,{get:()=>t[s],enumerable:!(n=KB(t,s))||n.enumerable});return e},tH=e=>eH(Wd({},"__esModule",{value:!0}),e),mC={};ZB(mC,{parseUrl:()=>fC});hC.exports=tH(mC);var rH=pC(),fC=QB(e=>{if(typeof e=="string")return fC(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,a;return o&&(a=(0,rH.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:a}},"parseUrl")});var gs=A((ype,xC)=>{"use strict";var Jd=Object.defineProperty,nH=Object.getOwnPropertyDescriptor,sH=Object.getOwnPropertyNames,oH=Object.prototype.hasOwnProperty,ln=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),iH=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},aH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of sH(t))!oH.call(e,s)&&s!==r&&Jd(e,s,{get:()=>t[s],enumerable:!(n=nH(t,s))||n.enumerable});return e},cH=e=>aH(Jd({},"__esModule",{value:!0}),e),_C={};iH(_C,{ConditionObject:()=>pe.ConditionObject,DeprecatedObject:()=>pe.DeprecatedObject,EndpointError:()=>pe.EndpointError,EndpointObject:()=>pe.EndpointObject,EndpointObjectHeaders:()=>pe.EndpointObjectHeaders,EndpointObjectProperties:()=>pe.EndpointObjectProperties,EndpointParams:()=>pe.EndpointParams,EndpointResolverOptions:()=>pe.EndpointResolverOptions,EndpointRuleObject:()=>pe.EndpointRuleObject,ErrorRuleObject:()=>pe.ErrorRuleObject,EvaluateOptions:()=>pe.EvaluateOptions,Expression:()=>pe.Expression,FunctionArgv:()=>pe.FunctionArgv,FunctionObject:()=>pe.FunctionObject,FunctionReturn:()=>pe.FunctionReturn,ParameterObject:()=>pe.ParameterObject,ReferenceObject:()=>pe.ReferenceObject,ReferenceRecord:()=>pe.ReferenceRecord,RuleSetObject:()=>pe.RuleSetObject,RuleSetRules:()=>pe.RuleSetRules,TreeRuleObject:()=>pe.TreeRuleObject,awsEndpointFunctions:()=>wC,getUserAgentPrefix:()=>pH,isIpAddress:()=>pe.isIpAddress,partition:()=>bC,resolveDefaultAwsRegionalEndpointsConfig:()=>fH,resolveEndpoint:()=>pe.resolveEndpoint,setPartitionInfo:()=>CC,toEndpointV1:()=>PC,useDefaultPartitionInfo:()=>uH});xC.exports=cH(_C);var pe=hs(),yC=ln((e,t=!1)=>{if(t){for(let r of e.split("."))if(!yC(r))return!1;return!0}return!(!(0,pe.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,pe.isIpAddress)(e))},"isVirtualHostableS3Bucket"),gC=":",dH="/",lH=ln(e=>{let t=e.split(gC);if(t.length<6)return null;let[r,n,s,o,a,...c]=t;if(r!=="arn"||n===""||s===""||c.join(gC)==="")return null;let d=c.map(l=>l.split(dH)).flat();return{partition:n,service:s,region:o,accountId:a,resourceId:d}},"parseArn"),SC={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},EC=SC,vC="",bC=ln(e=>{let{partitions:t}=EC;for(let n of t){let{regions:s,outputs:o}=n;for(let[a,c]of Object.entries(s))if(a===e)return{...o,...c}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),CC=ln((e,t="")=>{EC=e,vC=t},"setPartitionInfo"),uH=ln(()=>{CC(SC,"")},"useDefaultPartitionInfo"),pH=ln(()=>vC,"getUserAgentPrefix"),wC={isVirtualHostableS3Bucket:yC,parseArn:lH,partition:bC};pe.customEndpointFunctions.aws=wC;var mH=Rr(),fH=ln(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>PC(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),PC=ln(e=>(0,mH.parseUrl)(e.url),"toEndpointV1")});var Kd,Mo,AC=S(()=>{Kd={warningEmitted:!1},Mo=e=>{e&&!Kd.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Kd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function un(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var OC=S(()=>{});function IC(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var RC=S(()=>{});function TC(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var NC=S(()=>{});var pn={};jt(pn,{emitWarningIfUnsupportedVersion:()=>Mo,setCredentialFeature:()=>un,setFeature:()=>IC,setTokenFeature:()=>TC,state:()=>Kd});var Ht=S(()=>{AC();OC();RC();NC()});var DC,jf,kC=S(()=>{DC=w(le()),jf=e=>DC.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Lo,Ff=S(()=>{Lo=e=>new Date(Date.now()+e)});var MC,LC=S(()=>{Ff();MC=(e,t)=>Math.abs(Lo(t).getTime()-e)>=3e5});var Uf,jC=S(()=>{LC();Uf=(e,t)=>{let r=Date.parse(e);return MC(r,t)?r-Date.now():t}});var $f=S(()=>{kC();Ff();jC()});var FC,la,jo,ot,Bf,Hf=S(()=>{FC=w(le());$f();la=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},jo=async e=>{let t=la("context",e.context),r=la("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await la("signer",r.signer)(n),a=e?.signingRegion,c=e?.signingRegionSet,d=e?.signingName;return{config:r,signer:o,signingRegion:a,signingRegionSet:c,signingName:d}},ot=class{async sign(t,r,n){if(!FC.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await jo(n),{config:o,signer:a}=s,{signingRegion:c,signingName:d}=s,l=n.context;if(l?.authSchemes?.length??!1){let[m,h]=l.authSchemes;m?.name==="sigv4a"&&h?.name==="sigv4"&&(c=h?.signingRegion??c,d=h?.signingName??d)}return await a.sign(t,{signingDate:Lo(o.systemClockOffset),signingRegion:c,signingService:d})}errorHandler(t){return r=>{let n=r.ServerTime??jf(r.$response);if(n){let s=la("config",t.config),o=s.systemClockOffset;s.systemClockOffset=Uf(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=jf(t);if(n){let s=la("config",r.config);s.systemClockOffset=Uf(n,s.systemClockOffset)}}},Bf=ot});var UC,ua,$C=S(()=>{UC=w(le());$f();Hf();ua=class extends ot{async sign(t,r,n){if(!UC.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:a,signingRegionSet:c,signingName:d}=await jo(n),p=(await s.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await o.sign(t,{signingDate:Lo(s.systemClockOffset),signingRegion:p,signingService:d})}}});var qf,BC=S(()=>{qf=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Yd,Vf=S(()=>{Yd=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var HC,qC,Fo,VC=S(()=>{BC();Vf();HC="AWS_AUTH_SCHEME_PREFERENCE",qC="auth_scheme_preference",Fo={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Yd(t.signingName)in e)return["httpBearerAuth"];if(HC in e)return qf(e[HC])},configFileSelector:e=>{if(qC in e)return qf(e[qC])},default:[]}});var Ze=A((Wpe,KC)=>{var Xd=Object.defineProperty,hH=Object.getOwnPropertyDescriptor,gH=Object.getOwnPropertyNames,_H=Object.prototype.hasOwnProperty,_s=(e,t)=>Xd(e,"name",{value:t,configurable:!0}),yH=(e,t)=>{for(var r in t)Xd(e,r,{get:t[r],enumerable:!0})},SH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gH(t))!_H.call(e,s)&&s!==r&&Xd(e,s,{get:()=>t[s],enumerable:!(n=hH(t,s))||n.enumerable});return e},EH=e=>SH(Xd({},"__esModule",{value:!0}),e),zC={};yH(zC,{CredentialsProviderError:()=>vH,ProviderError:()=>Qd,TokenProviderError:()=>bH,chain:()=>CH,fromStatic:()=>wH,memoize:()=>PH});KC.exports=EH(zC);var Qd=class GC extends Error{constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,GC.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{_s(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},vH=class WC extends Qd{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,WC.prototype)}static{_s(this,"CredentialsProviderError")}},bH=class JC extends Qd{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,JC.prototype)}static{_s(this,"TokenProviderError")}},CH=_s((...e)=>async()=>{if(e.length===0)throw new Qd("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),wH=_s(e=>()=>Promise.resolve(e),"fromStatic"),PH=_s((e,t,r)=>{let n,s,o,a=!1,c=_s(async()=>{s||(s=e());try{n=await s,o=!0,a=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async d=>((!o||d?.forceRefresh)&&(n=await c()),n):async d=>((!o||d?.forceRefresh)&&(n=await c()),a?n:r&&!r(n)?(a=!0,n):(t(n)&&await c(),n))},"memoize")});var zf,YC,XC,QC=S(()=>{Qe();zf=w(Ze()),YC=e=>(e.sigv4aSigningRegionSet=sn(e.sigv4aSigningRegionSet),e),XC={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new zf.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new zf.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var A0=A((Ype,x0)=>{var ol=Object.defineProperty,xH=Object.getOwnPropertyDescriptor,AH=Object.getOwnPropertyNames,OH=Object.prototype.hasOwnProperty,Be=(e,t)=>ol(e,"name",{value:t,configurable:!0}),IH=(e,t)=>{for(var r in t)ol(e,r,{get:t[r],enumerable:!0})},RH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of AH(t))!OH.call(e,s)&&s!==r&&ol(e,s,{get:()=>t[s],enumerable:!(n=xH(t,s))||n.enumerable});return e},TH=e=>RH(ol({},"__esModule",{value:!0}),e),n0={};IH(n0,{ALGORITHM_IDENTIFIER:()=>Zd,ALGORITHM_IDENTIFIER_V4A:()=>MH,ALGORITHM_QUERY_PARAM:()=>s0,ALWAYS_UNSIGNABLE_HEADERS:()=>p0,AMZ_DATE_HEADER:()=>Zf,AMZ_DATE_QUERY_PARAM:()=>Kf,AUTH_HEADER:()=>Qf,CREDENTIAL_QUERY_PARAM:()=>o0,DATE_HEADER:()=>c0,EVENT_ALGORITHM_IDENTIFIER:()=>h0,EXPIRES_QUERY_PARAM:()=>a0,GENERATED_HEADERS:()=>d0,HOST_HEADER:()=>DH,KEY_TYPE_IDENTIFIER:()=>eh,MAX_CACHE_SIZE:()=>_0,MAX_PRESIGNED_TTL:()=>y0,PROXY_HEADER_PATTERN:()=>m0,REGION_SET_PARAM:()=>NH,SEC_HEADER_PATTERN:()=>f0,SHA256_HEADER:()=>sl,SIGNATURE_HEADER:()=>l0,SIGNATURE_QUERY_PARAM:()=>Yf,SIGNED_HEADERS_QUERY_PARAM:()=>i0,SignatureV4:()=>GH,SignatureV4Base:()=>P0,TOKEN_HEADER:()=>u0,TOKEN_QUERY_PARAM:()=>Xf,UNSIGNABLE_PATTERNS:()=>kH,UNSIGNED_PAYLOAD:()=>g0,clearCredentialCache:()=>jH,createScope:()=>tl,getCanonicalHeaders:()=>Gf,getCanonicalQuery:()=>w0,getPayloadHash:()=>rl,getSigningKey:()=>S0,hasHeader:()=>v0,moveHeadersToQuery:()=>C0,prepareRequest:()=>Jf,signatureV4aContainer:()=>WH});x0.exports=TH(n0);var ZC=ke(),s0="X-Amz-Algorithm",o0="X-Amz-Credential",Kf="X-Amz-Date",i0="X-Amz-SignedHeaders",a0="X-Amz-Expires",Yf="X-Amz-Signature",Xf="X-Amz-Security-Token",NH="X-Amz-Region-Set",Qf="authorization",Zf=Kf.toLowerCase(),c0="date",d0=[Qf,Zf,c0],l0=Yf.toLowerCase(),sl="x-amz-content-sha256",u0=Xf.toLowerCase(),DH="host",p0={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},m0=/^proxy-/,f0=/^sec-/,kH=[/^proxy-/i,/^sec-/i],Zd="AWS4-HMAC-SHA256",MH="AWS4-ECDSA-P256-SHA256",h0="AWS4-HMAC-SHA256-PAYLOAD",g0="UNSIGNED-PAYLOAD",_0=50,eh="aws4_request",y0=60*60*24*7,mn=Bm(),LH=ke(),Uo={},el=[],tl=Be((e,t,r)=>`${e}/${t}/${r}/${eh}`,"createScope"),S0=Be(async(e,t,r,n,s)=>{let o=await e0(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${s}:${(0,mn.toHex)(o)}:${t.sessionToken}`;if(a in Uo)return Uo[a];for(el.push(a);el.length>_0;)delete Uo[el.shift()];let c=`AWS4${t.secretAccessKey}`;for(let d of[r,n,s,eh])c=await e0(e,c,d);return Uo[a]=c},"getSigningKey"),jH=Be(()=>{el.length=0,Object.keys(Uo).forEach(e=>{delete Uo[e]})},"clearCredentialCache"),e0=Be((e,t,r)=>{let n=new e(t);return n.update((0,LH.toUint8Array)(r)),n.digest()},"hmac"),Gf=Be(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in p0||t?.has(o)||m0.test(o)||f0.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),FH=_m(),UH=ke(),rl=Be(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===sl)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,FH.isArrayBuffer)(t)){let n=new r;return n.update((0,UH.toUint8Array)(t)),(0,mn.toHex)(await n.digest())}return g0},"getPayloadHash"),t0=ke(),$H=class{static{Be(this,"HeaderFormatter")}format(e){let t=[];for(let s of Object.keys(e)){let o=(0,t0.fromUtf8)(s);t.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(t.reduce((s,o)=>s+o.byteLength,0)),n=0;for(let s of t)r.set(s,n),n+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=(0,t0.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(HH.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!BH.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,mn.fromHex)(e.value.replace(/\-/g,"")),1),p}}},BH=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,HH=class E0{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Be(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Wf(r),new E0(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Wf(t),parseInt((0,mn.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Wf(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Be(Wf,"negate");var v0=Be((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),b0=le(),C0=Be((e,t={})=>{let{headers:r,query:n={}}=b0.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Jf=Be(e=>{e=b0.HttpRequest.clone(e);for(let t of Object.keys(e.headers))d0.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),r0=vt(),qH=ke(),nl=Nm(),w0=Be(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===l0)continue;let s=(0,nl.escapeUri)(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${(0,nl.escapeUri)(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((a,c)=>a.concat([`${s}=${(0,nl.escapeUri)(c)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),VH=Be(e=>zH(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),zH=Be(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),P0=class{static{Be(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){this.service=n,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,r0.normalizeProvider)(r),this.credentialProvider=(0,r0.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${w0(e)}
${n.map(s=>`${s}:${t[s]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let s=new this.sha256;s.update((0,qH.toUint8Array)(r));let o=await s.digest();return`${n}
${e}
${t}
${(0,mn.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?t.pop():t.push(s));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,nl.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=VH(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},GH=class extends P0{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o}),this.headerFormatter=new $H}static{Be(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:d,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let m=d??await this.regionProvider(),{longDate:h,shortDate:f}=this.formatDate(r);if(n>y0)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=tl(f,m,l??this.service),_=C0(Jf(e),{unhoistableHeaders:o,hoistableHeaders:c});p.sessionToken&&(_.query[Xf]=p.sessionToken),_.query[s0]=Zd,_.query[o0]=`${p.accessKeyId}/${y}`,_.query[Kf]=h,_.query[a0]=n.toString(10);let b=Gf(_,s,a);return _.query[i0]=this.getCanonicalHeaderList(b),_.query[Yf]=await this.getSignature(h,y,this.getSigningKey(p,m,f,l),this.createCanonicalRequest(_,b,await rl(e,this.sha256))),_}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:o}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=this.formatDate(r),l=tl(c,a,o??this.service),p=await rl({headers:{},body:t},this.sha256),m=new this.sha256;m.update(e);let h=(0,mn.toHex)(await m.digest()),f=[h0,d,l,n,h,p].join(`
`);return this.signString(f,{signingDate:r,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let o=r??await this.regionProvider(),{shortDate:a}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(s,o,a,n));return c.update((0,ZC.toUint8Array)(e)),(0,mn.toHex)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Jf(e),{longDate:l,shortDate:p}=this.formatDate(t),m=tl(p,c,o??this.service);d.headers[Zf]=l,a.sessionToken&&(d.headers[u0]=a.sessionToken);let h=await rl(d,this.sha256);!v0(sl,d.headers)&&this.applyChecksum&&(d.headers[sl]=h);let f=Gf(d,n,r),y=await this.getSignature(l,m,this.getSigningKey(a,c,p,o),this.createCanonicalRequest(d,f,h));return d.headers[Qf]=`${Zd} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(f)}, Signature=${y}`,d}async getSignature(e,t,r,n){let s=await this.createStringToSign(e,t,n,Zd),o=new this.sha256(await r);return o.update((0,ZC.toUint8Array)(s)),(0,mn.toHex)(await o.digest())}getSigningKey(e,t,r,n){return S0(this.sha256,e,r,t,n||this.service)}},WH={SignatureV4a:null}});function JH(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Tf(t,Rf,qd):r?n=sn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function KH(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var th,ys,O0,I0=S(()=>{Ht();Qe();th=w(A0()),ys=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=JH(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=KH(e,p);r&&!m.attributed?(n=async h=>m(h).then(f=>un(f,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:a}=e,c;return e.signer?c=sn(e.signer):e.regionInfoProvider?c=()=>sn(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:m,signingService:h}=l;e.signingRegion=e.signingRegion||m||p,e.signingName=e.signingName||h||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},y=e.signerConstructor||th.SignatureV4;return new y(f)}):c=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await sn(e.region)(),properties:{}},l);let p=l.signingRegion,m=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||m||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},f=e.signerConstructor||th.SignatureV4;return new f(h)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},O0=ys});var R0=S(()=>{Hf();$C();VC();QC();I0()});var T0={};jt(T0,{AWSSDKSigV4Signer:()=>Bf,AwsSdkSigV4ASigner:()=>ua,AwsSdkSigV4Signer:()=>ot,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Fo,NODE_SIGV4A_CONFIG_OPTIONS:()=>XC,getBearerTokenEnvKey:()=>Yd,resolveAWSSDKSigV4Config:()=>O0,resolveAwsSdkSigV4AConfig:()=>YC,resolveAwsSdkSigV4Config:()=>ys,validateSigningProperties:()=>jo});var rh=S(()=>{R0();Vf()});var YH,XH,QH,N0=S(()=>{YH=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},XH=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},QH=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var pa=A((pme,M0)=>{var il=Object.defineProperty,ZH=Object.getOwnPropertyDescriptor,eq=Object.getOwnPropertyNames,tq=Object.prototype.hasOwnProperty,rq=(e,t)=>il(e,"name",{value:t,configurable:!0}),nq=(e,t)=>{for(var r in t)il(e,r,{get:t[r],enumerable:!0})},sq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eq(t))!tq.call(e,s)&&s!==r&&il(e,s,{get:()=>t[s],enumerable:!(n=ZH(t,s))||n.enumerable});return e},oq=e=>sq(il({},"__esModule",{value:!0}),e),k0={};nq(k0,{calculateBodyLength:()=>iq});M0.exports=oq(k0);var D0=typeof TextEncoder=="function"?new TextEncoder:null,iq=rq(e=>{if(typeof e=="string"){if(D0)return D0.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var We,fn=S(()=>{We=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function L0(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new $e(n,"bigDecimal"):BigInt(n)}return t}var j0=S(()=>{Bt()});var H0=A((gme,B0)=>{var al=Object.defineProperty,aq=Object.getOwnPropertyDescriptor,cq=Object.getOwnPropertyNames,dq=Object.prototype.hasOwnProperty,bt=(e,t)=>al(e,"name",{value:t,configurable:!0}),lq=(e,t)=>{for(var r in t)al(e,r,{get:t[r],enumerable:!0})},uq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cq(t))!dq.call(e,s)&&s!==r&&al(e,s,{get:()=>t[s],enumerable:!(n=aq(t,s))||n.enumerable});return e},pq=e=>uq(al({},"__esModule",{value:!0}),e),$0={};lq($0,{constructStack:()=>nh});B0.exports=pq($0);var Ss=bt((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),hn=bt((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),nh=bt(()=>{let e=[],t=[],r=!1,n=new Set,s=bt(m=>m.sort((h,f)=>F0[f.step]-F0[h.step]||U0[f.priority||"normal"]-U0[h.priority||"normal"]),"sort"),o=bt(m=>{let h=!1,f=bt(y=>{let _=Ss(y.name,y.aliases);if(_.includes(m)){h=!0;for(let b of _)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),h},"removeByName"),a=bt(m=>{let h=!1,f=bt(y=>{if(y.middleware===m){h=!0;for(let _ of Ss(y.name,y.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),h},"removeByReference"),c=bt(m=>(e.forEach(h=>{m.add(h.middleware,{...h})}),t.forEach(h=>{m.addRelativeTo(h.middleware,{...h})}),m.identifyOnResolve?.(p.identifyOnResolve()),m),"cloneTo"),d=bt(m=>{let h=[];return m.before.forEach(f=>{f.before.length===0&&f.after.length===0?h.push(f):h.push(...d(f))}),h.push(m),m.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?h.push(f):h.push(...d(f))}),h},"expandRelativeMiddlewareList"),l=bt((m=!1)=>{let h=[],f=[],y={};return e.forEach(b=>{let P={...b,before:[],after:[]};for(let C of Ss(P.name,P.aliases))y[C]=P;h.push(P)}),t.forEach(b=>{let P={...b,before:[],after:[]};for(let C of Ss(P.name,P.aliases))y[C]=P;f.push(P)}),f.forEach(b=>{if(b.toMiddleware){let P=y[b.toMiddleware];if(P===void 0){if(m)return;throw new Error(`${b.toMiddleware} is not found when adding ${hn(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&P.after.push(b),b.relation==="before"&&P.before.push(b)}}),s(h).map(d).reduce((b,P)=>(b.push(...P),b),[])},"getMiddlewareList"),p={add:(m,h={})=>{let{name:f,override:y,aliases:_}=h,b={step:"initialize",priority:"normal",middleware:m,...h},P=Ss(f,_);if(P.length>0){if(P.some(C=>n.has(C))){if(!y)throw new Error(`Duplicate middleware name '${hn(f,_)}'`);for(let C of P){let q=e.findIndex($=>$.name===C||$.aliases?.some(G=>G===C));if(q===-1)continue;let F=e[q];if(F.step!==b.step||b.priority!==F.priority)throw new Error(`"${hn(F.name,F.aliases)}" middleware with ${F.priority} priority in ${F.step} step cannot be overridden by "${hn(f,_)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice(q,1)}}for(let C of P)n.add(C)}e.push(b)},addRelativeTo:(m,h)=>{let{name:f,override:y,aliases:_}=h,b={middleware:m,...h},P=Ss(f,_);if(P.length>0){if(P.some(C=>n.has(C))){if(!y)throw new Error(`Duplicate middleware name '${hn(f,_)}'`);for(let C of P){let q=t.findIndex($=>$.name===C||$.aliases?.some(G=>G===C));if(q===-1)continue;let F=t[q];if(F.toMiddleware!==b.toMiddleware||F.relation!==b.relation)throw new Error(`"${hn(F.name,F.aliases)}" middleware ${F.relation} "${F.toMiddleware}" middleware cannot be overridden by "${hn(f,_)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(q,1)}}for(let C of P)n.add(C)}t.push(b)},clone:()=>c(nh()),use:m=>{m.applyToStack(p)},remove:m=>typeof m=="string"?o(m):a(m),removeByTag:m=>{let h=!1,f=bt(y=>{let{tags:_,name:b,aliases:P}=y;if(_&&_.includes(m)){let C=Ss(b,P);for(let q of C)n.delete(q);return h=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),h},concat:m=>{let h=c(nh());return h.use(m),h.identifyOnResolve(r||h.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),h},applyToStack:c,identify:()=>l(!0).map(m=>{let h=m.step??m.relation+" "+m.toMiddleware;return hn(m.name,m.aliases)+" - "+h}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,h)=>{for(let f of l().map(y=>y.middleware).reverse())m=f(m,h);return r&&console.log(p.identify()),m}};return p},"constructStack"),F0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},U0={high:3,normal:2,low:1}});var K=A((_me,lh)=>{var cl=Object.defineProperty,mq=Object.getOwnPropertyDescriptor,fq=Object.getOwnPropertyNames,hq=Object.prototype.hasOwnProperty,ne=(e,t)=>cl(e,"name",{value:t,configurable:!0}),gq=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},oh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of fq(t))!hq.call(e,s)&&s!==r&&cl(e,s,{get:()=>t[s],enumerable:!(n=mq(t,s))||n.enumerable});return e},_q=(e,t,r)=>(oh(e,t,"default"),r&&oh(r,t,"default")),yq=e=>oh(cl({},"__esModule",{value:!0}),e),ch={};gq(ch,{Client:()=>Sq,Command:()=>z0,NoOpLogger:()=>Lq,SENSITIVE_STRING:()=>vq,ServiceException:()=>Cq,_json:()=>ah,collectBody:()=>sh.collectBody,convertMap:()=>jq,createAggregatedClient:()=>bq,decorateServiceException:()=>G0,emitWarningIfUnsupportedVersion:()=>Aq,extendedEncodeURIComponent:()=>sh.extendedEncodeURIComponent,getArrayIfSingleItem:()=>kq,getDefaultClientConfiguration:()=>Nq,getDefaultExtensionConfiguration:()=>J0,getValueFromTextNode:()=>K0,isSerializableHeaderValue:()=>Mq,loadConfigsForDefaultMode:()=>xq,map:()=>dh,resolveDefaultRuntimeConfig:()=>Dq,resolvedPath:()=>sh.resolvedPath,serializeDateTime:()=>qq,serializeFloat:()=>Hq,take:()=>Fq,throwDefaultError:()=>W0,withBaseException:()=>wq});lh.exports=yq(ch);var V0=H0(),Sq=class{constructor(e){this.config=e,this.middlewareStack=(0,V0.constructStack)()}static{ne(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,s=typeof t=="function"?t:r,o=n===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},sh=(Ar(),Y(Bb)),ih=tr(),z0=class{constructor(){this.middlewareStack=(0,V0.constructStack)()}static{ne(this,"Command")}static classBuilder(){return new Eq}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let _ of n.bind(this)(p,e,t,r))this.middlewareStack.use(_);let m=e.concat(this.middlewareStack),{logger:h}=t,f={logger:h,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[ih.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...l},{requestHandler:y}=t;return m.resolve(_=>y.handle(_.request,r||{}),f)}},Eq=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{ne(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends z0{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ne(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},vq="***SensitiveInformation***",bq=ne((e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=ne(async function(a,c,d){let l=new n(a);if(typeof c=="function")this.send(l,c);else if(typeof d=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(l,c||{},d)}else return this.send(l,c)},"methodImpl"),o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},"createAggregatedClient"),Cq=class ma extends Error{static{ne(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return ma.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===ma?ma.isInstance(t):ma.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},G0=ne((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),W0=ne(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Pq(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw G0(a,t)},"throwDefaultError"),wq=ne(e=>({output:t,parsedBody:r,errorCode:n})=>{W0({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Pq=ne(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),xq=ne(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),q0=!1,Aq=ne(e=>{e&&!q0&&parseInt(e.substring(1,e.indexOf(".")))<16&&(q0=!0)},"emitWarningIfUnsupportedVersion"),Oq=ne(e=>{let t=[];for(let r in ih.AlgorithmId){let n=ih.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Iq=ne(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Rq=ne(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Tq=ne(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),J0=ne(e=>Object.assign(Oq(e),Rq(e)),"getDefaultExtensionConfiguration"),Nq=J0,Dq=ne(e=>Object.assign(Iq(e),Tq(e)),"resolveDefaultRuntimeConfig"),kq=ne(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),K0=ne(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=K0(e[r]));return e},"getValueFromTextNode"),Mq=ne(e=>e!=null,"isSerializableHeaderValue"),Lq=class{static{ne(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function dh(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,Uq(n,s,o);o=t}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){n[a]=o[a];continue}Y0(n,null,o,a)}return n}ne(dh,"map");var jq=ne(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Fq=ne((e,t)=>{let r={};for(let n in t)Y0(r,e,t,n);return r},"take"),Uq=ne((e,t,r)=>dh(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),"mapWithFilter"),Y0=ne((e,t,r,n)=>{if(t!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[c=$q,d=Bq,l=n]=a;(typeof c=="function"&&c(t[l])||typeof c!="function"&&c)&&(e[n]=d(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let a,c=s===void 0&&(a=o())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=a:d&&(e[n]=o())}else{let a=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||c)&&(e[n]=o)}},"applyInstruction"),$q=ne(e=>e!=null,"nonNullish"),Bq=ne(e=>e,"pass"),Hq=ne(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),qq=ne(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),ah=ne(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(ah);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=ah(e[r]));return t}return e},"_json");_q(ch,(Bt(),Y(Rb)),lh.exports)});var X0,dl,uh=S(()=>{X0=w(K()),dl=(e,t)=>(0,X0.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var $o,ph,Es,fa=S(()=>{uh();$o=(e,t)=>dl(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ph=async(e,t)=>{let r=await $o(e,t);return r.message=r.message??r.Message,r},Es=(e,t)=>{let r=(o,a)=>Object.keys(o).find(c=>c.toLowerCase()===a.toLowerCase()),n=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var Q0,ha,mh=S(()=>{Me();Bt();Q0=w(Ge());fn();j0();fa();ha=class extends We{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,L0):await $o(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=z.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],d=!!s.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&c.push(this._read(a,l));return c}else if(s.isMapSchema()&&n){let a=s.getValueSchema(),c={},d=!!s.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(d||p!=null)&&(c[l]=this._read(a,p));return c}else if(s.isStructSchema()&&n){let a={};for(let[c,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,p=this._read(d,r[l]);p!=null&&(a[c]=p)}return a}if(s.isBlobSchema()&&typeof r=="string")return(0,Q0.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Xe.from(r);if(s.isTimestampSchema()){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===U.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case U.TIMESTAMP_DATE_TIME:return Qi(r);case U.TIMESTAMP_HTTP_DATE:return Zi(r);case U.TIMESTAMP_EPOCH_SECONDS:return ea(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null)return r instanceof $e?r:new $e(String(r),"bigDecimal");if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var Z0,ll,ew=S(()=>{Bt();Z0="\u039D",ll=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof $e){let n=`${Z0+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${Z0+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ga,fh=S(()=>{Me();Bt();fn();ew();ga=class extends We{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=z.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new ll;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=z.of(t);if(o.isListSchema()&&Array.isArray(r)){let a=o.getValueSchema(),c=[],d=!!o.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&c.push(this._write(a,l));return c}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),c={},d=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(d||p!=null)&&(c[l]=this._write(a,p));return c}else if(o.isStructSchema()&&s){let a={};for(let[c,d]of o.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,p=this._write(d,r[c],o);p!==void 0&&(a[l]=p)}return a}if(!(r===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(o===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(o.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?o.getSchema()===U.TIMESTAMP_DEFAULT?a.default:o.getSchema()??a.default:a.default){case U.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case U.TIMESTAMP_HTTP_DATE:return Xi(r);case U.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(o.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return cr();let a=o.getMergedTraits().mediaType;if(typeof r=="string"&&a&&(a==="application/json"||a.endsWith("+json")))return Xe.from(r)}return r}}}});var vs,ul=S(()=>{fn();mh();fh();vs=class extends We{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ga(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ha(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var tw,bs,pl=S(()=>{Ar();Me();tw=w(pa());ul();fa();bs=class extends cs{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new vs({timestampFormat:{useTrait:!0,default:U.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${z.of(t).getName()}`}),(xr(t.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,tw.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){let a=Es(n,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=Ye.for(c),p;try{p=l.getSchema(a)}catch{let b=Ye.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(b){let P=b.ctor;throw Object.assign(new P(d),s)}throw new Error(d)}let m=z.of(p),h=s.message??s.Message??"Unknown",f=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,s);let y={};for(let[_,b]of m.structIterator()){let P=b.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(b,s[P])}throw Object.assign(f,{$metadata:o,$response:n,$fault:m.getMergedTraits().error,message:h,...y}),f}}});var hh,rw=S(()=>{pl();hh=class extends bs{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var gh,nw=S(()=>{pl();gh=class extends bs{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var sw,_h,ow=S(()=>{Ar();Me();sw=w(pa());ul();fa();_h=class extends as{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:U.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new vs(r),this.serializer=new ps(this.codec.createSerializer(),r),this.deserializer=new us(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=z.of(t.input),a=o.getMemberSchemas();if(!s.headers["content-type"]){let c=Object.values(a).find(d=>!!d.getMergedTraits().httpPayload);if(c){let d=c.getMergedTraits().mediaType;d?s.headers["content-type"]=d:c.isStringSchema()?s.headers["content-type"]="text/plain":c.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else o.isUnitSchema()||Object.values(a).find(l=>{let{httpQuery:p,httpQueryParams:m,httpHeader:h,httpLabel:f,httpPrefixHeaders:y}=l.getMergedTraits();return!p&&!m&&!h&&!f&&y===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,sw.calculateBodyLength)(s.body))}catch{}return s}async handleError(t,r,n,s,o){let a=Es(n,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=Ye.for(c),p;try{p=l.getSchema(a)}catch{let b=Ye.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(b){let P=b.ctor;throw Object.assign(new P(d),s)}throw new Error(d)}let m=z.of(p),h=s.message??s.Message??"Unknown",f=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,s);let y={};for(let[_,b]of m.structIterator()){let P=b.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(b,s[P])}throw Object.assign(f,{$metadata:o,$response:n,$fault:m.getMergedTraits().error,message:h,...y}),f}getDefaultContentType(){return"application/json"}}});var iw,Vq,aw=S(()=>{iw=w(K()),Vq=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,iw.expectUnion)(e)}});function ml(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let a=0;a<o;a++)s.push(n[a]);r.push(s),n=t.exec(e)}return r}function dw(e){return typeof e<"u"}var cw,zq,Gq,Wq,_a,fl=S(()=>{"use strict";cw=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",zq=cw+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Gq="["+cw+"]["+zq+"]*",Wq=new RegExp("^"+Gq+"$");_a=function(e){let t=Wq.exec(e);return!(t===null||typeof t>"u")}});function fw(e,t){t=Object.assign({},Jq,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=uw(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=pw(e,o);continue}else{let c=!1;e[o]==="/"&&(c=!0,o++);let d="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)d+=e[o];if(d=d.trim(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1),o--),!rV(d)){let m;return d.trim().length===0?m="Invalid space after '<'.":m="Tag '"+d+"' is an invalid name.",we("InvalidTag",m,et(e,o))}let l=Xq(e,o);if(l===!1)return we("InvalidAttr","Attributes for '"+d+"' have open quote.",et(e,o));let p=l.value;if(o=l.index,p[p.length-1]==="/"){let m=o-p.length;p=p.substring(0,p.length-1);let h=mw(p,t);if(h===!0)n=!0;else return we(h.err.code,h.err.msg,et(e,m+h.err.line))}else if(c)if(l.tagClosed){if(p.trim().length>0)return we("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",et(e,a));if(r.length===0)return we("InvalidTag","Closing tag '"+d+"' has not been opened.",et(e,a));{let m=r.pop();if(d!==m.tagName){let h=et(e,m.tagStartPos);return we("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+d+"'.",et(e,a))}r.length==0&&(s=!0)}}else return we("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",et(e,o));else{let m=mw(p,t);if(m!==!0)return we(m.err.code,m.err.msg,et(e,o-p.length+m.err.line));if(s===!0)return we("InvalidXml","Multiple possible root nodes found.",et(e,o));t.unpairedTags.indexOf(d)!==-1||r.push({tagName:d,tagStartPos:a}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=pw(e,o);continue}else if(e[o+1]==="?"){if(o=uw(e,++o),o.err)return o}else break;else if(e[o]==="&"){let m=eV(e,o);if(m==-1)return we("InvalidChar","char '&' is not expected.",et(e,o));o=m}else if(s===!0&&!lw(e[o]))return we("InvalidXml","Extra text at the end",et(e,o));e[o]==="<"&&o--}}else{if(lw(e[o]))continue;return we("InvalidChar","char '"+e[o]+"' is not expected.",et(e,o))}if(n){if(r.length==1)return we("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",et(e,r[0].tagStartPos));if(r.length>0)return we("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return we("InvalidXml","Start tag expected.",1);return!0}function lw(e){return e===" "||e==="	"||e===`
`||e==="\r"}function uw(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return we("InvalidXml","XML declaration allowed only at the start of the document.",et(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function pw(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function Xq(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===Kq||e[t]===Yq)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}function mw(e,t){let r=ml(e,Qq),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return we("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ya(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return we("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ya(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return we("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ya(r[s]));let o=r[s][2];if(!tV(o))return we("InvalidAttr","Attribute '"+o+"' is an invalid name.",ya(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return we("InvalidAttr","Attribute '"+o+"' is repeated.",ya(r[s]))}return!0}function Zq(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function eV(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Zq(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function we(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function tV(e){return _a(e)}function rV(e){return _a(e)}function et(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ya(e){return e.startIndex+e[1].length}var Jq,Kq,Yq,Qq,hw=S(()=>{"use strict";fl();Jq={allowBooleanAttributes:!1,unpairedTags:[]};Kq='"',Yq="'";Qq=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var nV,gw,_w=S(()=>{nV={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},gw=function(e){return Object.assign({},nV,e)}});var hl,yt,gl=S(()=>{"use strict";typeof Symbol!="function"?hl="@@xmlMetadata":hl=Symbol("XML Node Metadata");yt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][hl]={startIndex:r})}static getMetaDataSymbol(){return hl}}});function yh(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,o=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(s&&Cs(e,"!ENTITY",t)){t+=7;let c,d;[c,d,t]=sV(e,t+1),d.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:d})}else if(s&&Cs(e,"!ELEMENT",t)){t+=8;let{index:c}=iV(e,t+1);t=c}else if(s&&Cs(e,"!ATTLIST",t))t+=8;else if(s&&Cs(e,"!NOTATION",t)){t+=9;let{index:c}=oV(e,t+1);t=c}else if(Cs(e,"!--",t))o=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function sV(e,t){t=gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Sh(r),t=gn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=_l(e,t,"entity"),t--,[r,n,t]}function oV(e,t){t=gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Sh(r),t=gn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=gn(e,t);let s=null,o=null;if(n==="PUBLIC")[t,s]=_l(e,t,"publicIdentifier"),t=gn(e,t),(e[t]==='"'||e[t]==="'")&&([t,o]=_l(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,o]=_l(e,t,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:o,index:--t}}function _l(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function iV(e,t){t=gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Sh(r))throw new Error(`Invalid element name: "${r}"`);t=gn(e,t);let n="";if(e[t]==="E"&&Cs(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Cs(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Cs(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Sh(e){if(_a(e))return e;throw new Error(`Invalid entity name ${e}`)}var gn,yw=S(()=>{fl();gn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Eh(e,t={}){if(t=Object.assign({},dV,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&aV.test(r))return mV(r,16);if(r.search(/.+[eE].+/)!==-1)return uV(e,r,t);{let n=cV.exec(r);if(n){let s=n[1]||"",o=n[2],a=pV(n[3]),c=s?e[o.length+1]===".":e[o.length]===".";if(!t.leadingZeros&&(o.length>1||o.length===1&&!c))return e;{let d=Number(r),l=String(d);if(d===0)return d;if(l.search(/[eE]/)!==-1)return t.eNotation?d:e;if(r.indexOf(".")!==-1)return l==="0"||l===a||l===`${s}${a}`?d:e;let p=o?a:r;return o?p===l||s+p===l?d:e:p===l||p===s+l?d:e}}else return e}}function uV(e,t,r){if(!r.eNotation)return e;let n=t.match(lV);if(n){let s=n[1]||"",o=n[3].indexOf("e")===-1?"E":"e",a=n[2],c=s?e[a.length+1]===o:e[a.length]===o;return a.length>1&&c?e:a.length===1&&(n[3].startsWith(`.${o}`)||n[3][0]===o)?Number(t):r.leadingZeros&&!c?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function pV(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function mV(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var aV,cV,dV,lV,Sw=S(()=>{aV=/^[-+]?0x[a-fA-F0-9]+$/,cV=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,dV={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};lV=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function vh(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var Ew=S(()=>{});function fV(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function hV(e,t,r,n,s,o,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let c=this.options.tagValueProcessor(t,e,r,s,o);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?Ch(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Ch(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function gV(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function yV(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=ml(e,_V),s=n.length,o={};for(let a=0;a<s;a++){let c=this.resolveNameSpace(n[a][1]);if(this.ignoreAttributesFn(c,t))continue;let d=n[a][4],l=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),d!==void 0){this.options.trimValues&&(d=d.trim()),d=this.replaceEntitiesValue(d);let p=this.options.attributeValueProcessor(c,d,t);p==null?o[l]=d:typeof p!=typeof d||p!==d?o[l]=p:o[l]=Ch(d,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=o,a}return o}}function EV(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}function bV(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function CV(e,t,r){let n="*."+r;for(let s in e){let o=e[s];if(n===o||t===o)return!0}return!1}function wV(e,t,r=">"){let n,s="";for(let o=t;o<e.length;o++){let a=e[o];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else a==="	"&&(a=" ");s+=a}}function ws(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function bh(e,t,r,n=">"){let s=wV(e,t+1,n);if(!s)return;let o=s.data,a=s.index,c=o.search(/\s/),d=o,l=!0;c!==-1&&(d=o.substring(0,c),o=o.substring(c+1).trimStart());let p=d;if(r){let m=d.indexOf(":");m!==-1&&(d=d.substr(m+1),l=d!==s.data.substr(m+1))}return{tagName:d,tagExp:o,closeIndex:a,attrExpPresent:l,rawTagName:p}}function PV(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let o=ws(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i:o};r=o}else if(e[r+1]==="?")r=ws(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=ws(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=ws(e,"]]>",r,"StopNode is not closed.")-2;else{let o=bh(e,r,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function Ch(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Eh(e,r)}else return dw(e)?e:""}var Sa,_V,SV,vV,vw=S(()=>{"use strict";fl();gl();yw();Sw();Ew();Sa=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=fV,this.parseXml=SV,this.parseTextData=hV,this.resolveNameSpace=gV,this.buildAttributesMap=yV,this.isItStopNode=CV,this.replaceEntitiesValue=vV,this.readStopNodeData=PV,this.saveTextToParentTag=bV,this.addChild=EV,this.ignoreAttributesFn=vh(this.options.ignoreAttributes)}};_V=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");SV=function(e){e=e.replace(/\r\n?/g,`
`);let t=new yt("!xml"),r=t,n="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let c=ws(e,">",o,"Closing Tag is not closed."),d=e.substring(o+2,c).trim();if(this.options.removeNSPrefix){let m=d.indexOf(":");m!==-1&&(d=d.substr(m+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),r&&(n=this.saveTextToParentTag(n,r,s));let l=s.substring(s.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=s.lastIndexOf("."),s=s.substring(0,p),r=this.tagsNodeStack.pop(),n="",o=c}else if(e[o+1]==="?"){let c=bh(e,o,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){let d=new yt(c.tagName);d.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(d[":@"]=this.buildAttributesMap(c.tagExp,s,c.tagName)),this.addChild(r,d,s,o)}o=c.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let c=ws(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let d=e.substring(o+4,c-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}o=c}else if(e.substr(o+1,2)==="!D"){let c=yh(e,o);this.docTypeEntities=c.entities,o=c.i}else if(e.substr(o+1,2)==="!["){let c=ws(e,"]]>",o,"CDATA is not closed.")-2,d=e.substring(o+9,c);n=this.saveTextToParentTag(n,r,s);let l=this.parseTextData(d,r.tagname,s,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]):r.add(this.options.textNodeName,l),o=c+2}else{let c=bh(e,o,this.options.removeNSPrefix),d=c.tagName,l=c.rawTagName,p=c.tagExp,m=c.attrExpPresent,h=c.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let f=r;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),d!==t.tagname&&(s+=s?"."+d:d);let y=o;if(this.isItStopNode(this.options.stopNodes,s,d)){let _="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)d[d.length-1]==="/"?(d=d.substr(0,d.length-1),s=s.substr(0,s.length-1),p=d):p=p.substr(0,p.length-1),o=c.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)o=c.closeIndex;else{let P=this.readStopNodeData(e,l,h+1);if(!P)throw new Error(`Unexpected end of ${l}`);o=P.i,_=P.tagContent}let b=new yt(d);d!==p&&m&&(b[":@"]=this.buildAttributesMap(p,s,d)),_&&(_=this.parseTextData(_,d,s,!0,m,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),b.add(this.options.textNodeName,_),this.addChild(r,b,s,y)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),s=s.substr(0,s.length-1),p=d):p=p.substr(0,p.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));let _=new yt(d);d!==p&&m&&(_[":@"]=this.buildAttributesMap(p,s,d)),this.addChild(r,_,s,y),s=s.substr(0,s.lastIndexOf("."))}else{let _=new yt(d);this.tagsNodeStack.push(r),d!==p&&m&&(_[":@"]=this.buildAttributesMap(p,s,d)),this.addChild(r,_,s,y),r=_}n="",o=h}}else n+=e[o];return t.child};vV=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Ph(e,t){return bw(e,t)}function bw(e,t,r){let n,s={};for(let o=0;o<e.length;o++){let a=e[o],c=xV(a),d="";if(r===void 0?d=c:d=r+"."+c,c===t.textNodeName)n===void 0?n=a[c]:n+=""+a[c];else{if(c===void 0)continue;if(a[c]){let l=bw(a[c],t,d),p=OV(l,t);a[wh]!==void 0&&(l[wh]=a[wh]),a[":@"]?AV(l,a[":@"],d,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),s[c]!==void 0&&s.hasOwnProperty(c)?(Array.isArray(s[c])||(s[c]=[s[c]]),s[c].push(l)):t.isArray(c,d,p)?s[c]=[l]:s[c]=l}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function xV(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function AV(e,t,r,n){if(t){let s=Object.keys(t),o=s.length;for(let a=0;a<o;a++){let c=s[a];n.isArray(c,r+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function OV(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var wh,Cw=S(()=>{"use strict";gl();wh=yt.getMetaDataSymbol()});var _n,ww=S(()=>{_w();vw();Cw();hw();gl();_n=class{constructor(t){this.externalEntities={},this.options=gw(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=fw(t,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new Sa(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:Ph(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return yt.getMetaDataSymbol()}}});var xh=S(()=>{"use strict";ww()});var Pw,xw,Ps,yl=S(()=>{Ar();Me();Pw=w(K()),xw=w(ke());xh();fn();Ps=class extends We{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new ls(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=z.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(o)[0];return o[p].isBlobSchema()?l[p]=r:l[p]=this.read(o[p],r),l}let c=(this.serdeContext?.utf8Encoder??xw.toUtf8)(r),d=this.parseXml(c);return this.readSchema(t,n?d[n]:d)}readSchema(t,r){let n=z.of(t),s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let d=n.getValueSchema(),l=[],p=d.getMergedTraits().xmlName??"member",m=a?r:(r[0]??r)[p],h=Array.isArray(m)?m:[m];for(let f of h)(f!=null||o)&&l.push(this.readSchema(d,f));return l}let c={};if(n.isMapSchema()){let d=n.getKeySchema(),l=n.getValueSchema(),p;a?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let m=d.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let f of p){let y=f[m],_=f[h];(_!=null||o)&&(c[y]=this.readSchema(l,_))}return c}if(n.isStructSchema()){for(let[d,l]of n.structIterator()){let p=l.getMergedTraits(),m=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??d;r[m]!=null&&(c[d]=this.readSchema(l,r[m]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new _n({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(n)[0],a=n[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,Pw.getValueFromTextNode)(a)}return{}}}});var Aw,Ow,Sl,Iw=S(()=>{Ar();Me();Bt();Aw=w(K()),Ow=w(Ge());fn();Sl=class extends We{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=z.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Ow.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(cr()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof $e?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),ds(s,this.settings)){case U.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case U.TIMESTAMP_HTTP_DATE:this.writeValue((0,Aw.dateToUtcString)(r));break;case U.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let d of r){if(d==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),p=a?`${n}${c}`:`${n}${l}.${c}`;this.write(o,d,p),++c}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,d=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let m=this.getKey("key",o.getMergedTraits().xmlName),h=c?`${n}${d}.${m}`:`${n}entry.${d}.${m}`,f=this.getKey("value",a.getMergedTraits().xmlName),y=c?`${n}${d}.${f}`:`${n}entry.${d}.${f}`;this.write(o,l,h),this.write(a,p,y),++d}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,a]of s.structIterator()){if(r[o]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(o,a.getMergedTraits().xmlName),d=`${n}${c}`;this.write(a,r[o],d)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${or(t)}=`}writeValue(t){this.buffer+=or(t)}}});var Rw,Ea,Ah=S(()=>{Ar();Me();Rw=w(pa());yl();Iw();Ea=class extends cs{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:U.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Sl(r),this.deserializer=new Ps(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(xr(t.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,Rw.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){let s=this.deserializer,o=z.of(t.output),a={};if(n.statusCode>=300){let p=await $t(n.body,r);p.byteLength>0&&Object.assign(a,await s.read(U.DOCUMENT,p)),await this.handleError(t,r,n,a,this.deserializeMetadata(n))}for(let p in n.headers){let m=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=m}let c=o.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,d=await $t(n.body,r);return d.byteLength>0&&Object.assign(a,await s.read(o,d,c)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let a=this.loadQueryErrorCode(n,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=this.loadQueryError(s),p=Ye.for(c),m;try{m=p.find(b=>z.of(b).getMergedTraits().awsQueryError?.[0]===d),m||(m=p.getSchema(a))}catch{let P=Ye.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(P){let C=P.ctor;throw Object.assign(new C(d),l)}throw new Error(d)}let h=z.of(m),f=this.loadQueryErrorMessage(s),y=new m.ctor(f),_={};for(let[b,P]of h.structIterator()){let C=P.getMergedTraits().xmlName??b,q=l[C]??s[C];_[b]=this.deserializer.readSchema(P,q)}throw Object.assign(y,{$metadata:o,$response:n,$fault:h.getMergedTraits().error,message:f,..._}),y}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Oh,Tw=S(()=>{Ah();Oh=class extends Ea{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Nw,va,Ih,Rh,Th=S(()=>{Nw=w(K());xh();uh();va=(e,t)=>dl(e,t).then(r=>{if(r.length){let n=new _n({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(d,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(d){throw d&&typeof d=="object"&&Object.defineProperty(d,"$responseBodyText",{value:r}),d}let o="#text",a=Object.keys(s)[0],c=s[a];return c[o]&&(c[a]=c[o],delete c[o]),(0,Nw.getValueFromTextNode)(c)}return{}}),Ih=async(e,t)=>{let r=await va(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Rh=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Fw=A((Kfe,jw)=>{"use strict";var vl=Object.defineProperty,IV=Object.getOwnPropertyDescriptor,RV=Object.getOwnPropertyNames,TV=Object.prototype.hasOwnProperty,bl=(e,t)=>vl(e,"name",{value:t,configurable:!0}),NV=(e,t)=>{for(var r in t)vl(e,r,{get:t[r],enumerable:!0})},DV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RV(t))!TV.call(e,s)&&s!==r&&vl(e,s,{get:()=>t[s],enumerable:!(n=IV(t,s))||n.enumerable});return e},kV=e=>DV(vl({},"__esModule",{value:!0}),e),Dw={};NV(Dw,{XmlNode:()=>MV,XmlText:()=>Lw});jw.exports=kV(Dw);function kw(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}bl(kw,"escapeAttribute");function Mw(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}bl(Mw,"escapeElement");var Lw=class{constructor(e){this.value=e}static{bl(this,"XmlText")}toString(){return Mw(""+this.value)}},MV=class El{constructor(t,r=[]){this.name=t,this.children=r}static{bl(this,"XmlNode")}attributes={};static of(t,r,n){let s=new El(t);return r!==void 0&&s.addChildNode(new Lw(r)),n!==void 0&&s.withName(n),s}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=El.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(a=>{a.withName(n),this.c(a)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),a=new El(n);o.map(c=>{a.c(c)}),this.c(a)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${kw(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}});var Ct,Nh,Cl,ba,Dh=S(()=>{Ct=w(Fw());Me();Bt();Nh=w(K()),Cl=w(Ge());fn();ba=class extends We{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=z.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Cl.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let a=Ct.XmlNode.of(o),[c,d]=this.getXmlnsAttribute(t,n);d&&a.addAttribute(c,d);for(let[l,p]of t.structIterator()){let m=r[l];if(m!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){a.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,m));continue}if(p.isListSchema())this.writeList(p,m,a,d);else if(p.isMapSchema())this.writeMap(p,m,a,d);else if(p.isStructSchema())a.addChildNode(this.writeStruct(p,m,d));else{let h=Ct.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,m,h,d),a.addChildNode(h)}}}return a}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getValueSchema(),c=a.getMergedTraits(),d=!!c.sparse,l=!!o.xmlFlattened,[p,m]=this.getXmlnsAttribute(t,s),h=(f,y)=>{if(a.isListSchema())this.writeList(a,Array.isArray(y)?y:[y],f,m);else if(a.isMapSchema())this.writeMap(a,y,f,m);else if(a.isStructSchema()){let _=this.writeStruct(a,y,m);f.addChildNode(_.withName(l?o.xmlName??t.getMemberName():c.xmlName??"member"))}else{let _=Ct.XmlNode.of(l?o.xmlName??t.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,y,_,m),f.addChildNode(_)}};if(l)for(let f of r)(d||f!=null)&&h(n,f);else{let f=Ct.XmlNode.of(o.xmlName??t.getMemberName());m&&f.addAttribute(p,m);for(let y of r)(d||y!=null)&&h(f,y);n.addChildNode(f)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let a=t.getMergedTraits(),c=t.getKeySchema(),l=c.getMergedTraits().xmlName??"key",p=t.getValueSchema(),m=p.getMergedTraits(),h=m.xmlName??"value",f=!!m.sparse,y=!!a.xmlFlattened,[_,b]=this.getXmlnsAttribute(t,s),P=(C,q,F)=>{let $=Ct.XmlNode.of(l,q),[G,ie]=this.getXmlnsAttribute(c,b);ie&&$.addAttribute(G,ie),C.addChildNode($);let ee=Ct.XmlNode.of(h);p.isListSchema()?this.writeList(p,F,ee,b):p.isMapSchema()?this.writeMap(p,F,ee,b,!0):p.isStructSchema()?ee=this.writeStruct(p,F,b):this.writeSimpleInto(p,F,ee,b),C.addChildNode(ee)};if(y){for(let[C,q]of Object.entries(r))if(f||q!=null){let F=Ct.XmlNode.of(a.xmlName??t.getMemberName());P(F,C,q),n.addChildNode(F)}}else{let C;o||(C=Ct.XmlNode.of(a.xmlName??t.getMemberName()),b&&C.addAttribute(_,b),n.addChildNode(C));for(let[q,F]of Object.entries(r))if(f||F!=null){let $=Ct.XmlNode.of("entry");P($,q,F),(o?n:C).addChildNode($)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=z.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Cl.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let o=this.settings.timestampFormat;switch(o.useTrait?n.getSchema()===U.TIMESTAMP_DEFAULT?o.default:n.getSchema()??o.default:o.default){case U.TIMESTAMP_DATE_TIME:s=r.toISOString().replace(".000Z","Z");break;case U.TIMESTAMP_HTTP_DATE:s=(0,Nh.dateToUtcString)(r);break;case U.TIMESTAMP_EPOCH_SECONDS:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Nh.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof $e?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=cr():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),a=z.of(t),c=new Ct.XmlText(o),[d,l]=this.getXmlnsAttribute(a,s);l&&n.addAttribute(d,l),n.addChildNode(c)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var Ca,kh=S(()=>{fn();yl();Dh();Ca=class extends We{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ba(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ps(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Uw,Mh,$w=S(()=>{Ar();Me();Uw=w(pa());Th();kh();Mh=class extends as{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:U.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ca(r),this.serializer=new ps(this.codec.createSerializer(),r),this.deserializer=new us(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=z.of(t.input),a=o.getMemberSchemas();if(s.path=String(s.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let c=Object.values(a).find(d=>!!d.getMergedTraits().httpPayload);if(c){let d=c.getMergedTraits().mediaType;d?s.headers["content-type"]=d:c.isStringSchema()?s.headers["content-type"]="text/plain":c.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]=this.getDefaultContentType()}else o.isUnitSchema()||Object.values(a).find(l=>{let{httpQuery:p,httpQueryParams:m,httpHeader:h,httpLabel:f,httpPrefixHeaders:y}=l.getMergedTraits();return!p&&!m&&!h&&!f&&y===void 0})&&(s.headers["content-type"]=this.getDefaultContentType())}if(s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,Uw.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let a=Rh(n,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=Ye.for(c),p;try{p=l.getSchema(a)}catch{let b=Ye.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(b){let P=b.ctor;throw Object.assign(new P(d),s)}throw new Error(d)}let m=z.of(p),h=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,s);let y={};for(let[_,b]of m.structIterator()){let P=b.getMergedTraits().xmlName??_,C=s.Error?.[P]??s[P];y[_]=this.codec.createDeserializer().readSchema(b,C)}throw Object.assign(f,{$metadata:o,$response:n,$fault:m.getMergedTraits().error,message:h,...y}),f}getDefaultContentType(){return"application/xml"}}});var Bw=S(()=>{N0();rw();nw();pl();ow();ul();mh();fh();aw();fa();Tw();Ah();$w();kh();yl();Dh();Th()});var it={};jt(it,{AWSSDKSigV4Signer:()=>Bf,AwsEc2QueryProtocol:()=>Oh,AwsJson1_0Protocol:()=>hh,AwsJson1_1Protocol:()=>gh,AwsJsonRpcProtocol:()=>bs,AwsQueryProtocol:()=>Ea,AwsRestJsonProtocol:()=>_h,AwsRestXmlProtocol:()=>Mh,AwsSdkSigV4ASigner:()=>ua,AwsSdkSigV4Signer:()=>ot,JsonCodec:()=>vs,JsonShapeDeserializer:()=>ha,JsonShapeSerializer:()=>ga,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Fo,NODE_SIGV4A_CONFIG_OPTIONS:()=>XC,XmlCodec:()=>Ca,XmlShapeDeserializer:()=>Ps,XmlShapeSerializer:()=>ba,_toBool:()=>XH,_toNum:()=>QH,_toStr:()=>YH,awsExpectUnion:()=>Vq,emitWarningIfUnsupportedVersion:()=>Mo,getBearerTokenEnvKey:()=>Yd,loadRestJsonErrorCode:()=>Es,loadRestXmlErrorCode:()=>Rh,parseJsonBody:()=>$o,parseJsonErrorBody:()=>ph,parseXmlBody:()=>va,parseXmlErrorBody:()=>Ih,resolveAWSSDKSigV4Config:()=>O0,resolveAwsSdkSigV4AConfig:()=>YC,resolveAwsSdkSigV4Config:()=>ys,setCredentialFeature:()=>un,setFeature:()=>IC,setTokenFeature:()=>TC,state:()=>Kd,validateSigningProperties:()=>jo});var be=S(()=>{Ht();rh();Bw()});var xs=A((The,Zw)=>{"use strict";var Pl=Object.defineProperty,LV=Object.getOwnPropertyDescriptor,jV=Object.getOwnPropertyNames,FV=Object.prototype.hasOwnProperty,Tr=(e,t)=>Pl(e,"name",{value:t,configurable:!0}),UV=(e,t)=>{for(var r in t)Pl(e,r,{get:t[r],enumerable:!0})},$V=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jV(t))!FV.call(e,s)&&s!==r&&Pl(e,s,{get:()=>t[s],enumerable:!(n=LV(t,s))||n.enumerable});return e},BV=e=>$V(Pl({},"__esModule",{value:!0}),e),zw={};UV(zw,{DEFAULT_UA_APP_ID:()=>Gw,getUserAgentMiddlewareOptions:()=>Qw,getUserAgentPlugin:()=>KV,resolveUserAgentConfig:()=>Jw,userAgentMiddleware:()=>Xw});Zw.exports=BV(zw);var HV=(Qe(),Y(fs)),Gw=void 0;function Ww(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Tr(Ww,"isValidUserAgentAppId");function Jw(e){let t=(0,HV.normalizeProvider)(e.userAgentAppId??Gw),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Tr(async()=>{let n=await t();if(!Ww(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Tr(Jw,"resolveUserAgentConfig");var qV=gs(),VV=le(),dr=(be(),Y(it)),zV=/\d{12}\.ddb/;async function Kw(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,dr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?(0,dr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,dr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,dr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(zV)&&(0,dr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,dr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,dr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,dr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&(0,dr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(o.$source??{}))(0,dr.setFeature)(e,a,c)}}Tr(Kw,"checkFeatures");var Hw="user-agent",Lh="x-amz-user-agent",qw=" ",jh="/",GV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,WV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Vw="-",JV=1024;function Yw(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=JV){t.length?t+=","+n:t+=n;continue}break}return t}Tr(Yw,"encodeFeatures");var Xw=Tr(e=>(t,r)=>async n=>{let{request:s}=n;if(!VV.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,a=r?.userAgent?.map(wl)||[],c=(await e.defaultUserAgentProvider()).map(wl);await Kw(r,e,n);let d=r;c.push(`m/${Yw(Object.assign({},r.__smithy_context?.features,d.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(wl)||[],p=await e.userAgentAppId();p&&c.push(wl([`app/${p}`]));let m=(0,qV.getUserAgentPrefix)(),h=(m?[m]:[]).concat([...c,...a,...l]).join(qw),f=[...c.filter(y=>y.startsWith("aws-sdk-")),...l].join(qw);return e.runtime!=="browser"?(f&&(o[Lh]=o[Lh]?`${o[Hw]} ${f}`:f),o[Hw]=h):o[Lh]=h,t({...n,request:s})},"userAgentMiddleware"),wl=Tr(e=>{let t=e[0].split(jh).map(a=>a.replace(GV,Vw)).join(jh),r=e[1]?.replace(WV,Vw),n=t.indexOf(jh),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),Qw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},KV=Tr(e=>({applyToStack:Tr(t=>{t.add(Xw(e),Qw)},"applyToStack")}),"getUserAgentPlugin")});var sP=A((Nhe,nP)=>{var xl=Object.defineProperty,YV=Object.getOwnPropertyDescriptor,XV=Object.getOwnPropertyNames,QV=Object.prototype.hasOwnProperty,eP=(e,t)=>xl(e,"name",{value:t,configurable:!0}),ZV=(e,t)=>{for(var r in t)xl(e,r,{get:t[r],enumerable:!0})},e2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of XV(t))!QV.call(e,s)&&s!==r&&xl(e,s,{get:()=>t[s],enumerable:!(n=YV(t,s))||n.enumerable});return e},t2=e=>e2(xl({},"__esModule",{value:!0}),e),tP={};ZV(tP,{SelectorType:()=>rP,booleanSelector:()=>r2,numberSelector:()=>n2});nP.exports=t2(tP);var r2=eP((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),n2=eP((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),rP=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(rP||{})});var wt=A((Dhe,hP)=>{var Ol=Object.defineProperty,s2=Object.getOwnPropertyDescriptor,o2=Object.getOwnPropertyNames,i2=Object.prototype.hasOwnProperty,qt=(e,t)=>Ol(e,"name",{value:t,configurable:!0}),a2=(e,t)=>{for(var r in t)Ol(e,r,{get:t[r],enumerable:!0})},c2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of o2(t))!i2.call(e,s)&&s!==r&&Ol(e,s,{get:()=>t[s],enumerable:!(n=s2(t,s))||n.enumerable});return e},d2=e=>c2(Ol({},"__esModule",{value:!0}),e),aP={};a2(aP,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>dP,CONFIG_USE_FIPS_ENDPOINT:()=>uP,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>l2,DEFAULT_USE_FIPS_ENDPOINT:()=>p2,ENV_USE_DUALSTACK_ENDPOINT:()=>cP,ENV_USE_FIPS_ENDPOINT:()=>lP,NODE_REGION_CONFIG_FILE_OPTIONS:()=>y2,NODE_REGION_CONFIG_OPTIONS:()=>_2,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>u2,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>m2,REGION_ENV_NAME:()=>pP,REGION_INI_NAME:()=>mP,getRegionInfo:()=>C2,resolveCustomEndpointsConfig:()=>f2,resolveEndpointsConfig:()=>g2,resolveRegionConfig:()=>S2});hP.exports=d2(aP);var yn=sP(),cP="AWS_USE_DUALSTACK_ENDPOINT",dP="use_dualstack_endpoint",l2=!1,u2={environmentVariableSelector:e=>(0,yn.booleanSelector)(e,cP,yn.SelectorType.ENV),configFileSelector:e=>(0,yn.booleanSelector)(e,dP,yn.SelectorType.CONFIG),default:!1},lP="AWS_USE_FIPS_ENDPOINT",uP="use_fips_endpoint",p2=!1,m2={environmentVariableSelector:e=>(0,yn.booleanSelector)(e,lP,yn.SelectorType.ENV),configFileSelector:e=>(0,yn.booleanSelector)(e,uP,yn.SelectorType.CONFIG),default:!1},Al=vt(),f2=qt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Al.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Al.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),h2=qt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${a}`)},"getEndpointFromRegion"),g2=qt(e=>{let t=(0,Al.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?(0,Al.normalizeProvider)(typeof r=="string"?s(r):r):()=>h2({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),pP="AWS_REGION",mP="region",_2={environmentVariableSelector:e=>e[pP],configFileSelector:e=>e[mP],default:()=>{throw new Error("Region is missing")}},y2={preferredFile:"credentials"},fP=qt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),oP=qt(e=>fP(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),S2=qt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return oP(t);let n=await t();return oP(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return fP(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),iP=qt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),E2=qt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),v2=qt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),b2=qt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},"getResolvedSigningRegion"),C2=qt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let a=v2(e,{partitionHash:o}),c=e in s?e:o[a]?.endpoint??e,d={useFipsEndpoint:t,useDualstackEndpoint:r},l=iP(s[c]?.variants,d),p=iP(o[a]?.variants,d),m=E2(c,{regionHostname:l,partitionHostname:p});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=b2(m,{signingRegion:s[c]?.signingRegion,regionRegex:o[a].regionRegex,useFipsEndpoint:t});return{partition:a,signingService:n,hostname:m,...h&&{signingRegion:h},...s[c]?.signingService&&{signingService:s[c].signingService}}},"getRegionInfo")});var Bo=A((khe,EP)=>{var Il=Object.defineProperty,w2=Object.getOwnPropertyDescriptor,P2=Object.getOwnPropertyNames,x2=Object.prototype.hasOwnProperty,_P=(e,t)=>Il(e,"name",{value:t,configurable:!0}),A2=(e,t)=>{for(var r in t)Il(e,r,{get:t[r],enumerable:!0})},O2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P2(t))!x2.call(e,s)&&s!==r&&Il(e,s,{get:()=>t[s],enumerable:!(n=w2(t,s))||n.enumerable});return e},I2=e=>O2(Il({},"__esModule",{value:!0}),e),yP={};A2(yP,{contentLengthMiddleware:()=>Fh,contentLengthMiddlewareOptions:()=>SP,getContentLengthPlugin:()=>T2});EP.exports=I2(yP);var R2=le(),gP="content-length";function Fh(e){return t=>async r=>{let n=r.request;if(R2.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(gP)===-1)try{let a=e(s);n.headers={...n.headers,[gP]:String(a)}}catch{}}return t({...r,request:n})}}_P(Fh,"contentLengthMiddleware");var SP={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},T2=_P(e=>({applyToStack:t=>{t.add(Fh(e.bodyLengthChecker),SP)}}),"getContentLengthPlugin")});var Ho=A(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getHomeDir=void 0;var N2=require("os"),D2=require("path"),Uh={},k2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",M2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${D2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=k2();return Uh[s]||(Uh[s]=(0,N2.homedir)()),Uh[s]};Rl.getHomeDir=M2});var $h=A(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getSSOTokenFilepath=void 0;var L2=require("crypto"),j2=require("path"),F2=Ho(),U2=e=>{let r=(0,L2.createHash)("sha1").update(e).digest("hex");return(0,j2.join)((0,F2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Tl.getSSOTokenFilepath=U2});var vP=A(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.getSSOTokenFromFile=void 0;var $2=require("fs"),B2=$h(),{readFile:H2}=$2.promises,q2=async e=>{let t=(0,B2.getSSOTokenFilepath)(e),r=await H2(t,"utf8");return JSON.parse(r)};Nl.getSSOTokenFromFile=q2});var Hh=A(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.slurpFile=void 0;var V2=require("fs"),{readFile:z2}=V2.promises,Bh={},G2=(e,t)=>((!Bh[e]||t?.ignoreCache)&&(Bh[e]=z2(e,"utf8")),Bh[e]);Dl.slurpFile=G2});var Sn=A((Uhe,Pa)=>{var Ll=Object.defineProperty,W2=Object.getOwnPropertyDescriptor,J2=Object.getOwnPropertyNames,K2=Object.prototype.hasOwnProperty,Pt=(e,t)=>Ll(e,"name",{value:t,configurable:!0}),Y2=(e,t)=>{for(var r in t)Ll(e,r,{get:t[r],enumerable:!0})},qh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of J2(t))!K2.call(e,s)&&s!==r&&Ll(e,s,{get:()=>t[s],enumerable:!(n=W2(t,s))||n.enumerable});return e},zh=(e,t,r)=>(qh(e,t,"default"),r&&qh(r,t,"default")),X2=e=>qh(Ll({},"__esModule",{value:!0}),e),wa={};Y2(wa,{CONFIG_PREFIX_SEPARATOR:()=>As,DEFAULT_PROFILE:()=>PP,ENV_PROFILE:()=>wP,getProfileName:()=>Q2,loadSharedConfigFiles:()=>AP,loadSsoSessionData:()=>uz,parseKnownFiles:()=>mz});Pa.exports=X2(wa);zh(wa,Ho(),Pa.exports);var wP="AWS_PROFILE",PP="default",Q2=Pt(e=>e.profile||process.env[wP]||PP,"getProfileName");zh(wa,$h(),Pa.exports);zh(wa,vP(),Pa.exports);var kl=tr(),Z2=Pt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(As);return r===-1?!1:Object.values(kl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(As),o=r.substring(0,s)===kl.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ml=require("path"),ez=Ho(),tz="AWS_CONFIG_FILE",xP=Pt(()=>process.env[tz]||(0,Ml.join)((0,ez.getHomeDir)(),".aws","config"),"getConfigFilepath"),rz=Ho(),nz="AWS_SHARED_CREDENTIALS_FILE",sz=Pt(()=>process.env[nz]||(0,Ml.join)((0,rz.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),oz=Ho(),iz=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,az=["__proto__","profile __proto__"],Vh=Pt(e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),d=iz.exec(c);if(d){let[,l,,p]=d;Object.values(kl.IniSectionType).includes(l)&&(r=[l,p].join(As))}else r=c;if(az.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[d,l]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(l==="")n=d;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let p=n?[n,d].join(As):d;t[r][p]=l}}}}return t},"parseIni"),bP=Hh(),CP=Pt(()=>({}),"swallowError"),As=".",AP=Pt(async(e={})=>{let{filepath:t=sz(),configFilepath:r=xP()}=e,n=(0,oz.getHomeDir)(),s="~/",o=t;t.startsWith(s)&&(o=(0,Ml.join)(n,t.slice(2)));let a=r;r.startsWith(s)&&(a=(0,Ml.join)(n,r.slice(2)));let c=await Promise.all([(0,bP.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Vh).then(Z2).catch(CP),(0,bP.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(Vh).catch(CP)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),cz=Pt(e=>Object.entries(e).filter(([t])=>t.startsWith(kl.IniSectionType.SSO_SESSION+As)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(As)+1)]:n}),{}),"getSsoSessionData"),dz=Hh(),lz=Pt(()=>({}),"swallowError"),uz=Pt(async(e={})=>(0,dz.slurpFile)(e.configFilepath??xP()).then(Vh).then(cz).catch(lz),"loadSsoSessionData"),pz=Pt((...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},"mergeConfigFiles"),mz=Pt(async e=>{let t=await AP(e);return pz(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Nr=A(($he,RP)=>{var jl=Object.defineProperty,fz=Object.getOwnPropertyDescriptor,hz=Object.getOwnPropertyNames,gz=Object.prototype.hasOwnProperty,qo=(e,t)=>jl(e,"name",{value:t,configurable:!0}),_z=(e,t)=>{for(var r in t)jl(e,r,{get:t[r],enumerable:!0})},yz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of hz(t))!gz.call(e,s)&&s!==r&&jl(e,s,{get:()=>t[s],enumerable:!(n=fz(t,s))||n.enumerable});return e},Sz=e=>yz(jl({},"__esModule",{value:!0}),e),IP={};_z(IP,{loadConfig:()=>wz});RP.exports=Sz(IP);var xa=Ze();function Gh(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}qo(Gh,"getSelectorName");var Ez=qo((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new xa.CredentialsProviderError(r.message||`Not found in ENV: ${Gh(e.toString())}`,{logger:t?.logger})}},"fromEnv"),OP=Sn(),vz=qo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,OP.getProfileName)(r),{configFile:s,credentialsFile:o}=await(0,OP.loadSharedConfigFiles)(r),a=o[n]||{},c=s[n]||{},d=t==="config"?{...a,...c}:{...c,...a};try{let p=e(d,t==="config"?s:o);if(p===void 0)throw new Error;return p}catch(l){throw new xa.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Gh(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),bz=qo(e=>typeof e=="function","isFunction"),Cz=qo(e=>bz(e)?async()=>await e():(0,xa.fromStatic)(e),"fromStatic"),wz=qo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,a={signingName:s,logger:o};return(0,xa.memoize)((0,xa.chain)(Ez(e,a),vz(t,n),Cz(r)))},"loadConfig")});var kP=A(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.getEndpointUrlConfig=void 0;var TP=Sn(),NP="AWS_ENDPOINT_URL",DP="endpoint_url",Pz=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[NP,...r].join("_")];if(n)return n;let s=t[NP];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(TP.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),a=s[[o.join("_"),DP].join(TP.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=t[DP];if(n)return n},default:void 0});Fl.getEndpointUrlConfig=Pz});var Wh=A(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.getEndpointFromConfig=void 0;var xz=Nr(),Az=kP(),Oz=async e=>(0,xz.loadConfig)((0,Az.getEndpointUrlConfig)(e??""))();Ul.getEndpointFromConfig=Oz});var Dr=A((qhe,BP)=>{var Bl=Object.defineProperty,Iz=Object.getOwnPropertyDescriptor,Rz=Object.getOwnPropertyNames,Tz=Object.prototype.hasOwnProperty,xt=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),Nz=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},Dz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rz(t))!Tz.call(e,s)&&s!==r&&Bl(e,s,{get:()=>t[s],enumerable:!(n=Iz(t,s))||n.enumerable});return e},kz=e=>Dz(Bl({},"__esModule",{value:!0}),e),LP={};Nz(LP,{endpointMiddleware:()=>UP,endpointMiddlewareOptions:()=>$P,getEndpointFromInstructions:()=>jP,getEndpointPlugin:()=>zz,resolveEndpointConfig:()=>Wz,resolveEndpointRequiredConfig:()=>Jz,resolveParams:()=>FP,toEndpointV1:()=>Jh});BP.exports=kz(LP);var Mz=xt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),$z(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Uz(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),Lz=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,jz=/(\d+\.){3}\d+/,Fz=/\.\./,Uz=xt(e=>Lz.test(e)&&!jz.test(e)&&!Fz.test(e),"isDnsCompatibleBucketName"),$z=xt(e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,a=!!(o&&r&&n&&s);if(o&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},"isArnBucketName"),Bz=xt((e,t,r)=>{let n=xt(async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:c,path:d}=s;return`${o}//${a}${c?":"+c:""}${d}`}}return s}:n},"createConfigValueProvider"),Hz=Wh(),MP=Rr(),Jh=xt(e=>typeof e=="object"?"url"in e?(0,MP.parseUrl)(e.url):e:(0,MP.parseUrl)(e),"toEndpointV1"),jP=xt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let a;r.serviceConfiguredEndpoint?a=await r.serviceConfiguredEndpoint():a=await(0,Hz.getEndpointFromConfig)(r.serviceId),a&&(r.endpoint=()=>Promise.resolve(Jh(a)),r.isCustomEndpoint=!0)}let s=await FP(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),FP=xt(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Bz(a.name,o,r)();break;case"operationContextParams":n[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Mz(n),n},"resolveParams"),qz=(Qe(),Y(fs)),$l=vt(),UP=xt(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,qz.setFeature)(n,"ENDPOINT_OVERRIDE","N");let o=await jP(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let d=(0,$l.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return r({...s})},"endpointMiddleware"),Vz=Cr(),$P={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Vz.serializerMiddlewareOption.name},zz=xt((e,t)=>({applyToStack:r=>{r.addRelativeTo(UP({config:e,instructions:t}),$P)}}),"getEndpointPlugin"),Gz=Wh(),Wz=xt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Jh(await(0,$l.normalizeProvider)(r)()):void 0,c=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,$l.normalizeProvider)(n??!1),useFipsEndpoint:(0,$l.normalizeProvider)(s??!1)}),d;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=(0,Gz.getEndpointFromConfig)(e.serviceId)),d),c},"resolveEndpointConfig"),Jz=xt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Yh=A((Vhe,zP)=>{var Hl=Object.defineProperty,Kz=Object.getOwnPropertyDescriptor,Yz=Object.getOwnPropertyNames,Xz=Object.prototype.hasOwnProperty,Os=(e,t)=>Hl(e,"name",{value:t,configurable:!0}),Qz=(e,t)=>{for(var r in t)Hl(e,r,{get:t[r],enumerable:!0})},Zz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Yz(t))!Xz.call(e,s)&&s!==r&&Hl(e,s,{get:()=>t[s],enumerable:!(n=Kz(t,s))||n.enumerable});return e},eG=e=>Zz(Hl({},"__esModule",{value:!0}),e),HP={};Qz(HP,{isBrowserNetworkError:()=>VP,isClockSkewCorrectedError:()=>qP,isClockSkewError:()=>cG,isRetryableByTrait:()=>aG,isServerError:()=>lG,isThrottlingError:()=>dG,isTransientError:()=>Kh});zP.exports=eG(HP);var tG=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],rG=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],nG=["TimeoutError","RequestTimeout","RequestTimeoutException"],sG=[500,502,503,504],oG=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],iG=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],aG=Os(e=>e.$retryable!==void 0,"isRetryableByTrait"),cG=Os(e=>tG.includes(e.name),"isClockSkewError"),qP=Os(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),VP=Os(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),dG=Os(e=>e.$metadata?.httpStatusCode===429||rG.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Kh=Os((e,t=0)=>qP(e)||nG.includes(e.name)||oG.includes(e?.code||"")||iG.includes(e?.code||"")||sG.includes(e.$metadata?.httpStatusCode||0)||VP(e)||e.cause!==void 0&&t<=10&&Kh(e.cause,t+1),"isTransientError"),lG=Os(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Kh(e)}return!1},"isServerError")});var Is=A((zhe,tx)=>{var ql=Object.defineProperty,uG=Object.getOwnPropertyDescriptor,pG=Object.getOwnPropertyNames,mG=Object.prototype.hasOwnProperty,Vt=(e,t)=>ql(e,"name",{value:t,configurable:!0}),fG=(e,t)=>{for(var r in t)ql(e,r,{get:t[r],enumerable:!0})},hG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pG(t))!mG.call(e,s)&&s!==r&&ql(e,s,{get:()=>t[s],enumerable:!(n=uG(t,s))||n.enumerable});return e},gG=e=>hG(ql({},"__esModule",{value:!0}),e),WP={};fG(WP,{AdaptiveRetryStrategy:()=>bG,ConfiguredRetryStrategy:()=>CG,DEFAULT_MAX_ATTEMPTS:()=>Xh,DEFAULT_RETRY_DELAY_BASE:()=>Aa,DEFAULT_RETRY_MODE:()=>_G,DefaultRateLimiter:()=>KP,INITIAL_RETRY_TOKENS:()=>Qh,INVOCATION_ID_HEADER:()=>SG,MAXIMUM_RETRY_DELAY:()=>Zh,NO_RETRY_INCREMENT:()=>ex,REQUEST_HEADER:()=>EG,RETRY_COST:()=>QP,RETRY_MODES:()=>JP,StandardRetryStrategy:()=>eg,THROTTLING_RETRY_DELAY_BASE:()=>XP,TIMEOUT_RETRY_COST:()=>ZP});tx.exports=gG(WP);var JP=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(JP||{}),Xh=3,_G="standard",yG=Yh(),KP=class YP{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Vt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>YP.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,yG.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Aa=100,Zh=20*1e3,XP=500,Qh=500,QP=5,ZP=10,ex=1,SG="amz-sdk-invocation-id",EG="amz-sdk-request",vG=Vt(()=>{let e=Aa;return{computeNextBackoffDelay:Vt(n=>Math.floor(Math.min(Zh,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Vt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),GP=Vt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Vt(()=>t,"getRetryCount"),getRetryDelay:Vt(()=>Math.min(Zh,e),"getRetryDelay"),getRetryCost:Vt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),eg=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Qh,this.retryBackoffStrategy=vG(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Vt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return GP({retryDelay:Aa,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?XP:Aa);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(n);return this.capacity-=a,GP({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Qh,this.capacity+(e.getRetryCost()??ex))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Xh}`),Xh}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?ZP:QP}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},bG=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new KP,this.standardRetryStrategy=new eg(e)}static{Vt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},CG=class extends eg{static{Vt(this,"ConfiguredRetryStrategy")}constructor(e,t=Aa){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var rx=A(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.isStreamingPayload=void 0;var wG=require("stream"),PG=e=>e?.body instanceof wG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Vl.isStreamingPayload=PG});var zt=A((Yhe,_x)=>{var zl=Object.defineProperty,xG=Object.getOwnPropertyDescriptor,AG=Object.getOwnPropertyNames,OG=Object.prototype.hasOwnProperty,Ae=(e,t)=>zl(e,"name",{value:t,configurable:!0}),IG=(e,t)=>{for(var r in t)zl(e,r,{get:t[r],enumerable:!0})},RG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of AG(t))!OG.call(e,s)&&s!==r&&zl(e,s,{get:()=>t[s],enumerable:!(n=xG(t,s))||n.enumerable});return e},TG=e=>RG(zl({},"__esModule",{value:!0}),e),sx={};IG(sx,{AdaptiveRetryStrategy:()=>kG,CONFIG_MAX_ATTEMPTS:()=>rg,CONFIG_RETRY_MODE:()=>ux,ENV_MAX_ATTEMPTS:()=>tg,ENV_RETRY_MODE:()=>lx,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>MG,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>jG,StandardRetryStrategy:()=>dx,defaultDelayDecider:()=>ix,defaultRetryDecider:()=>ax,getOmitRetryHeadersPlugin:()=>FG,getRetryAfterHint:()=>gx,getRetryPlugin:()=>VG,omitRetryHeadersMiddleware:()=>px,omitRetryHeadersMiddlewareOptions:()=>mx,resolveRetryConfig:()=>LG,retryMiddleware:()=>fx,retryMiddlewareOptions:()=>hx});_x.exports=TG(sx);var Vo=le(),ox=(oa(),Y(Fd)),ge=Is(),NG=Ae((e,t)=>{let r=e,n=t?.noRetryIncrement??ge.NO_RETRY_INCREMENT,s=t?.retryCost??ge.RETRY_COST,o=t?.timeoutRetryCost??ge.TIMEOUT_RETRY_COST,a=e,c=Ae(m=>m.name==="TimeoutError"?o:s,"getCapacityAmount"),d=Ae(m=>c(m)<=a,"hasRetryTokens");return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:Ae(m=>{if(!d(m))throw new Error("No retry token available");let h=c(m);return a-=h,h},"retrieveRetryTokens"),releaseRetryTokens:Ae(m=>{a+=m??n,a=Math.min(a,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),ix=Ae((e,t)=>Math.floor(Math.min(ge.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),En=Yh(),ax=Ae(e=>e?(0,En.isRetryableByTrait)(e)||(0,En.isClockSkewError)(e)||(0,En.isThrottlingError)(e)||(0,En.isTransientError)(e):!1,"defaultRetryDecider"),cx=Ae(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),dx=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ge.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??ax,this.delayDecider=t?.delayDecider??ix,this.retryQuota=t?.retryQuota??NG(ge.INITIAL_RETRY_TOKENS)}static{Ae(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ge.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,o=0,a=await this.getMaxAttempts(),{request:c}=t;for(Vo.HttpRequest.isInstance(c)&&(c.headers[ge.INVOCATION_ID_HEADER]=(0,ox.v4)());;)try{Vo.HttpRequest.isInstance(c)&&(c.headers[ge.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),r?.beforeRequest&&await r.beforeRequest();let{response:d,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(d),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=o,{response:d,output:l}}catch(d){let l=cx(d);if(s++,this.shouldRetry(l,s,a)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,En.isThrottlingError)(l)?ge.THROTTLING_RETRY_DELAY_BASE:ge.DEFAULT_RETRY_DELAY_BASE,s),m=DG(l.$response),h=Math.max(m||0,p);o+=h,await new Promise(f=>setTimeout(f,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=o,l}}},DG=Ae(e=>{if(!Vo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),kG=class extends dx{static{Ae(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ge.DefaultRateLimiter,this.mode=ge.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},nx=vt(),tg="AWS_MAX_ATTEMPTS",rg="max_attempts",MG={environmentVariableSelector:e=>{let t=e[tg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${tg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[rg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${rg} mast be a number, got "${t}"`);return r},default:ge.DEFAULT_MAX_ATTEMPTS},LG=Ae(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,nx.normalizeProvider)(n??ge.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await(0,nx.normalizeProvider)(r)()===ge.RETRY_MODES.ADAPTIVE?new ge.AdaptiveRetryStrategy(s):new ge.StandardRetryStrategy(s))})},"resolveRetryConfig"),lx="AWS_RETRY_MODE",ux="retry_mode",jG={environmentVariableSelector:e=>e[lx],configFileSelector:e=>e[ux],default:ge.DEFAULT_RETRY_MODE},px=Ae(()=>e=>async t=>{let{request:r}=t;return Vo.HttpRequest.isInstance(r)&&(delete r.headers[ge.INVOCATION_ID_HEADER],delete r.headers[ge.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),mx={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},FG=Ae(e=>({applyToStack:t=>{t.addRelativeTo(px(),mx)}}),"getOmitRetryHeadersPlugin"),UG=K(),$G=rx(),fx=Ae(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(BG(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0,{request:p}=n,m=Vo.HttpRequest.isInstance(p);for(m&&(p.headers[ge.INVOCATION_ID_HEADER]=(0,ox.v4)());;)try{m&&(p.headers[ge.REQUEST_HEADER]=`attempt=${d+1}; max=${o}`);let{response:h,output:f}=await t(n);return s.recordSuccess(a),f.$metadata.attempts=d+1,f.$metadata.totalRetryDelay=l,{response:h,output:f}}catch(h){let f=HG(h);if(c=cx(h),m&&(0,$G.isStreamingPayload)(p))throw(r.logger instanceof UG.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,f)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=a.getRetryCount();let y=a.getRetryDelay();l+=y,await new Promise(_=>setTimeout(_,y))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),BG=Ae(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),HG=Ae(e=>{let t={error:e,errorType:qG(e)},r=gx(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),qG=Ae(e=>(0,En.isThrottlingError)(e)?"THROTTLING":(0,En.isTransientError)(e)?"TRANSIENT":(0,En.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),hx={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},VG=Ae(e=>({applyToStack:t=>{t.add(fx(e),hx)}}),"getRetryPlugin"),gx=Ae(e=>{if(!Vo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var sg=A(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.resolveHttpAuthSchemeConfig=vn.defaultSecretsManagerHttpAuthSchemeProvider=vn.defaultSecretsManagerHttpAuthSchemeParametersProvider=void 0;var zG=(be(),Y(it)),ng=vt(),GG=async(e,t,r)=>({operation:(0,ng.getSmithyContext)(t).operation,region:await(0,ng.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});vn.defaultSecretsManagerHttpAuthSchemeParametersProvider=GG;function WG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var JG=e=>{let t=[];switch(e.operation){default:t.push(WG(e))}return t};vn.defaultSecretsManagerHttpAuthSchemeProvider=JG;var KG=e=>{let t=(0,zG.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,ng.normalizeProvider)(e.authSchemePreference??[])})};vn.resolveHttpAuthSchemeConfig=KG});var Oa={};jt(Oa,{__addDisposableResource:()=>Hx,__assign:()=>Gl,__asyncDelegator:()=>kx,__asyncGenerator:()=>Dx,__asyncValues:()=>Mx,__await:()=>zo,__awaiter:()=>Ax,__classPrivateFieldGet:()=>Ux,__classPrivateFieldIn:()=>Bx,__classPrivateFieldSet:()=>$x,__createBinding:()=>Jl,__decorate:()=>Ex,__disposeResources:()=>qx,__esDecorate:()=>bx,__exportStar:()=>Ix,__extends:()=>yx,__generator:()=>Ox,__importDefault:()=>Fx,__importStar:()=>jx,__makeTemplateObject:()=>Lx,__metadata:()=>xx,__param:()=>vx,__propKey:()=>wx,__read:()=>ag,__rest:()=>Sx,__rewriteRelativeImportExtension:()=>Vx,__runInitializers:()=>Cx,__setFunctionName:()=>Px,__spread:()=>Rx,__spreadArray:()=>Nx,__spreadArrays:()=>Tx,__values:()=>Wl,default:()=>QG});function yx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");og(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Sx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Ex(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function vx(e,t){return function(r,n){t(r,n,e)}}function bx(e,t,r,n,s,o){function a(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,h=!1,f=r.length-1;f>=0;f--){var y={};for(var _ in n)y[_]=_==="access"?{}:n[_];for(var _ in n.access)y.access[_]=n.access[_];y.addInitializer=function(P){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(P||null))};var b=(0,r[f])(c==="accessor"?{get:p.get,set:p.set}:p[d],y);if(c==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=a(b.get))&&(p.get=m),(m=a(b.set))&&(p.set=m),(m=a(b.init))&&s.unshift(m)}else(m=a(b))&&(c==="field"?s.unshift(m):p[d]=m)}l&&Object.defineProperty(l,n.name,p),h=!0}function Cx(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function wx(e){return typeof e=="symbol"?e:"".concat(e)}function Px(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function xx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ax(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function c(p){try{l(n.next(p))}catch(m){a(m)}}function d(p){try{l(n.throw(p))}catch(m){a(m)}}function l(p){p.done?o(p.value):s(p.value).then(c,d)}l((n=n.apply(e,t||[])).next())})}function Ox(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(p){return d([l,p])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ix(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jl(t,e,r)}function Wl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ag(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Rx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ag(arguments[t]));return e}function Tx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],a=0,c=o.length;a<c;a++,s++)n[s]=o[a];return n}function Nx(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function zo(e){return this instanceof zo?(this.v=e,this):new zo(e)}function Dx(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(y){return Promise.resolve(y).then(f,m)}}function c(f,y){n[f]&&(s[f]=function(_){return new Promise(function(b,P){o.push([f,_,b,P])>1||d(f,_)})},y&&(s[f]=y(s[f])))}function d(f,y){try{l(n[f](y))}catch(_){h(o[0][3],_)}}function l(f){f.value instanceof zo?Promise.resolve(f.value.v).then(p,m):h(o[0][2],f)}function p(f){d("next",f)}function m(f){d("throw",f)}function h(f,y){f(y),o.shift(),o.length&&d(o[0][0],o[0][1])}}function kx(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(a){return(r=!r)?{value:zo(e[s](a)),done:!1}:o?o(a):a}:o}}function Mx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wl=="function"?Wl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(c,d){a=e[o](a),s(c,d,a.done,a.value)})}}function s(o,a,c,d){Promise.resolve(d).then(function(l){o({value:l,done:c})},a)}}function Lx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function jx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ig(e),n=0;n<r.length;n++)r[n]!=="default"&&Jl(t,e,r[n]);return YG(t,e),t}function Fx(e){return e&&e.__esModule?e:{default:e}}function Ux(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function $x(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Bx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Hx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function qx(e){function t(o){e.error=e.hasError?new XG(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Vx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,a){return n?t?".jsx":".js":s&&(!o||!a)?r:s+o+"."+a.toLowerCase()+"js"}):e}var og,Gl,Jl,YG,ig,XG,QG,Ia=S(()=>{og=function(e,t){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},og(e,t)};Gl=function(){return Gl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Gl.apply(this,arguments)};Jl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};YG=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ig=function(e){return ig=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ig(e)};XG=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};QG={__extends:yx,__assign:Gl,__rest:Sx,__decorate:Ex,__param:vx,__esDecorate:bx,__runInitializers:Cx,__propKey:wx,__setFunctionName:Px,__metadata:xx,__awaiter:Ax,__generator:Ox,__createBinding:Jl,__exportStar:Ix,__values:Wl,__read:ag,__spread:Rx,__spreadArrays:Tx,__spreadArray:Nx,__await:zo,__asyncGenerator:Dx,__asyncDelegator:kx,__asyncValues:Mx,__makeTemplateObject:Lx,__importStar:jx,__importDefault:Fx,__classPrivateFieldGet:Ux,__classPrivateFieldSet:$x,__classPrivateFieldIn:Bx,__addDisposableResource:Hx,__disposeResources:qx,__rewriteRelativeImportExtension:Vx}});var zx=A((ege,ZG)=>{ZG.exports={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var cg=A((tge,Zx)=>{"use strict";var Kl=Object.defineProperty,e3=Object.getOwnPropertyDescriptor,t3=Object.getOwnPropertyNames,r3=Object.prototype.hasOwnProperty,n3=(e,t)=>Kl(e,"name",{value:t,configurable:!0}),s3=(e,t)=>{for(var r in t)Kl(e,r,{get:t[r],enumerable:!0})},o3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of t3(t))!r3.call(e,s)&&s!==r&&Kl(e,s,{get:()=>t[s],enumerable:!(n=e3(t,s))||n.enumerable});return e},i3=e=>o3(Kl({},"__esModule",{value:!0}),e),Gx={};s3(Gx,{ENV_ACCOUNT_ID:()=>Qx,ENV_CREDENTIAL_SCOPE:()=>Xx,ENV_EXPIRATION:()=>Yx,ENV_KEY:()=>Wx,ENV_SECRET:()=>Jx,ENV_SESSION:()=>Kx,fromEnv:()=>d3});Zx.exports=i3(Gx);var a3=(Ht(),Y(pn)),c3=Ze(),Wx="AWS_ACCESS_KEY_ID",Jx="AWS_SECRET_ACCESS_KEY",Kx="AWS_SESSION_TOKEN",Yx="AWS_CREDENTIAL_EXPIRATION",Xx="AWS_CREDENTIAL_SCOPE",Qx="AWS_ACCOUNT_ID",d3=n3(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Wx],r=process.env[Jx],n=process.env[Kx],s=process.env[Yx],o=process.env[Xx],a=process.env[Qx];if(t&&r){let c={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...a&&{accountId:a}};return(0,a3.setCredentialFeature)(c,"CREDENTIALS_ENV_VARS","g"),c}throw new c3.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Ra=A((rge,mA)=>{var Ql=Object.defineProperty,l3=Object.getOwnPropertyDescriptor,u3=Object.getOwnPropertyNames,p3=Object.prototype.hasOwnProperty,Oe=(e,t)=>Ql(e,"name",{value:t,configurable:!0}),m3=(e,t)=>{for(var r in t)Ql(e,r,{get:t[r],enumerable:!0})},f3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of u3(t))!p3.call(e,s)&&s!==r&&Ql(e,s,{get:()=>t[s],enumerable:!(n=l3(t,s))||n.enumerable});return e},h3=e=>f3(Ql({},"__esModule",{value:!0}),e),nA={};m3(nA,{DEFAULT_MAX_RETRIES:()=>aA,DEFAULT_TIMEOUT:()=>iA,ENV_CMDS_AUTH_TOKEN:()=>ug,ENV_CMDS_FULL_URI:()=>Yl,ENV_CMDS_RELATIVE_URI:()=>Xl,Endpoint:()=>dA,fromContainerMetadata:()=>S3,fromInstanceMetadata:()=>$3,getInstanceMetadataEndpoint:()=>uA,httpRequest:()=>Go,providerConfigFromInit:()=>pg});mA.exports=h3(nA);var g3=require("url"),lr=Ze(),_3=require("buffer"),y3=require("http");function Go(e){return new Promise((t,r)=>{let n=(0,y3.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new lr.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new lr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new lr.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(_3.Buffer.concat(a)),n.destroy()})}),n.end()})}Oe(Go,"httpRequest");var sA=Oe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),oA=Oe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),iA=1e3,aA=0,pg=Oe(({maxRetries:e=aA,timeout:t=iA})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),lg=Oe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Yl="AWS_CONTAINER_CREDENTIALS_FULL_URI",Xl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ug="AWS_CONTAINER_AUTHORIZATION_TOKEN",S3=Oe((e={})=>{let{timeout:t,maxRetries:r}=pg(e);return()=>lg(async()=>{let n=await w3({logger:e.logger}),s=JSON.parse(await E3(t,n));if(!sA(s))throw new lr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return oA(s)},r)},"fromContainerMetadata"),E3=Oe(async(e,t)=>(process.env[ug]&&(t.headers={...t.headers,Authorization:process.env[ug]}),(await Go({...t,timeout:e})).toString()),"requestFromEcsImds"),v3="169.254.170.2",b3={localhost:!0,"127.0.0.1":!0},C3={"http:":!0,"https:":!0},w3=Oe(async({logger:e})=>{if(process.env[Xl])return{hostname:v3,path:process.env[Xl]};if(process.env[Yl]){let t=(0,g3.parse)(process.env[Yl]);if(!t.hostname||!(t.hostname in b3))throw new lr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in C3))throw new lr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new lr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Xl} or ${Yl} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),P3=class cA extends lr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,cA.prototype)}static{Oe(this,"InstanceMetadataV1FallbackError")}},mg=Nr(),x3=Rr(),dA=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(dA||{}),A3="AWS_EC2_METADATA_SERVICE_ENDPOINT",O3="ec2_metadata_service_endpoint",I3={environmentVariableSelector:e=>e[A3],configFileSelector:e=>e[O3],default:void 0},lA=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(lA||{}),R3="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",T3="ec2_metadata_service_endpoint_mode",N3={environmentVariableSelector:e=>e[R3],configFileSelector:e=>e[T3],default:"IPv4"},uA=Oe(async()=>(0,x3.parseUrl)(await D3()||await k3()),"getInstanceMetadataEndpoint"),D3=Oe(async()=>(0,mg.loadConfig)(I3)(),"getFromEndpointConfig"),k3=Oe(async()=>{let e=await(0,mg.loadConfig)(N3)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(lA)}`)}},"getFromEndpointModeConfig"),M3=5*60,L3=5*60,j3="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",eA=Oe((e,t)=>{let r=M3+Math.floor(Math.random()*L3),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+j3);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),F3=Oe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=eA(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=eA(n,r);else throw o}return n=s,s}},"staticStabilityProvider"),pA="/latest/meta-data/iam/security-credentials/",U3="/latest/api/token",dg="AWS_EC2_METADATA_V1_DISABLED",tA="ec2_metadata_v1_disabled",rA="x-aws-ec2-metadata-token",$3=Oe((e={})=>F3(B3(e),{logger:e.logger}),"fromInstanceMetadata"),B3=Oe((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=pg(e),a=Oe(async(c,d)=>{if(t||d.headers?.[rA]==null){let m=!1,h=!1,f=await(0,mg.loadConfig)({environmentVariableSelector:y=>{let _=y[dg];if(h=!!_&&_!=="false",_===void 0)throw new lr.CredentialsProviderError(`${dg} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:y=>{let _=y[tA];return m=!!_&&_!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||f){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&y.push(`config file profile (${tA})`),h&&y.push(`process environment variable (${dg})`),new P3(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let p=(await lg(async()=>{let m;try{m=await q3(d)}catch(h){throw h.statusCode===401&&(t=!1),h}return m},c)).trim();return lg(async()=>{let m;try{m=await V3(p,d,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return m},c)},"getCredentials");return async()=>{let c=await uA();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(o,{...c,timeout:s});{let d;try{d=(await H3({...c,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(o,{...c,timeout:s})}return a(o,{...c,headers:{[rA]:d},timeout:s})}}},"getInstanceMetadataProvider"),H3=Oe(async e=>Go({...e,path:U3,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),q3=Oe(async e=>(await Go({...e,path:pA})).toString(),"getProfile"),V3=Oe(async(e,t,r)=>{let n=JSON.parse((await Go({...t,path:pA+e})).toString());if(!sA(n))throw new lr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return oA(n)},"getCredentialsFromProfile")});var fA=A(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.checkUrl=void 0;var z3=Ze(),G3="169.254.170.2",W3="169.254.170.23",J3="[fd00:ec2::23]",K3=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===G3||e.hostname===W3||e.hostname===J3)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new z3.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Zl.checkUrl=K3});var hA=A(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.createGetRequest=Z3;eu.getCredentials=e4;var fg=Ze(),Y3=le(),X3=K(),Q3=Ad();function Z3(e){return new Y3.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function e4(e,t){let n=await(0,Q3.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new fg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,X3.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new fg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new fg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var gA=A(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.retryWrapper=void 0;var t4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};tu.retryWrapper=t4});var SA=A(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.fromHttp=void 0;var r4=(Ia(),Y(Oa)),n4=(Ht(),Y(pn)),s4=an(),_A=Ze(),o4=r4.__importDefault(require("fs/promises")),i4=fA(),yA=hA(),a4=gA(),c4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",d4="http://169.254.170.2",l4="AWS_CONTAINER_CREDENTIALS_FULL_URI",u4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",p4="AWS_CONTAINER_AUTHORIZATION_TOKEN",m4=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[c4],n=e.awsContainerCredentialsFullUri??process.env[l4],s=e.awsContainerAuthorizationToken??process.env[p4],o=e.awsContainerAuthorizationTokenFile??process.env[u4],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${d4}${r}`;else throw new _A.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(t);(0,i4.checkUrl)(c,e.logger);let d=new s4.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,a4.retryWrapper)(async()=>{let l=(0,yA.createGetRequest)(c);s?l.headers.Authorization=s:o&&(l.headers.Authorization=(await o4.default.readFile(o)).toString());try{let p=await d.handle(l);return(0,yA.getCredentials)(p.response).then(m=>(0,n4.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(p){throw new _A.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ru.fromHttp=m4});var hg=A(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.fromHttp=void 0;var f4=SA();Object.defineProperty(nu,"fromHttp",{enumerable:!0,get:function(){return f4.fromHttp}})});var _g=A(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.resolveHttpAuthSchemeConfig=bn.defaultSSOHttpAuthSchemeProvider=bn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var h4=(be(),Y(it)),gg=vt(),g4=async(e,t,r)=>({operation:(0,gg.getSmithyContext)(t).operation,region:await(0,gg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bn.defaultSSOHttpAuthSchemeParametersProvider=g4;function _4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function su(e){return{schemeId:"smithy.api#noAuth"}}var y4=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(su(e));break}case"ListAccountRoles":{t.push(su(e));break}case"ListAccounts":{t.push(su(e));break}case"Logout":{t.push(su(e));break}default:t.push(_4(e))}return t};bn.defaultSSOHttpAuthSchemeProvider=y4;var S4=e=>{let t=(0,h4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,gg.normalizeProvider)(e.authSchemePreference??[])})};bn.resolveHttpAuthSchemeConfig=S4});var EA=A((dge,E4)=>{E4.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Wo=A((lge,AA)=>{"use strict";var iu=Object.defineProperty,v4=Object.getOwnPropertyDescriptor,b4=Object.getOwnPropertyNames,C4=Object.prototype.hasOwnProperty,ou=(e,t)=>iu(e,"name",{value:t,configurable:!0}),w4=(e,t)=>{for(var r in t)iu(e,r,{get:t[r],enumerable:!0})},P4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b4(t))!C4.call(e,s)&&s!==r&&iu(e,s,{get:()=>t[s],enumerable:!(n=v4(t,s))||n.enumerable});return e},x4=e=>P4(iu({},"__esModule",{value:!0}),e),bA={};w4(bA,{NODE_APP_ID_CONFIG_OPTIONS:()=>T4,UA_APP_ID_ENV_NAME:()=>PA,UA_APP_ID_INI_NAME:()=>xA,createDefaultUserAgentProvider:()=>wA,crtAvailability:()=>CA,defaultUserAgent:()=>O4});AA.exports=x4(bA);var vA=require("os"),yg=require("process"),CA={isCrtAvailable:!1},A4=ou(()=>CA.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),wA=ou(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,vA.platform)()}`,(0,vA.release)()],["lang/js"],["md/nodejs",`${yg.versions.node}`]],s=A4();s&&n.push(s),e&&n.push([`api/${e}`,t]),yg.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${yg.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},"createDefaultUserAgentProvider"),O4=wA,I4=xs(),PA="AWS_SDK_UA_APP_ID",xA="sdk_ua_app_id",R4="sdk-ua-app-id",T4={environmentVariableSelector:ou(e=>e[PA],"environmentVariableSelector"),configFileSelector:ou(e=>e[xA]??e[R4],"configFileSelector"),default:I4.DEFAULT_UA_APP_ID}});var Jo=A((uge,TA)=>{var au=Object.defineProperty,N4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,k4=Object.prototype.hasOwnProperty,IA=(e,t)=>au(e,"name",{value:t,configurable:!0}),M4=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},L4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of D4(t))!k4.call(e,s)&&s!==r&&au(e,s,{get:()=>t[s],enumerable:!(n=N4(t,s))||n.enumerable});return e},j4=e=>L4(au({},"__esModule",{value:!0}),e),RA={};M4(RA,{Hash:()=>$4});TA.exports=j4(RA);var Sg=Oo(),F4=ke(),U4=require("buffer"),OA=require("crypto"),$4=class{static{IA(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,F4.toUint8Array)(Eg(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,OA.createHmac)(this.algorithmIdentifier,Eg(this.secret)):(0,OA.createHash)(this.algorithmIdentifier)}};function Eg(e,t){return U4.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Sg.fromString)(e,t):ArrayBuffer.isView(e)?(0,Sg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Sg.fromArrayBuffer)(e)}IA(Eg,"castSourceData")});var Ko=A((mge,kA)=>{var cu=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,H4=Object.getOwnPropertyNames,q4=Object.prototype.hasOwnProperty,V4=(e,t)=>cu(e,"name",{value:t,configurable:!0}),z4=(e,t)=>{for(var r in t)cu(e,r,{get:t[r],enumerable:!0})},G4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of H4(t))!q4.call(e,s)&&s!==r&&cu(e,s,{get:()=>t[s],enumerable:!(n=B4(t,s))||n.enumerable});return e},W4=e=>G4(cu({},"__esModule",{value:!0}),e),DA={};z4(DA,{calculateBodyLength:()=>J4});kA.exports=W4(DA);var NA=require("fs"),J4=V4(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,NA.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,NA.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var KA=A(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.ruleSet=void 0;var zA="required",Ot="fn",It="argv",Qo="ref",MA=!0,LA="isSet",Ta="booleanEquals",Yo="error",Xo="endpoint",kr="tree",vg="PartitionResult",bg="getAttr",jA={[zA]:!1,type:"String"},FA={[zA]:!0,default:!1,type:"Boolean"},UA={[Qo]:"Endpoint"},GA={[Ot]:Ta,[It]:[{[Qo]:"UseFIPS"},!0]},WA={[Ot]:Ta,[It]:[{[Qo]:"UseDualStack"},!0]},At={},$A={[Ot]:bg,[It]:[{[Qo]:vg},"supportsFIPS"]},JA={[Qo]:vg},BA={[Ot]:Ta,[It]:[!0,{[Ot]:bg,[It]:[JA,"supportsDualStack"]}]},HA=[GA],qA=[WA],VA=[{[Qo]:"Region"}],K4={version:"1.0",parameters:{Region:jA,UseDualStack:FA,UseFIPS:FA,Endpoint:jA},rules:[{conditions:[{[Ot]:LA,[It]:[UA]}],rules:[{conditions:HA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yo},{conditions:qA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yo},{endpoint:{url:UA,properties:At,headers:At},type:Xo}],type:kr},{conditions:[{[Ot]:LA,[It]:VA}],rules:[{conditions:[{[Ot]:"aws.partition",[It]:VA,assign:vg}],rules:[{conditions:[GA,WA],rules:[{conditions:[{[Ot]:Ta,[It]:[MA,$A]},BA],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Xo}],type:kr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yo}],type:kr},{conditions:HA,rules:[{conditions:[{[Ot]:Ta,[It]:[$A,MA]}],rules:[{conditions:[{[Ot]:"stringEquals",[It]:[{[Ot]:bg,[It]:[JA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:At,headers:At},type:Xo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Xo}],type:kr},{error:"FIPS is enabled but this partition does not support FIPS",type:Yo}],type:kr},{conditions:qA,rules:[{conditions:[BA],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Xo}],type:kr},{error:"DualStack is enabled but this partition does not support DualStack",type:Yo}],type:kr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Xo}],type:kr}],type:kr},{error:"Invalid Configuration: Missing Region",type:Yo}]};du.ruleSet=K4});var YA=A(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.defaultEndpointResolver=void 0;var Y4=gs(),Cg=hs(),X4=KA(),Q4=new Cg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Z4=(e,t={})=>Q4.get(e,()=>(0,Cg.resolveEndpoint)(X4.ruleSet,{endpointParams:e,logger:t.logger}));lu.defaultEndpointResolver=Z4;Cg.customEndpointFunctions.aws=Y4.awsEndpointFunctions});var ZA=A(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.getRuntimeConfig=void 0;var eW=(be(),Y(it)),tW=(Qe(),Y(fs)),rW=K(),nW=Rr(),XA=Ge(),QA=ke(),sW=_g(),oW=YA(),iW=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??XA.fromBase64,base64Encoder:e?.base64Encoder??XA.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oW.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sW.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new eW.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new tW.NoAuthSigner}],logger:e?.logger??new rW.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??nW.parseUrl,utf8Decoder:e?.utf8Decoder??QA.fromUtf8,utf8Encoder:e?.utf8Encoder??QA.toUtf8});uu.getRuntimeConfig=iW});var Zo=A((_ge,oO)=>{var aW=Object.create,Na=Object.defineProperty,cW=Object.getOwnPropertyDescriptor,dW=Object.getOwnPropertyNames,lW=Object.getPrototypeOf,uW=Object.prototype.hasOwnProperty,wg=(e,t)=>Na(e,"name",{value:t,configurable:!0}),pW=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},nO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dW(t))!uW.call(e,s)&&s!==r&&Na(e,s,{get:()=>t[s],enumerable:!(n=cW(t,s))||n.enumerable});return e},mW=(e,t,r)=>(r=e!=null?aW(lW(e)):{},nO(t||!e||!e.__esModule?Na(r,"default",{value:e,enumerable:!0}):r,e)),fW=e=>nO(Na({},"__esModule",{value:!0}),e),sO={};pW(sO,{resolveDefaultsModeConfig:()=>wW});oO.exports=fW(sO);var hW=wt(),eO=Nr(),gW=Ze(),_W="AWS_EXECUTION_ENV",tO="AWS_REGION",rO="AWS_DEFAULT_REGION",yW="AWS_EC2_METADATA_DISABLED",SW=["in-region","cross-region","mobile","standard","legacy"],EW="/latest/meta-data/placement/region",vW="AWS_DEFAULTS_MODE",bW="defaults_mode",CW={environmentVariableSelector:e=>e[vW],configFileSelector:e=>e[bW],default:"legacy"},wW=wg(({region:e=(0,eO.loadConfig)(hW.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,eO.loadConfig)(CW)}={})=>(0,gW.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return PW(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${SW.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),PW=wg(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await xW();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),xW=wg(async()=>{if(process.env[_W]&&(process.env[tO]||process.env[rO]))return process.env[tO]??process.env[rO];if(!process.env[yW])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>mW(Ra())),r=await e();return(await t({...r,path:EW})).toString()}catch{}},"inferPhysicalRegion")});var lO=A(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.getRuntimeConfig=void 0;var AW=(Ia(),Y(Oa)),OW=AW.__importDefault(EA()),iO=(be(),Y(it)),aO=Wo(),pu=wt(),IW=Jo(),cO=zt(),Rs=Nr(),dO=an(),RW=Ko(),TW=Is(),NW=ZA(),DW=K(),kW=Zo(),MW=K(),LW=e=>{(0,MW.emitWarningIfUnsupportedVersion)(process.version);let t=(0,kW.resolveDefaultsModeConfig)(e),r=()=>t().then(DW.loadConfigsForDefaultMode),n=(0,NW.getRuntimeConfig)(e);(0,iO.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rs.loadConfig)(iO.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??RW.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,aO.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:OW.default.version}),maxAttempts:e?.maxAttempts??(0,Rs.loadConfig)(cO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rs.loadConfig)(pu.NODE_REGION_CONFIG_OPTIONS,{...pu.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:dO.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rs.loadConfig)({...cO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||TW.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??IW.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dO.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rs.loadConfig)(pu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Rs.loadConfig)(pu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Rs.loadConfig)(aO.NODE_APP_ID_CONFIG_OPTIONS,s)}};mu.getRuntimeConfig=LW});var ei=A((Sge,gO)=>{"use strict";var fu=Object.defineProperty,jW=Object.getOwnPropertyDescriptor,FW=Object.getOwnPropertyNames,UW=Object.prototype.hasOwnProperty,ur=(e,t)=>fu(e,"name",{value:t,configurable:!0}),$W=(e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},BW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FW(t))!UW.call(e,s)&&s!==r&&fu(e,s,{get:()=>t[s],enumerable:!(n=jW(t,s))||n.enumerable});return e},HW=e=>BW(fu({},"__esModule",{value:!0}),e),pO={};$W(pO,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>GW,NODE_REGION_CONFIG_OPTIONS:()=>zW,REGION_ENV_NAME:()=>mO,REGION_INI_NAME:()=>fO,getAwsRegionExtensionConfiguration:()=>qW,resolveAwsRegionExtensionConfiguration:()=>VW,resolveRegionConfig:()=>WW});gO.exports=HW(pO);var qW=ur(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),VW=ur(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),mO="AWS_REGION",fO="region",zW={environmentVariableSelector:ur(e=>e[mO],"environmentVariableSelector"),configFileSelector:ur(e=>e[fO],"configFileSelector"),default:ur(()=>{throw new Error("Region is missing")},"default")},GW={preferredFile:"credentials"},hO=ur(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),uO=ur(e=>hO(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),WW=ur(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:ur(async()=>{if(typeof t=="string")return uO(t);let n=await t();return uO(n)},"region"),useFipsEndpoint:ur(async()=>{let n=typeof t=="string"?t:await t();return hO(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var KO=A((Ege,JO)=>{"use strict";var hu=Object.defineProperty,JW=Object.getOwnPropertyDescriptor,KW=Object.getOwnPropertyNames,YW=Object.prototype.hasOwnProperty,te=(e,t)=>hu(e,"name",{value:t,configurable:!0}),XW=(e,t)=>{for(var r in t)hu(e,r,{get:t[r],enumerable:!0})},QW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of KW(t))!YW.call(e,s)&&s!==r&&hu(e,s,{get:()=>t[s],enumerable:!(n=JW(t,s))||n.enumerable});return e},ZW=e=>QW(hu({},"__esModule",{value:!0}),e),CO={};XW(CO,{GetRoleCredentialsCommand:()=>zO,GetRoleCredentialsRequestFilterSensitiveLog:()=>DO,GetRoleCredentialsResponseFilterSensitiveLog:()=>MO,InvalidRequestException:()=>PO,ListAccountRolesCommand:()=>Pg,ListAccountRolesRequestFilterSensitiveLog:()=>LO,ListAccountsCommand:()=>xg,ListAccountsRequestFilterSensitiveLog:()=>jO,LogoutCommand:()=>GO,LogoutRequestFilterSensitiveLog:()=>FO,ResourceNotFoundException:()=>AO,RoleCredentialsFilterSensitiveLog:()=>kO,SSO:()=>WO,SSOClient:()=>_u,SSOServiceException:()=>ti,TooManyRequestsException:()=>IO,UnauthorizedException:()=>TO,__Client:()=>H.Client,paginateListAccountRoles:()=>P6,paginateListAccounts:()=>x6});JO.exports=ZW(CO);var _O=Po(),e6=xo(),t6=Ao(),yO=xs(),r6=wt(),Mr=(Qe(),Y(fs)),n6=Bo(),ka=Dr(),SO=zt(),EO=_g(),s6=te(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),gu={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},o6=lO(),vO=ei(),bO=le(),H=K(),i6=te(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(a=>a.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),a6=te(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),c6=te((e,t)=>{let r=Object.assign((0,vO.getAwsRegionExtensionConfiguration)(e),(0,H.getDefaultExtensionConfiguration)(e),(0,bO.getHttpHandlerExtensionConfiguration)(e),i6(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,vO.resolveAwsRegionExtensionConfiguration)(r),(0,H.resolveDefaultRuntimeConfig)(r),(0,bO.resolveHttpHandlerRuntimeConfig)(r),a6(r))},"resolveRuntimeExtensions"),_u=class extends H.Client{static{te(this,"SSOClient")}config;constructor(...[e]){let t=(0,o6.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=s6(t),n=(0,yO.resolveUserAgentConfig)(r),s=(0,SO.resolveRetryConfig)(n),o=(0,r6.resolveRegionConfig)(s),a=(0,_O.resolveHostHeaderConfig)(o),c=(0,ka.resolveEndpointConfig)(a),d=(0,EO.resolveHttpAuthSchemeConfig)(c),l=c6(d,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,yO.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,SO.getRetryPlugin)(this.config)),this.middlewareStack.use((0,n6.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,_O.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,e6.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,t6.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Mr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:EO.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:te(async p=>new Mr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Mr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},yu=Cr(),ti=class wO extends H.ServiceException{static{te(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,wO.prototype)}},PO=class xO extends ti{static{te(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,xO.prototype)}},AO=class OO extends ti{static{te(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,OO.prototype)}},IO=class RO extends ti{static{te(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,RO.prototype)}},TO=class NO extends ti{static{te(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,NO.prototype)}},DO=te(e=>({...e,...e.accessToken&&{accessToken:H.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),kO=te(e=>({...e,...e.secretAccessKey&&{secretAccessKey:H.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:H.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),MO=te(e=>({...e,...e.roleCredentials&&{roleCredentials:kO(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),LO=te(e=>({...e,...e.accessToken&&{accessToken:H.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),jO=te(e=>({...e,...e.accessToken&&{accessToken:H.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),FO=te(e=>({...e,...e.accessToken&&{accessToken:H.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Da=(be(),Y(it)),d6=te(async(e,t)=>{let r=(0,Mr.requestBuilder)(e,t),n=(0,H.map)({},H.isSerializableHeaderValue,{[vu]:e[Eu]});r.bp("/federation/credentials");let s=(0,H.map)({[C6]:[,(0,H.expectNonNull)(e[b6],"roleName")],[$O]:[,(0,H.expectNonNull)(e[UO],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),l6=te(async(e,t)=>{let r=(0,Mr.requestBuilder)(e,t),n=(0,H.map)({},H.isSerializableHeaderValue,{[vu]:e[Eu]});r.bp("/assignment/roles");let s=(0,H.map)({[VO]:[,e[qO]],[HO]:[()=>e.maxResults!==void 0,()=>e[BO].toString()],[$O]:[,(0,H.expectNonNull)(e[UO],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountRolesCommand"),u6=te(async(e,t)=>{let r=(0,Mr.requestBuilder)(e,t),n=(0,H.map)({},H.isSerializableHeaderValue,{[vu]:e[Eu]});r.bp("/assignment/accounts");let s=(0,H.map)({[VO]:[,e[qO]],[HO]:[()=>e.maxResults!==void 0,()=>e[BO].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListAccountsCommand"),p6=te(async(e,t)=>{let r=(0,Mr.requestBuilder)(e,t),n=(0,H.map)({},H.isSerializableHeaderValue,{[vu]:e[Eu]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),m6=te(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Su(e,t);let r=(0,H.map)({$metadata:Cn(e)}),n=(0,H.expectNonNull)((0,H.expectObject)(await(0,Da.parseJsonBody)(e.body,t)),"body"),s=(0,H.take)(n,{roleCredentials:H._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),f6=te(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Su(e,t);let r=(0,H.map)({$metadata:Cn(e)}),n=(0,H.expectNonNull)((0,H.expectObject)(await(0,Da.parseJsonBody)(e.body,t)),"body"),s=(0,H.take)(n,{nextToken:H.expectString,roleList:H._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),h6=te(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Su(e,t);let r=(0,H.map)({$metadata:Cn(e)}),n=(0,H.expectNonNull)((0,H.expectObject)(await(0,Da.parseJsonBody)(e.body,t)),"body"),s=(0,H.take)(n,{accountList:H._json,nextToken:H.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),g6=te(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Su(e,t);let r=(0,H.map)({$metadata:Cn(e)});return await(0,H.collectBody)(e.body,t),r},"de_LogoutCommand"),Su=te(async(e,t)=>{let r={...e,body:await(0,Da.parseJsonErrorBody)(e.body,t)},n=(0,Da.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await y6(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await S6(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await E6(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await v6(r,t);default:let s=r.body;return _6({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),_6=(0,H.withBaseException)(ti),y6=te(async(e,t)=>{let r=(0,H.map)({}),n=e.body,s=(0,H.take)(n,{message:H.expectString});Object.assign(r,s);let o=new PO({$metadata:Cn(e),...r});return(0,H.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),S6=te(async(e,t)=>{let r=(0,H.map)({}),n=e.body,s=(0,H.take)(n,{message:H.expectString});Object.assign(r,s);let o=new AO({$metadata:Cn(e),...r});return(0,H.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),E6=te(async(e,t)=>{let r=(0,H.map)({}),n=e.body,s=(0,H.take)(n,{message:H.expectString});Object.assign(r,s);let o=new IO({$metadata:Cn(e),...r});return(0,H.decorateServiceException)(o,e.body)},"de_TooManyRequestsExceptionRes"),v6=te(async(e,t)=>{let r=(0,H.map)({}),n=e.body,s=(0,H.take)(n,{message:H.expectString});Object.assign(r,s);let o=new TO({$metadata:Cn(e),...r});return(0,H.decorateServiceException)(o,e.body)},"de_UnauthorizedExceptionRes"),Cn=te(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),UO="accountId",Eu="accessToken",$O="account_id",BO="maxResults",HO="max_result",qO="nextToken",VO="next_token",b6="roleName",C6="role_name",vu="x-amz-sso_bearer_token",zO=class extends H.Command.classBuilder().ep(gu).m(function(e,t,r,n){return[(0,yu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ka.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(DO,MO).ser(d6).de(m6).build(){static{te(this,"GetRoleCredentialsCommand")}},Pg=class extends H.Command.classBuilder().ep(gu).m(function(e,t,r,n){return[(0,yu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ka.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(LO,void 0).ser(l6).de(f6).build(){static{te(this,"ListAccountRolesCommand")}},xg=class extends H.Command.classBuilder().ep(gu).m(function(e,t,r,n){return[(0,yu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ka.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(jO,void 0).ser(u6).de(h6).build(){static{te(this,"ListAccountsCommand")}},GO=class extends H.Command.classBuilder().ep(gu).m(function(e,t,r,n){return[(0,yu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,ka.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(FO,void 0).ser(p6).de(g6).build(){static{te(this,"LogoutCommand")}},w6={GetRoleCredentialsCommand:zO,ListAccountRolesCommand:Pg,ListAccountsCommand:xg,LogoutCommand:GO},WO=class extends _u{static{te(this,"SSO")}};(0,H.createAggregatedClient)(w6,WO);var P6=(0,Mr.createPaginator)(_u,Pg,"nextToken","nextToken","maxResults"),x6=(0,Mr.createPaginator)(_u,xg,"nextToken","nextToken","maxResults")});function A6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function O6(e){return{schemeId:"smithy.api#noAuth"}}var Ma,YO,XO,QO,Ag=S(()=>{be();Ma=w(vt()),YO=async(e,t,r)=>({operation:(0,Ma.getSmithyContext)(t).operation,region:await(0,Ma.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});XO=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(O6(e));break}default:t.push(A6(e))}return t},QO=e=>{let t=ys(e);return Object.assign(t,{authSchemePreference:(0,Ma.normalizeProvider)(e.authSchemePreference??[])})}});var ZO,eI,Og=S(()=>{ZO=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),eI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var bu,Ig=S(()=>{bu={name:"@aws-sdk/nested-clients",version:"3.864.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var lI,Tt,Nt,si,tI,La,ri,ni,Lr,Rg,Tg,rI,nI,sI,uI,pI,Rt,oI,mI,iI,aI,cI,dI,R6,fI,hI=S(()=>{lI="required",Tt="fn",Nt="argv",si="ref",tI="isSet",La="booleanEquals",ri="error",ni="endpoint",Lr="tree",Rg="PartitionResult",Tg="getAttr",rI={[lI]:!1,type:"String"},nI={[lI]:!0,default:!1,type:"Boolean"},sI={[si]:"Endpoint"},uI={[Tt]:La,[Nt]:[{[si]:"UseFIPS"},!0]},pI={[Tt]:La,[Nt]:[{[si]:"UseDualStack"},!0]},Rt={},oI={[Tt]:Tg,[Nt]:[{[si]:Rg},"supportsFIPS"]},mI={[si]:Rg},iI={[Tt]:La,[Nt]:[!0,{[Tt]:Tg,[Nt]:[mI,"supportsDualStack"]}]},aI=[uI],cI=[pI],dI=[{[si]:"Region"}],R6={version:"1.0",parameters:{Region:rI,UseDualStack:nI,UseFIPS:nI,Endpoint:rI},rules:[{conditions:[{[Tt]:tI,[Nt]:[sI]}],rules:[{conditions:aI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ri},{conditions:cI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ri},{endpoint:{url:sI,properties:Rt,headers:Rt},type:ni}],type:Lr},{conditions:[{[Tt]:tI,[Nt]:dI}],rules:[{conditions:[{[Tt]:"aws.partition",[Nt]:dI,assign:Rg}],rules:[{conditions:[uI,pI],rules:[{conditions:[{[Tt]:La,[Nt]:[!0,oI]},iI],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},type:ni}],type:Lr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ri}],type:Lr},{conditions:aI,rules:[{conditions:[{[Tt]:La,[Nt]:[oI,!0]}],rules:[{conditions:[{[Tt]:"stringEquals",[Nt]:[{[Tt]:Tg,[Nt]:[mI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Rt,headers:Rt},type:ni},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Rt,headers:Rt},type:ni}],type:Lr},{error:"FIPS is enabled but this partition does not support FIPS",type:ri}],type:Lr},{conditions:cI,rules:[{conditions:[iI],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},type:ni}],type:Lr},{error:"DualStack is enabled but this partition does not support DualStack",type:ri}],type:Lr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Rt,headers:Rt},type:ni}],type:Lr}],type:Lr},{error:"Invalid Configuration: Missing Region",type:ri}]},fI=R6});var gI,oi,T6,_I,yI=S(()=>{gI=w(gs()),oi=w(hs());hI();T6=new oi.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),_I=(e,t={})=>T6.get(e,()=>(0,oi.resolveEndpoint)(fI,{endpointParams:e,logger:t.logger}));oi.customEndpointFunctions.aws=gI.awsEndpointFunctions});var SI,EI,Cu,wu,vI,bI=S(()=>{be();Qe();SI=w(K()),EI=w(Rr()),Cu=w(Ge()),wu=w(ke());Ag();yI();vI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Cu.fromBase64,base64Encoder:e?.base64Encoder??Cu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_I,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??XO,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Or}],logger:e?.logger??new SI.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??EI.parseUrl,utf8Decoder:e?.utf8Decoder??wu.fromUtf8,utf8Encoder:e?.utf8Encoder??wu.toUtf8})});var Pu,Pn,CI,xu,wn,Au,wI,PI,xI,AI,OI,II,RI=S(()=>{Ig();be();Pu=w(Wo()),Pn=w(wt()),CI=w(Jo()),xu=w(zt()),wn=w(Nr()),Au=w(an()),wI=w(Ko()),PI=w(Is());bI();xI=w(K()),AI=w(Zo()),OI=w(K()),II=e=>{(0,OI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,AI.resolveDefaultsModeConfig)(e),r=()=>t().then(xI.loadConfigsForDefaultMode),n=vI(e);Mo(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,wn.loadConfig)(Fo,s),bodyLengthChecker:e?.bodyLengthChecker??wI.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:bu.version}),maxAttempts:e?.maxAttempts??(0,wn.loadConfig)(xu.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,wn.loadConfig)(Pn.NODE_REGION_CONFIG_OPTIONS,{...Pn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Au.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,wn.loadConfig)({...xu.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||PI.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Au.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,wn.loadConfig)(Pn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,wn.loadConfig)(Pn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,wn.loadConfig)(Pu.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var TI,NI,DI=S(()=>{TI=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(a=>a.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},NI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Ou,Iu,Ru,kI,MI=S(()=>{Ou=w(ei()),Iu=w(le()),Ru=w(K());DI();kI=(e,t)=>{let r=Object.assign((0,Ou.getAwsRegionExtensionConfiguration)(e),(0,Ru.getDefaultExtensionConfiguration)(e),(0,Iu.getHttpHandlerExtensionConfiguration)(e),TI(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Ou.resolveAwsRegionExtensionConfiguration)(r),(0,Ru.resolveDefaultRuntimeConfig)(r),(0,Iu.resolveHttpHandlerRuntimeConfig)(r),NI(r))}});var Tu,LI,jI,Nu,FI,UI,$I,Du,Ng,ja,Dg=S(()=>{Tu=w(Po()),LI=w(xo()),jI=w(Ao()),Nu=w(xs()),FI=w(wt());Qe();UI=w(Bo()),$I=w(Dr()),Du=w(zt()),Ng=w(K());Ag();Og();RI();MI();ja=class extends Ng.Client{config;constructor(...[t]){let r=II(t||{});super(r),this.initConfig=r;let n=ZO(r),s=(0,Nu.resolveUserAgentConfig)(n),o=(0,Du.resolveRetryConfig)(s),a=(0,FI.resolveRegionConfig)(o),c=(0,Tu.resolveHostHeaderConfig)(a),d=(0,$I.resolveEndpointConfig)(c),l=QO(d),p=kI(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Nu.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Du.getRetryPlugin)(this.config)),this.middlewareStack.use((0,UI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Tu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,LI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,jI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bi(this.config,{httpAuthSchemeParametersProvider:YO,identityProviderConfigProvider:async m=>new ms({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Hi(this.config))}destroy(){super.destroy()}}});var BI,Le,ku=S(()=>{BI=w(K()),Le=class e extends BI.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ts,Fa,Ua,kg,Mg,$a,Ba,Ha,qa,Va,za,Ga,Wa,Ja,Mu=S(()=>{Ts=w(K());ku();Fa=class e extends Le{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ua=class e extends Le{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},kg=e=>({...e,...e.clientSecret&&{clientSecret:Ts.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ts.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Ts.SENSITIVE_STRING}}),Mg=e=>({...e,...e.accessToken&&{accessToken:Ts.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ts.SENSITIVE_STRING},...e.idToken&&{idToken:Ts.SENSITIVE_STRING}}),$a=class e extends Le{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ba=class e extends Le{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ha=class e extends Le{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qa=class e extends Le{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Va=class e extends Le{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},za=class e extends Le{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ga=class e extends Le{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Wa=class e extends Le{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ja=class e extends Le{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var T,HI,qI,N6,D6,k6,M6,L6,j6,F6,U6,$6,B6,H6,q6,V6,Dt,VI=S(()=>{be();Qe();T=w(K());Mu();ku();HI=async(e,t)=>{let r=aa(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,T.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,T._json)(o)})),r.m("POST").h(n).b(s),r.build()},qI=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return N6(e,t);let r=(0,T.map)({$metadata:Dt(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await $o(e.body,t)),"body"),s=(0,T.take)(n,{accessToken:T.expectString,expiresIn:T.expectInt32,idToken:T.expectString,refreshToken:T.expectString,tokenType:T.expectString});return Object.assign(r,s),r},N6=async(e,t)=>{let r={...e,body:await ph(e.body,t)},n=Es(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await k6(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await M6(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await L6(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await j6(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await F6(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await U6(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await $6(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await B6(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await H6(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await q6(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await V6(r,t);default:let s=r.body;return D6({output:e,parsedBody:s,errorCode:n})}},D6=(0,T.withBaseException)(Le),k6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Fa({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},M6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Ua({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},L6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new $a({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},j6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Ba({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},F6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Ha({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},U6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new qa({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},$6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Va({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},B6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new za({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},H6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Ga({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},q6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Wa({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},V6=async(e,t)=>{let r=(0,T.map)({}),n=e.body,s=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,s);let o=new Ja({$metadata:Dt(e),...r});return(0,T.decorateServiceException)(o,e.body)},Dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var zI,GI,Lg,Ka,jg=S(()=>{zI=w(Dr()),GI=w(Cr()),Lg=w(K());Og();Mu();VI();Ka=class extends Lg.Command.classBuilder().ep(eI).m(function(t,r,n,s){return[(0,GI.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zI.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(kg,Mg).ser(HI).de(qI).build(){}});var WI,z6,Lu,JI=S(()=>{WI=w(K());jg();Dg();z6={CreateTokenCommand:Ka},Lu=class extends ja{};(0,WI.createAggregatedClient)(z6,Lu)});var KI=S(()=>{jg()});var YI=S(()=>{Mu()});var Fg={};jt(Fg,{$Command:()=>Lg.Command,AccessDeniedException:()=>Fa,AuthorizationPendingException:()=>Ua,CreateTokenCommand:()=>Ka,CreateTokenRequestFilterSensitiveLog:()=>kg,CreateTokenResponseFilterSensitiveLog:()=>Mg,ExpiredTokenException:()=>$a,InternalServerException:()=>Ba,InvalidClientException:()=>Ha,InvalidGrantException:()=>qa,InvalidRequestException:()=>Va,InvalidScopeException:()=>za,SSOOIDC:()=>Lu,SSOOIDCClient:()=>ja,SSOOIDCServiceException:()=>Le,SlowDownException:()=>Ga,UnauthorizedClientException:()=>Wa,UnsupportedGrantTypeException:()=>Ja,__Client:()=>Ng.Client});var Ug=S(()=>{Dg();JI();KI();YI();ku()});var sR=A((b_e,nR)=>{"use strict";var G6=Object.create,Xa=Object.defineProperty,W6=Object.getOwnPropertyDescriptor,J6=Object.getOwnPropertyNames,K6=Object.getPrototypeOf,Y6=Object.prototype.hasOwnProperty,jr=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),X6=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},ZI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of J6(t))!Y6.call(e,s)&&s!==r&&Xa(e,s,{get:()=>t[s],enumerable:!(n=W6(t,s))||n.enumerable});return e},eR=(e,t,r)=>(r=e!=null?G6(K6(e)):{},ZI(t||!e||!e.__esModule?Xa(r,"default",{value:e,enumerable:!0}):r,e)),Q6=e=>ZI(Xa({},"__esModule",{value:!0}),e),tR={};X6(tR,{fromEnvSigningName:()=>t8,fromSso:()=>rR,fromStatic:()=>c8,nodeProvider:()=>d8});nR.exports=Q6(tR);var Z6=(Ht(),Y(pn)),e8=(rh(),Y(T0)),St=Ze(),t8=jr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new St.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,e8.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new St.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Z6.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),r8=5*60*1e3,$g="To refresh this SSO session run 'aws sso login' with the corresponding profile.",n8=jr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>eR((Ug(),Y(Fg))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),s8=jr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>eR((Ug(),Y(Fg))));return(await n8(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),XI=jr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new St.TokenProviderError(`Token is expired. ${$g}`,!1)},"validateTokenExpiry"),Ns=jr((e,t,r=!1)=>{if(typeof t>"u")throw new St.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${$g}`,!1)},"validateTokenKey"),Ya=Sn(),o8=require("fs"),{writeFile:i8}=o8.promises,a8=jr((e,t)=>{let r=(0,Ya.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return i8(r,n)},"writeSSOTokenToFile"),QI=new Date(0),rR=jr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Ya.parseKnownFiles)(r),s=(0,Ya.getProfileName)({profile:r.profile??t?.profile}),o=n[s];if(o){if(!o.sso_session)throw new St.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new St.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let a=o.sso_session,d=(await(0,Ya.loadSsoSessionData)(r))[a];if(!d)throw new St.TokenProviderError(`Sso session '${a}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!d[_])throw new St.TokenProviderError(`Sso session '${a}' is missing required property '${_}'.`,!1);let l=d.sso_start_url,p=d.sso_region,m;try{m=await(0,Ya.getSSOTokenFromFile)(a)}catch{throw new St.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${$g}`,!1)}Ns("accessToken",m.accessToken),Ns("expiresAt",m.expiresAt);let{accessToken:h,expiresAt:f}=m,y={token:h,expiration:new Date(f)};if(y.expiration.getTime()-Date.now()>r8)return y;if(Date.now()-QI.getTime()<30*1e3)return XI(y),y;Ns("clientId",m.clientId,!0),Ns("clientSecret",m.clientSecret,!0),Ns("refreshToken",m.refreshToken,!0);try{QI.setTime(Date.now());let _=await s8(m,p,r);Ns("accessToken",_.accessToken),Ns("expiresIn",_.expiresIn);let b=new Date(Date.now()+_.expiresIn*1e3);try{await a8(a,{...m,accessToken:_.accessToken,expiresAt:b.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:b}}catch{return XI(y),y}},"fromSso"),c8=jr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new St.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),d8=jr((e={})=>(0,St.memoize)((0,St.chain)(rR(e),async()=>{throw new St.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Hg=A((C_e,mR)=>{"use strict";var Fu=Object.defineProperty,l8=Object.getOwnPropertyDescriptor,aR=Object.getOwnPropertyNames,u8=Object.prototype.hasOwnProperty,Uu=(e,t)=>Fu(e,"name",{value:t,configurable:!0}),p8=(e,t)=>function(){return e&&(t=(0,e[aR(e)[0]])(e=0)),t},cR=(e,t)=>{for(var r in t)Fu(e,r,{get:t[r],enumerable:!0})},m8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of aR(t))!u8.call(e,s)&&s!==r&&Fu(e,s,{get:()=>t[s],enumerable:!(n=l8(t,s))||n.enumerable});return e},f8=e=>m8(Fu({},"__esModule",{value:!0}),e),dR={};cR(dR,{GetRoleCredentialsCommand:()=>Bg.GetRoleCredentialsCommand,SSOClient:()=>Bg.SSOClient});var Bg,h8=p8({"src/loadSso.ts"(){"use strict";Bg=KO()}}),lR={};cR(lR,{fromSSO:()=>_8,isSsoProfile:()=>uR,validateSsoProfile:()=>pR});mR.exports=f8(lR);var uR=Uu(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),oR=(Ht(),Y(pn)),g8=sR(),Gt=Ze(),ju=Sn(),Qa=!1,iR=Uu(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:a,parentClientConfig:c,profile:d,logger:l})=>{let p,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ee=await(0,g8.fromSso)({profile:d})();p={accessToken:ee.token,expiresAt:new Date(ee.expiration).toISOString()}}catch(ee){throw new Gt.CredentialsProviderError(ee.message,{tryNextLink:Qa,logger:l})}else try{p=await(0,ju.getSSOTokenFromFile)(e)}catch{throw new Gt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:Qa,logger:l})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Gt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:Qa,logger:l});let{accessToken:h}=p,{SSOClient:f,GetRoleCredentialsCommand:y}=await Promise.resolve().then(()=>(h8(),dR)),_=o||new f(Object.assign({},a??{},{logger:a?.logger??c?.logger,region:a?.region??n})),b;try{b=await _.send(new y({accountId:r,roleName:s,accessToken:h}))}catch(ee){throw new Gt.CredentialsProviderError(ee,{tryNextLink:Qa,logger:l})}let{roleCredentials:{accessKeyId:P,secretAccessKey:C,sessionToken:q,expiration:F,credentialScope:$,accountId:G}={}}=b;if(!P||!C||!q||!F)throw new Gt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Qa,logger:l});let ie={accessKeyId:P,secretAccessKey:C,sessionToken:q,expiration:new Date(F),...$&&{credentialScope:$},...G&&{accountId:G}};return t?(0,oR.setCredentialFeature)(ie,"CREDENTIALS_SSO","s"):(0,oR.setCredentialFeature)(ie,"CREDENTIALS_SSO_LEGACY","u"),ie},"resolveSSOCredentials"),pR=Uu((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new Gt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),_8=Uu((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:a}=e,{ssoClient:c}=e,d=(0,ju.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!o&&!a){let p=(await(0,ju.parseKnownFiles)(e))[d];if(!p)throw new Gt.CredentialsProviderError(`Profile ${d} was not found.`,{logger:e.logger});if(!uR(p))throw new Gt.CredentialsProviderError(`Profile ${d} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let P=(await(0,ju.loadSsoSessionData)(e))[p.sso_session],C=` configurations in profile ${d} and sso-session ${p.sso_session}`;if(s&&s!==P.sso_region)throw new Gt.CredentialsProviderError("Conflicting SSO region"+C,{tryNextLink:!1,logger:e.logger});if(r&&r!==P.sso_start_url)throw new Gt.CredentialsProviderError("Conflicting SSO start_url"+C,{tryNextLink:!1,logger:e.logger});p.sso_region=P.sso_region,p.sso_start_url=P.sso_start_url}let{sso_start_url:m,sso_account_id:h,sso_region:f,sso_role_name:y,sso_session:_}=pR(p,e.logger);return iR({ssoStartUrl:m,ssoSession:_,ssoAccountId:h,ssoRegion:f,ssoRoleName:y,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d})}else{if(!r||!n||!s||!o)throw new Gt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return iR({ssoStartUrl:r,ssoSession:a,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d})}},"fromSSO")});function y8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function S8(e){return{schemeId:"smithy.api#noAuth"}}var Za,fR,hR,E8,gR,qg=S(()=>{be();Za=w(vt());ec();fR=async(e,t,r)=>({operation:(0,Za.getSmithyContext)(t).operation,region:await(0,Za.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hR=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(S8(e));break}default:t.push(y8(e))}return t},E8=e=>Object.assign(e,{stsClientCtor:pr}),gR=e=>{let t=E8(e),r=ys(t);return Object.assign(r,{authSchemePreference:(0,Za.normalizeProvider)(e.authSchemePreference??[])})}});var _R,$u,Bu=S(()=>{_R=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$u={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var OR,Q,se,oe,An,xn,He,IR,RR,TR,me,yR,mr,ii,zg,SR,Vg,NR,ER,qe,vR,DR,kR,Je,Et,bR,MR,LR,CR,jR,wR,PR,xR,AR,v8,FR,UR=S(()=>{OR="required",Q="type",se="fn",oe="argv",An="ref",xn="booleanEquals",He="stringEquals",IR="sigv4",RR="sts",TR="us-east-1",me="endpoint",yR="https://sts.{Region}.{PartitionResult#dnsSuffix}",mr="tree",ii="error",zg="getAttr",SR={[OR]:!1,[Q]:"String"},Vg={[OR]:!0,default:!1,[Q]:"Boolean"},NR={[An]:"Endpoint"},ER={[se]:"isSet",[oe]:[{[An]:"Region"}]},qe={[An]:"Region"},vR={[se]:"aws.partition",[oe]:[qe],assign:"PartitionResult"},DR={[An]:"UseFIPS"},kR={[An]:"UseDualStack"},Je={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:IR,signingName:RR,signingRegion:TR}]},headers:{}},Et={},bR={conditions:[{[se]:He,[oe]:[qe,"aws-global"]}],[me]:Je,[Q]:me},MR={[se]:xn,[oe]:[DR,!0]},LR={[se]:xn,[oe]:[kR,!0]},CR={[se]:zg,[oe]:[{[An]:"PartitionResult"},"supportsFIPS"]},jR={[An]:"PartitionResult"},wR={[se]:xn,[oe]:[!0,{[se]:zg,[oe]:[jR,"supportsDualStack"]}]},PR=[{[se]:"isSet",[oe]:[NR]}],xR=[MR],AR=[LR],v8={version:"1.0",parameters:{Region:SR,UseDualStack:Vg,UseFIPS:Vg,Endpoint:SR,UseGlobalEndpoint:Vg},rules:[{conditions:[{[se]:xn,[oe]:[{[An]:"UseGlobalEndpoint"},!0]},{[se]:"not",[oe]:PR},ER,vR,{[se]:xn,[oe]:[DR,!1]},{[se]:xn,[oe]:[kR,!1]}],rules:[{conditions:[{[se]:He,[oe]:[qe,"ap-northeast-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"ap-south-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"ap-southeast-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"ap-southeast-2"]}],endpoint:Je,[Q]:me},bR,{conditions:[{[se]:He,[oe]:[qe,"ca-central-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"eu-central-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"eu-north-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"eu-west-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"eu-west-2"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"eu-west-3"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"sa-east-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,TR]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"us-east-2"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"us-west-1"]}],endpoint:Je,[Q]:me},{conditions:[{[se]:He,[oe]:[qe,"us-west-2"]}],endpoint:Je,[Q]:me},{endpoint:{url:yR,properties:{authSchemes:[{name:IR,signingName:RR,signingRegion:"{Region}"}]},headers:Et},[Q]:me}],[Q]:mr},{conditions:PR,rules:[{conditions:xR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Q]:ii},{conditions:AR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Q]:ii},{endpoint:{url:NR,properties:Et,headers:Et},[Q]:me}],[Q]:mr},{conditions:[ER],rules:[{conditions:[vR],rules:[{conditions:[MR,LR],rules:[{conditions:[{[se]:xn,[oe]:[!0,CR]},wR],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Et,headers:Et},[Q]:me}],[Q]:mr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Q]:ii}],[Q]:mr},{conditions:xR,rules:[{conditions:[{[se]:xn,[oe]:[CR,!0]}],rules:[{conditions:[{[se]:He,[oe]:[{[se]:zg,[oe]:[jR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Et,headers:Et},[Q]:me},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Et,headers:Et},[Q]:me}],[Q]:mr},{error:"FIPS is enabled but this partition does not support FIPS",[Q]:ii}],[Q]:mr},{conditions:AR,rules:[{conditions:[wR],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Et,headers:Et},[Q]:me}],[Q]:mr},{error:"DualStack is enabled but this partition does not support DualStack",[Q]:ii}],[Q]:mr},bR,{endpoint:{url:yR,properties:Et,headers:Et},[Q]:me}],[Q]:mr}],[Q]:mr},{error:"Invalid Configuration: Missing Region",[Q]:ii}]},FR=v8});var $R,ai,b8,BR,HR=S(()=>{$R=w(gs()),ai=w(hs());UR();b8=new ai.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),BR=(e,t={})=>b8.get(e,()=>(0,ai.resolveEndpoint)(FR,{endpointParams:e,logger:t.logger}));ai.customEndpointFunctions.aws=$R.awsEndpointFunctions});var qR,VR,Hu,qu,zR,GR=S(()=>{be();Qe();qR=w(K()),VR=w(Rr()),Hu=w(Ge()),qu=w(ke());qg();HR();zR=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Hu.fromBase64,base64Encoder:e?.base64Encoder??Hu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??BR,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hR,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Or}],logger:e?.logger??new qR.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??VR.parseUrl,utf8Decoder:e?.utf8Decoder??qu.fromUtf8,utf8Encoder:e?.utf8Encoder??qu.toUtf8})});var Vu,In,WR,zu,On,Gu,JR,KR,YR,XR,QR,ZR,eT=S(()=>{Ig();be();Vu=w(Wo()),In=w(wt());Qe();WR=w(Jo()),zu=w(zt()),On=w(Nr()),Gu=w(an()),JR=w(Ko()),KR=w(Is());GR();YR=w(K()),XR=w(Zo()),QR=w(K()),ZR=e=>{(0,QR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,XR.resolveDefaultsModeConfig)(e),r=()=>t().then(YR.loadConfigsForDefaultMode),n=zR(e);Mo(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,On.loadConfig)(Fo,s),bodyLengthChecker:e?.bodyLengthChecker??JR.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Vu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:bu.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await e.credentialDefaultProvider(a?.__config||{})()),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Or}],maxAttempts:e?.maxAttempts??(0,On.loadConfig)(zu.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,On.loadConfig)(In.NODE_REGION_CONFIG_OPTIONS,{...In.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Gu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,On.loadConfig)({...zu.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KR.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??WR.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Gu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,On.loadConfig)(In.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,On.loadConfig)(In.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,On.loadConfig)(Vu.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var tT,rT,nT=S(()=>{tT=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(a=>a.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},rT=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Wu,Ju,Ku,sT,oT=S(()=>{Wu=w(ei()),Ju=w(le()),Ku=w(K());nT();sT=(e,t)=>{let r=Object.assign((0,Wu.getAwsRegionExtensionConfiguration)(e),(0,Ku.getDefaultExtensionConfiguration)(e),(0,Ju.getHttpHandlerExtensionConfiguration)(e),tT(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Wu.resolveAwsRegionExtensionConfiguration)(r),(0,Ku.resolveDefaultRuntimeConfig)(r),(0,Ju.resolveHttpHandlerRuntimeConfig)(r),rT(r))}});var Yu,iT,aT,Xu,cT,dT,lT,Qu,Gg,pr,ec=S(()=>{Yu=w(Po()),iT=w(xo()),aT=w(Ao()),Xu=w(xs()),cT=w(wt());Qe();dT=w(Bo()),lT=w(Dr()),Qu=w(zt()),Gg=w(K());qg();Bu();eT();oT();pr=class extends Gg.Client{config;constructor(...[t]){let r=ZR(t||{});super(r),this.initConfig=r;let n=_R(r),s=(0,Xu.resolveUserAgentConfig)(n),o=(0,Qu.resolveRetryConfig)(s),a=(0,cT.resolveRegionConfig)(o),c=(0,Yu.resolveHostHeaderConfig)(a),d=(0,lT.resolveEndpointConfig)(c),l=gR(d),p=sT(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Xu.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dT.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Yu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iT.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aT.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bi(this.config,{httpAuthSchemeParametersProvider:fR,identityProviderConfigProvider:async m=>new ms({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Hi(this.config))}destroy(){super.destroy()}}});var uT,at,Zu=S(()=>{uT=w(K()),at=class e extends uT.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Wg,Jg,Kg,tc,rc,nc,sc,oc,ic,Yg,Xg,ac,cc=S(()=>{Wg=w(K());Zu();Jg=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Wg.SENSITIVE_STRING}}),Kg=e=>({...e,...e.Credentials&&{Credentials:Jg(e.Credentials)}}),tc=class e extends at{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rc=class e extends at{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nc=class e extends at{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sc=class e extends at{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oc=class e extends at{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ic=class e extends at{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yg=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Wg.SENSITIVE_STRING}}),Xg=e=>({...e,...e.Credentials&&{Credentials:Jg(e.Credentials)}}),ac=class e extends at{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var pT,Z,mT,fT,hT,gT,_T,C8,w8,P8,x8,A8,O8,I8,R8,T8,yT,N8,D8,k8,M8,L8,j8,ST,F8,U8,ET,$8,B8,H8,q8,V8,z8,G8,Ur,W8,vT,bT,CT,wT,Qg,J8,Zg,ci,K8,e_,t_,di,r_,li,n_,s_,o_,ui,pi,i_,a_,c_,mi,d_,fi,hi,l_,u_,Fr,p_,m_,f_,h_,g_,PT,__,y_,S_,Pe,xT,Y8,E_=S(()=>{be();pT=w(le()),Z=w(K());cc();Zu();mT=async(e,t)=>{let r=bT,n;return n=xT({...R8(e,t),[wT]:J8,[PT]:CT}),vT(t,r,"/",void 0,n)},fT=async(e,t)=>{let r=bT,n;return n=xT({...T8(e,t),[wT]:K8,[PT]:CT}),vT(t,r,"/",void 0,n)},hT=async(e,t)=>{if(e.statusCode>=300)return _T(e,t);let r=await va(e.body,t),n={};return n=F8(r.AssumeRoleResult,t),{$metadata:Ur(e),...n}},gT=async(e,t)=>{if(e.statusCode>=300)return _T(e,t);let r=await va(e.body,t),n={};return n=U8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Ur(e),...n}},_T=async(e,t)=>{let r={...e,body:await Ih(e.body,t)},n=Y8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await C8(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await A8(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await O8(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await I8(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await w8(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await P8(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await x8(r,t);default:let s=r.body;return W8({output:e,parsedBody:s.Error,errorCode:n})}},C8=async(e,t)=>{let r=e.body,n=$8(r.Error,t),s=new tc({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},w8=async(e,t)=>{let r=e.body,n=B8(r.Error,t),s=new ac({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},P8=async(e,t)=>{let r=e.body,n=H8(r.Error,t),s=new oc({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},x8=async(e,t)=>{let r=e.body,n=q8(r.Error,t),s=new ic({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},A8=async(e,t)=>{let r=e.body,n=V8(r.Error,t),s=new rc({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},O8=async(e,t)=>{let r=e.body,n=z8(r.Error,t),s=new nc({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},I8=async(e,t)=>{let r=e.body,n=G8(r.Error,t),s=new sc({$metadata:Ur(e),...n});return(0,Z.decorateServiceException)(s,r)},R8=(e,t)=>{let r={};if(e[fi]!=null&&(r[fi]=e[fi]),e[hi]!=null&&(r[hi]=e[hi]),e[pi]!=null){let n=yT(e[pi],t);e[pi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;r[a]=o})}if(e[ui]!=null&&(r[ui]=e[ui]),e[li]!=null&&(r[li]=e[li]),e[f_]!=null){let n=j8(e[f_],t);e[f_]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,o])=>{let a=`Tags.${s}`;r[a]=o})}if(e[g_]!=null){let n=L8(e[g_],t);e[g_]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let a=`TransitiveTagKeys.${s}`;r[a]=o})}if(e[s_]!=null&&(r[s_]=e[s_]),e[p_]!=null&&(r[p_]=e[p_]),e[h_]!=null&&(r[h_]=e[h_]),e[Fr]!=null&&(r[Fr]=e[Fr]),e[a_]!=null){let n=k8(e[a_],t);e[a_]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let a=`ProvidedContexts.${s}`;r[a]=o})}return r},T8=(e,t)=>{let r={};if(e[fi]!=null&&(r[fi]=e[fi]),e[hi]!=null&&(r[hi]=e[hi]),e[y_]!=null&&(r[y_]=e[y_]),e[c_]!=null&&(r[c_]=e[c_]),e[pi]!=null){let n=yT(e[pi],t);e[pi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;r[a]=o})}return e[ui]!=null&&(r[ui]=e[ui]),e[li]!=null&&(r[li]=e[li]),r},yT=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=N8(s,t);Object.entries(o).forEach(([a,c])=>{r[`member.${n}.${a}`]=c}),n++}return r},N8=(e,t)=>{let r={};return e[S_]!=null&&(r[S_]=e[S_]),r},D8=(e,t)=>{let r={};return e[i_]!=null&&(r[i_]=e[i_]),e[r_]!=null&&(r[r_]=e[r_]),r},k8=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=D8(s,t);Object.entries(o).forEach(([a,c])=>{r[`member.${n}.${a}`]=c}),n++}return r},M8=(e,t)=>{let r={};return e[o_]!=null&&(r[o_]=e[o_]),e[__]!=null&&(r[__]=e[__]),r},L8=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},j8=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=M8(s,t);Object.entries(o).forEach(([a,c])=>{r[`member.${n}.${a}`]=c}),n++}return r},ST=(e,t)=>{let r={};return e[Zg]!=null&&(r[Zg]=(0,Z.expectString)(e[Zg])),e[e_]!=null&&(r[e_]=(0,Z.expectString)(e[e_])),r},F8=(e,t)=>{let r={};return e[di]!=null&&(r[di]=ET(e[di],t)),e[ci]!=null&&(r[ci]=ST(e[ci],t)),e[mi]!=null&&(r[mi]=(0,Z.strictParseInt32)(e[mi])),e[Fr]!=null&&(r[Fr]=(0,Z.expectString)(e[Fr])),r},U8=(e,t)=>{let r={};return e[di]!=null&&(r[di]=ET(e[di],t)),e[u_]!=null&&(r[u_]=(0,Z.expectString)(e[u_])),e[ci]!=null&&(r[ci]=ST(e[ci],t)),e[mi]!=null&&(r[mi]=(0,Z.strictParseInt32)(e[mi])),e[d_]!=null&&(r[d_]=(0,Z.expectString)(e[d_])),e[t_]!=null&&(r[t_]=(0,Z.expectString)(e[t_])),e[Fr]!=null&&(r[Fr]=(0,Z.expectString)(e[Fr])),r},ET=(e,t)=>{let r={};return e[Qg]!=null&&(r[Qg]=(0,Z.expectString)(e[Qg])),e[l_]!=null&&(r[l_]=(0,Z.expectString)(e[l_])),e[m_]!=null&&(r[m_]=(0,Z.expectString)(e[m_])),e[n_]!=null&&(r[n_]=(0,Z.expectNonNull)((0,Z.parseRfc3339DateTimeWithOffset)(e[n_]))),r},$8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},B8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},H8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},q8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},V8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},z8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},G8=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,Z.expectString)(e[Pe])),r},Ur=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),W8=(0,Z.withBaseException)(at),vT=async(e,t,r,n,s)=>{let{hostname:o,protocol:a="https",port:c,path:d}=await e.endpoint(),l={protocol:a,hostname:o,port:c,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new pT.HttpRequest(l)},bT={"content-type":"application/x-www-form-urlencoded"},CT="2011-06-15",wT="Action",Qg="AccessKeyId",J8="AssumeRole",Zg="AssumedRoleId",ci="AssumedRoleUser",K8="AssumeRoleWithWebIdentity",e_="Arn",t_="Audience",di="Credentials",r_="ContextAssertion",li="DurationSeconds",n_="Expiration",s_="ExternalId",o_="Key",ui="Policy",pi="PolicyArns",i_="ProviderArn",a_="ProvidedContexts",c_="ProviderId",mi="PackedPolicySize",d_="Provider",fi="RoleArn",hi="RoleSessionName",l_="SecretAccessKey",u_="SubjectFromWebIdentityToken",Fr="SourceIdentity",p_="SerialNumber",m_="SessionToken",f_="Tags",h_="TokenCode",g_="TransitiveTagKeys",PT="Version",__="Value",y_="WebIdentityToken",S_="arn",Pe="message",xT=e=>Object.entries(e).map(([t,r])=>(0,Z.extendedEncodeURIComponent)(t)+"="+(0,Z.extendedEncodeURIComponent)(r)).join("&"),Y8=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var AT,OT,IT,Ds,ep=S(()=>{AT=w(Dr()),OT=w(Cr()),IT=w(K());Bu();cc();E_();Ds=class extends IT.Command.classBuilder().ep($u).m(function(t,r,n,s){return[(0,OT.getSerdePlugin)(n,this.serialize,this.deserialize),(0,AT.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Kg).ser(mT).de(hT).build(){}});var RT,TT,NT,ks,tp=S(()=>{RT=w(Dr()),TT=w(Cr()),NT=w(K());Bu();cc();E_();ks=class extends NT.Command.classBuilder().ep($u).m(function(t,r,n,s){return[(0,TT.getSerdePlugin)(n,this.serialize,this.deserialize),(0,RT.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Yg,Xg).ser(fT).de(gT).build(){}});var DT,X8,rp,kT=S(()=>{DT=w(K());ep();tp();ec();X8={AssumeRoleCommand:Ds,AssumeRoleWithWebIdentityCommand:ks},rp=class extends pr{};(0,DT.createAggregatedClient)(X8,rp)});var MT=S(()=>{ep();tp()});var LT=S(()=>{cc()});var jT,FT,UT,$T,BT,HT,qT=S(()=>{Ht();ep();tp();jT="us-east-1",FT=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},UT=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${jT} (STS default)`),n??s??jT},$T=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:p=e?.parentClientConfig?.logger,region:m,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,y=await UT(m,e?.parentClientConfig?.region,f),_=!HT(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:_?h:void 0,logger:p})}let{Credentials:a,AssumedRoleUser:c}=await r.send(new Ds(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let d=FT(c),l={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...d&&{accountId:d}};return un(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},BT=(e,t)=>{let r;return async n=>{if(!r){let{logger:d=e?.parentClientConfig?.logger,region:l,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=e,h=await UT(l,e?.parentClientConfig?.region,m),f=!HT(p);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:f?p:void 0,logger:d})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new ks(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=FT(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...a&&{accountId:a}};return a&&un(c,"RESOLVED_ACCOUNT_ID","T"),un(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},HT=e=>e?.metadata?.handlerProtocol==="h2"});var VT,zT,GT,Q8,WT=S(()=>{qT();ec();VT=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,zT=(e={},t)=>$T(e,VT(pr,t)),GT=(e={},t)=>BT(e,VT(pr,t)),Q8=e=>t=>e({roleAssumer:zT(t),roleAssumerWithWebIdentity:GT(t),...t})});var v_={};jt(v_,{AssumeRoleCommand:()=>Ds,AssumeRoleResponseFilterSensitiveLog:()=>Kg,AssumeRoleWithWebIdentityCommand:()=>ks,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Yg,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Xg,CredentialsFilterSensitiveLog:()=>Jg,ExpiredTokenException:()=>tc,IDPCommunicationErrorException:()=>ac,IDPRejectedClaimException:()=>oc,InvalidIdentityTokenException:()=>ic,MalformedPolicyDocumentException:()=>rc,PackedPolicyTooLargeException:()=>nc,RegionDisabledException:()=>sc,STS:()=>rp,STSClient:()=>pr,STSServiceException:()=>at,__Client:()=>Gg.Client,decorateDefaultCredentialProvider:()=>Q8,getDefaultRoleAssumer:()=>zT,getDefaultRoleAssumerWithWebIdentity:()=>GT});var b_=S(()=>{ec();kT();MT();LT();WT();Zu()});var P_=A((kye,YT)=>{"use strict";var np=Object.defineProperty,Z8=Object.getOwnPropertyDescriptor,eJ=Object.getOwnPropertyNames,tJ=Object.prototype.hasOwnProperty,w_=(e,t)=>np(e,"name",{value:t,configurable:!0}),rJ=(e,t)=>{for(var r in t)np(e,r,{get:t[r],enumerable:!0})},nJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eJ(t))!tJ.call(e,s)&&s!==r&&np(e,s,{get:()=>t[s],enumerable:!(n=Z8(t,s))||n.enumerable});return e},sJ=e=>nJ(np({},"__esModule",{value:!0}),e),KT={};rJ(KT,{fromProcess:()=>lJ});YT.exports=sJ(KT);var JT=Sn(),C_=Ze(),oJ=require("child_process"),iJ=require("util"),aJ=(Ht(),Y(pn)),cJ=w_((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,aJ.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),dJ=w_(async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let o=(0,iJ.promisify)(oJ.exec);try{let{stdout:a}=await o(s),c;try{c=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return cJ(e,c,t)}catch(a){throw new C_.CredentialsProviderError(a.message,{logger:r})}}else throw new C_.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new C_.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),lJ=w_((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,JT.parseKnownFiles)(e);return dJ((0,JT.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var x_=A(fr=>{"use strict";var uJ=fr&&fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pJ=fr&&fr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mJ=fr&&fr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&uJ(r,t,n[s]);return pJ(r,t),r}}();Object.defineProperty(fr,"__esModule",{value:!0});fr.fromWebToken=void 0;var fJ=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:a,policy:c,durationSeconds:d}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>mJ((b_(),Y(v_))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:a,Policy:c,DurationSeconds:d})};fr.fromWebToken=fJ});var QT=A(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.fromTokenFile=void 0;var hJ=(Ht(),Y(pn)),gJ=Ze(),_J=require("fs"),yJ=x_(),XT="AWS_WEB_IDENTITY_TOKEN_FILE",SJ="AWS_ROLE_ARN",EJ="AWS_ROLE_SESSION_NAME",vJ=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[XT],r=e?.roleArn??process.env[SJ],n=e?.roleSessionName??process.env[EJ];if(!t||!r)throw new gJ.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,yJ.fromWebToken)({...e,webIdentityToken:(0,_J.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[XT]&&(0,hJ.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};sp.fromTokenFile=vJ});var I_=A((jye,op)=>{"use strict";var ZT=Object.defineProperty,bJ=Object.getOwnPropertyDescriptor,CJ=Object.getOwnPropertyNames,wJ=Object.prototype.hasOwnProperty,A_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of CJ(t))!wJ.call(e,s)&&s!==r&&ZT(e,s,{get:()=>t[s],enumerable:!(n=bJ(t,s))||n.enumerable});return e},eN=(e,t,r)=>(A_(e,t,"default"),r&&A_(r,t,"default")),PJ=e=>A_(ZT({},"__esModule",{value:!0}),e),O_={};op.exports=PJ(O_);eN(O_,QT(),op.exports);eN(O_,x_(),op.exports)});var cN=A((Fye,aN)=>{"use strict";var xJ=Object.create,lc=Object.defineProperty,AJ=Object.getOwnPropertyDescriptor,OJ=Object.getOwnPropertyNames,IJ=Object.getPrototypeOf,RJ=Object.prototype.hasOwnProperty,Ie=(e,t)=>lc(e,"name",{value:t,configurable:!0}),TJ=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},sN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of OJ(t))!RJ.call(e,s)&&s!==r&&lc(e,s,{get:()=>t[s],enumerable:!(n=AJ(t,s))||n.enumerable});return e},Rn=(e,t,r)=>(r=e!=null?xJ(IJ(e)):{},sN(t||!e||!e.__esModule?lc(r,"default",{value:e,enumerable:!0}):r,e)),NJ=e=>sN(lc({},"__esModule",{value:!0}),e),oN={};TJ(oN,{fromIni:()=>VJ});aN.exports=NJ(oN);var T_=Sn(),Tn=(Ht(),Y(pn)),dc=Ze(),DJ=Ie((e,t,r)=>{let n={EcsContainer:Ie(async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>Rn(hg())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>Rn(Ra()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,dc.chain)(o(s??{}),a(s))().then(R_)},"EcsContainer"),Ec2InstanceMetadata:Ie(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>Rn(Ra()));return async()=>o(s)().then(R_)},"Ec2InstanceMetadata"),Environment:Ie(async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>Rn(cg()));return async()=>o(s)().then(R_)},"Environment")};if(e in n)return n[e];throw new dc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),R_=Ie(e=>(0,Tn.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),kJ=Ie((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(MJ(e,{profile:t,logger:r})||LJ(e,{profile:t,logger:r})),"isAssumeRoleProfile"),MJ=Ie((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),LJ=Ie((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),jJ=Ie(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:o,region:a}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>Rn((b_(),Y(v_))));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new dc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,T_.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?iN(o,t,r,{...n,[o]:!0},tN(t[o]??{})):(await DJ(s.credential_source,e,r.logger)(r))();if(tN(s))return c.then(d=>(0,Tn.setCredentialFeature)(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new dc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=l,d.TokenCode=await r.mfaCodeProvider(l)}let p=await c;return r.roleAssumer(p,d).then(m=>(0,Tn.setCredentialFeature)(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),tN=Ie(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),FJ=Ie(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),UJ=Ie(async(e,t)=>Promise.resolve().then(()=>Rn(P_())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Tn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),$J=Ie(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Rn(Hg()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?(0,Tn.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO","r"):(0,Tn.setCredentialFeature)(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),BJ=Ie(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),rN=Ie(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),nN=Ie(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Tn.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),HJ=Ie(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),qJ=Ie(async(e,t)=>Promise.resolve().then(()=>Rn(I_())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Tn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),iN=Ie(async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&rN(o))return nN(o,r);if(s||kJ(o,{profile:e,logger:r.logger}))return jJ(e,t,r,n);if(rN(o))return nN(o,r);if(HJ(o))return qJ(o,r);if(FJ(o))return UJ(r,e);if(BJ(o))return await $J(e,o,r);throw new dc.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),VJ=Ie((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,T_.parseKnownFiles)(r);return iN((0,T_.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var D_=A((Uye,hN)=>{"use strict";var zJ=Object.create,uc=Object.defineProperty,GJ=Object.getOwnPropertyDescriptor,WJ=Object.getOwnPropertyNames,JJ=Object.getPrototypeOf,KJ=Object.prototype.hasOwnProperty,ip=(e,t)=>uc(e,"name",{value:t,configurable:!0}),YJ=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},uN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of WJ(t))!KJ.call(e,s)&&s!==r&&uc(e,s,{get:()=>t[s],enumerable:!(n=GJ(t,s))||n.enumerable});return e},gi=(e,t,r)=>(r=e!=null?zJ(JJ(e)):{},uN(t||!e||!e.__esModule?uc(r,"default",{value:e,enumerable:!0}):r,e)),XJ=e=>uN(uc({},"__esModule",{value:!0}),e),pN={};YJ(pN,{credentialsTreatedAsExpired:()=>fN,credentialsWillNeedRefresh:()=>mN,defaultProvider:()=>eK});hN.exports=XJ(pN);var N_=cg(),QJ=Sn(),Ms=Ze(),dN="AWS_EC2_METADATA_DISABLED",ZJ=ip(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>gi(Ra()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>gi(hg()));return(0,Ms.chain)(o(e),n(e))}return process.env[dN]&&process.env[dN]!=="false"?async()=>{throw new Ms.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),lN=!1,eK=ip((e={})=>(0,Ms.memoize)((0,Ms.chain)(async()=>{if(e.profile??process.env[QJ.ENV_PROFILE])throw process.env[N_.ENV_KEY]&&process.env[N_.ENV_SECRET]&&(lN||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),lN=!0)),new Ms.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,N_.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!t&&!r&&!n&&!s&&!o)throw new Ms.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>gi(Hg()));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>gi(cN()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>gi(P_()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>gi(I_()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await ZJ(e))()),async()=>{throw new Ms.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),fN,mN),"defaultProvider"),mN=ip(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),fN=ip(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var DN=A(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.ruleSet=void 0;var RN="required",ct="fn",dt="argv",Ls="ref",Nn="properties",Dn="headers",gN=!0,_N="isSet",pc="booleanEquals",_i="error",hr="endpoint",$r="tree",ap="PartitionResult",k_="stringEquals",yN={[RN]:!1,type:"String"},SN={[RN]:!0,default:!1,type:"Boolean"},EN={[Ls]:"Endpoint"},TN={[ct]:pc,[dt]:[{[Ls]:"UseFIPS"},!0]},NN={[ct]:pc,[dt]:[{[Ls]:"UseDualStack"},!0]},kt={},vN={[ct]:"getAttr",[dt]:[{[Ls]:ap},"supportsFIPS"]},bN={[ct]:pc,[dt]:[!0,{[ct]:"getAttr",[dt]:[{[Ls]:ap},"supportsDualStack"]}]},M_={[ct]:"getAttr",[dt]:[{[Ls]:ap},"name"]},CN={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[Nn]:{},[Dn]:{}},wN={url:"https://secretsmanager.{Region}.amazonaws.com",[Nn]:{},[Dn]:{}},PN=[TN],xN=[NN],AN=[{[Ls]:"Region"}],ON=[{[ct]:k_,[dt]:["aws",M_]}],IN=[{[ct]:k_,[dt]:["aws-us-gov",M_]}],tK={version:"1.0",parameters:{Region:yN,UseDualStack:SN,UseFIPS:SN,Endpoint:yN},rules:[{conditions:[{[ct]:_N,[dt]:[EN]}],rules:[{conditions:PN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_i},{conditions:xN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_i},{endpoint:{url:EN,[Nn]:kt,[Dn]:kt},type:hr}],type:$r},{conditions:[{[ct]:_N,[dt]:AN}],rules:[{conditions:[{[ct]:"aws.partition",[dt]:AN,assign:ap}],rules:[{conditions:[TN,NN],rules:[{conditions:[{[ct]:pc,[dt]:[gN,vN]},bN],rules:[{conditions:ON,endpoint:CN,type:hr},{conditions:IN,endpoint:CN,type:hr},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Nn]:kt,[Dn]:kt},type:hr}],type:$r},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_i}],type:$r},{conditions:PN,rules:[{conditions:[{[ct]:pc,[dt]:[vN,gN]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[Nn]:kt,[Dn]:kt},type:hr}],type:$r},{error:"FIPS is enabled but this partition does not support FIPS",type:_i}],type:$r},{conditions:xN,rules:[{conditions:[bN],rules:[{conditions:ON,endpoint:wN,type:hr},{conditions:[{[ct]:k_,[dt]:["aws-cn",M_]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[Nn]:kt,[Dn]:kt},type:hr},{conditions:IN,endpoint:wN,type:hr},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[Nn]:kt,[Dn]:kt},type:hr}],type:$r},{error:"DualStack is enabled but this partition does not support DualStack",type:_i}],type:$r},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[Nn]:kt,[Dn]:kt},type:hr}],type:$r}],type:$r},{error:"Invalid Configuration: Missing Region",type:_i}]};cp.ruleSet=tK});var kN=A(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.defaultEndpointResolver=void 0;var rK=gs(),L_=hs(),nK=DN(),sK=new L_.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),oK=(e,t={})=>sK.get(e,()=>(0,L_.resolveEndpoint)(nK.ruleSet,{endpointParams:e,logger:t.logger}));dp.defaultEndpointResolver=oK;L_.customEndpointFunctions.aws=rK.awsEndpointFunctions});var jN=A(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.getRuntimeConfig=void 0;var iK=(be(),Y(it)),aK=K(),cK=Rr(),MN=Ge(),LN=ke(),dK=sg(),lK=kN(),uK=e=>({apiVersion:"2017-10-17",base64Decoder:e?.base64Decoder??MN.fromBase64,base64Encoder:e?.base64Encoder??MN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lK.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dK.defaultSecretsManagerHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iK.AwsSdkSigV4Signer}],logger:e?.logger??new aK.NoOpLogger,serviceId:e?.serviceId??"Secrets Manager",urlParser:e?.urlParser??cK.parseUrl,utf8Decoder:e?.utf8Decoder??LN.fromUtf8,utf8Encoder:e?.utf8Encoder??LN.toUtf8});lp.getRuntimeConfig=uK});var HN=A(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.getRuntimeConfig=void 0;var pK=(Ia(),Y(Oa)),mK=pK.__importDefault(zx()),FN=(be(),Y(it)),fK=D_(),UN=Wo(),up=wt(),hK=Jo(),$N=zt(),js=Nr(),BN=an(),gK=Ko(),_K=Is(),yK=jN(),SK=K(),EK=Zo(),vK=K(),bK=e=>{(0,vK.emitWarningIfUnsupportedVersion)(process.version);let t=(0,EK.resolveDefaultsModeConfig)(e),r=()=>t().then(SK.loadConfigsForDefaultMode),n=(0,yK.getRuntimeConfig)(e);(0,FN.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,js.loadConfig)(FN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??gK.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??fK.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,UN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:mK.default.version}),maxAttempts:e?.maxAttempts??(0,js.loadConfig)($N.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,js.loadConfig)(up.NODE_REGION_CONFIG_OPTIONS,{...up.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:BN.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,js.loadConfig)({...$N.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||_K.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??hK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??BN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,js.loadConfig)(up.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,js.loadConfig)(up.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,js.loadConfig)(UN.NODE_APP_ID_CONFIG_OPTIONS,s)}};pp.getRuntimeConfig=bK});var KD=A((Vye,JD)=>{"use strict";var mp=Object.defineProperty,CK=Object.getOwnPropertyDescriptor,wK=Object.getOwnPropertyNames,PK=Object.prototype.hasOwnProperty,v=(e,t)=>mp(e,"name",{value:t,configurable:!0}),xK=(e,t)=>{for(var r in t)mp(e,r,{get:t[r],enumerable:!0})},AK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wK(t))!PK.call(e,s)&&s!==r&&mp(e,s,{get:()=>t[s],enumerable:!(n=CK(t,s))||n.enumerable});return e},OK=e=>AK(mp({},"__esModule",{value:!0}),e),JN={};xK(JN,{BatchGetSecretValueCommand:()=>F_,BatchGetSecretValueResponseFilterSensitiveLog:()=>vD,CancelRotateSecretCommand:()=>AD,CreateSecretCommand:()=>OD,CreateSecretRequestFilterSensitiveLog:()=>bD,DecryptionFailure:()=>YN,DeleteResourcePolicyCommand:()=>ID,DeleteSecretCommand:()=>RD,DescribeSecretCommand:()=>TD,EncryptionFailure:()=>cD,FilterNameStringType:()=>FK,GetRandomPasswordCommand:()=>ND,GetRandomPasswordResponseFilterSensitiveLog:()=>CD,GetResourcePolicyCommand:()=>DD,GetSecretValueCommand:()=>kD,GetSecretValueResponseFilterSensitiveLog:()=>wD,InternalServiceError:()=>QN,InvalidNextTokenException:()=>eD,InvalidParameterException:()=>rD,InvalidRequestException:()=>sD,LimitExceededException:()=>lD,ListSecretVersionIdsCommand:()=>$_,ListSecretsCommand:()=>U_,MalformedPolicyDocumentException:()=>pD,PreconditionNotMetException:()=>fD,PublicPolicyException:()=>yD,PutResourcePolicyCommand:()=>MD,PutSecretValueCommand:()=>LD,PutSecretValueRequestFilterSensitiveLog:()=>PD,RemoveRegionsFromReplicationCommand:()=>jD,ReplicateSecretToRegionsCommand:()=>FD,ResourceExistsException:()=>gD,ResourceNotFoundException:()=>iD,RestoreSecretCommand:()=>UD,RotateSecretCommand:()=>$D,SecretValueEntryFilterSensitiveLog:()=>ED,SecretsManager:()=>WD,SecretsManagerClient:()=>mc,SecretsManagerServiceException:()=>lt,SortOrderType:()=>$K,StatusType:()=>UK,StopReplicationToReplicaCommand:()=>BD,TagResourceCommand:()=>HD,UntagResourceCommand:()=>qD,UpdateSecretCommand:()=>VD,UpdateSecretRequestFilterSensitiveLog:()=>xD,UpdateSecretVersionStageCommand:()=>zD,ValidateResourcePolicyCommand:()=>GD,__Client:()=>g.Client,paginateBatchGetSecretValue:()=>mY,paginateListSecretVersionIds:()=>fY,paginateListSecrets:()=>hY});JD.exports=OK(JN);var qN=Po(),IK=xo(),RK=Ao(),VN=xs(),TK=wt(),yi=(Qe(),Y(fs)),NK=Bo(),fe=Dr(),zN=zt(),GN=sg(),DK=v(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),"resolveClientEndpointParameters"),ye={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},kK=HN(),WN=ei(),j_=le(),g=K(),MK=v(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(a=>a.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),LK=v(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),jK=v((e,t)=>{let r=Object.assign((0,WN.getAwsRegionExtensionConfiguration)(e),(0,g.getDefaultExtensionConfiguration)(e),(0,j_.getHttpHandlerExtensionConfiguration)(e),MK(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,WN.resolveAwsRegionExtensionConfiguration)(r),(0,g.resolveDefaultRuntimeConfig)(r),(0,j_.resolveHttpHandlerRuntimeConfig)(r),LK(r))},"resolveRuntimeExtensions"),mc=class extends g.Client{static{v(this,"SecretsManagerClient")}config;constructor(...[e]){let t=(0,kK.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=DK(t),n=(0,VN.resolveUserAgentConfig)(r),s=(0,zN.resolveRetryConfig)(n),o=(0,TK.resolveRegionConfig)(s),a=(0,qN.resolveHostHeaderConfig)(o),c=(0,fe.resolveEndpointConfig)(a),d=(0,GN.resolveHttpAuthSchemeConfig)(c),l=jK(d,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,VN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,NK.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,qN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,IK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,RK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,yi.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:GN.defaultSecretsManagerHttpAuthSchemeParametersProvider,identityProviderConfigProvider:v(async p=>new yi.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,yi.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Se=Cr(),lt=class KN extends g.ServiceException{static{v(this,"SecretsManagerServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,KN.prototype)}},FK={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},YN=class XN extends lt{static{v(this,"DecryptionFailure")}name="DecryptionFailure";$fault="client";Message;constructor(t){super({name:"DecryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,XN.prototype),this.Message=t.Message}},QN=class ZN extends lt{static{v(this,"InternalServiceError")}name="InternalServiceError";$fault="server";Message;constructor(t){super({name:"InternalServiceError",$fault:"server",...t}),Object.setPrototypeOf(this,ZN.prototype),this.Message=t.Message}},eD=class tD extends lt{static{v(this,"InvalidNextTokenException")}name="InvalidNextTokenException";$fault="client";Message;constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,tD.prototype),this.Message=t.Message}},rD=class nD extends lt{static{v(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";Message;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,nD.prototype),this.Message=t.Message}},sD=class oD extends lt{static{v(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";Message;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,oD.prototype),this.Message=t.Message}},iD=class aD extends lt{static{v(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,aD.prototype),this.Message=t.Message}},UK={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},cD=class dD extends lt{static{v(this,"EncryptionFailure")}name="EncryptionFailure";$fault="client";Message;constructor(t){super({name:"EncryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,dD.prototype),this.Message=t.Message}},lD=class uD extends lt{static{v(this,"LimitExceededException")}name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,uD.prototype),this.Message=t.Message}},pD=class mD extends lt{static{v(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";Message;constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,mD.prototype),this.Message=t.Message}},fD=class hD extends lt{static{v(this,"PreconditionNotMetException")}name="PreconditionNotMetException";$fault="client";Message;constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,hD.prototype),this.Message=t.Message}},gD=class _D extends lt{static{v(this,"ResourceExistsException")}name="ResourceExistsException";$fault="client";Message;constructor(t){super({name:"ResourceExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,_D.prototype),this.Message=t.Message}},$K={asc:"asc",desc:"desc"},yD=class SD extends lt{static{v(this,"PublicPolicyException")}name="PublicPolicyException";$fault="client";Message;constructor(t){super({name:"PublicPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,SD.prototype),this.Message=t.Message}},ED=v(e=>({...e,...e.SecretBinary&&{SecretBinary:g.SENSITIVE_STRING},...e.SecretString&&{SecretString:g.SENSITIVE_STRING}}),"SecretValueEntryFilterSensitiveLog"),vD=v(e=>({...e,...e.SecretValues&&{SecretValues:e.SecretValues.map(t=>ED(t))}}),"BatchGetSecretValueResponseFilterSensitiveLog"),bD=v(e=>({...e,...e.SecretBinary&&{SecretBinary:g.SENSITIVE_STRING},...e.SecretString&&{SecretString:g.SENSITIVE_STRING}}),"CreateSecretRequestFilterSensitiveLog"),CD=v(e=>({...e,...e.RandomPassword&&{RandomPassword:g.SENSITIVE_STRING}}),"GetRandomPasswordResponseFilterSensitiveLog"),wD=v(e=>({...e,...e.SecretBinary&&{SecretBinary:g.SENSITIVE_STRING},...e.SecretString&&{SecretString:g.SENSITIVE_STRING}}),"GetSecretValueResponseFilterSensitiveLog"),PD=v(e=>({...e,...e.SecretBinary&&{SecretBinary:g.SENSITIVE_STRING},...e.SecretString&&{SecretString:g.SENSITIVE_STRING},...e.RotationToken&&{RotationToken:g.SENSITIVE_STRING}}),"PutSecretValueRequestFilterSensitiveLog"),xD=v(e=>({...e,...e.SecretBinary&&{SecretBinary:g.SENSITIVE_STRING},...e.SecretString&&{SecretString:g.SENSITIVE_STRING}}),"UpdateSecretRequestFilterSensitiveLog"),_e=(be(),Y(it)),fp=(oa(),Y(Fd)),BK=v(async(e,t)=>{let r=he("BatchGetSecretValue"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_BatchGetSecretValueCommand"),HK=v(async(e,t)=>{let r=he("CancelRotateSecret"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_CancelRotateSecretCommand"),qK=v(async(e,t)=>{let r=he("CreateSecret"),n;return n=JSON.stringify(z5(e,t)),ve(t,r,"/",void 0,n)},"se_CreateSecretCommand"),VK=v(async(e,t)=>{let r=he("DeleteResourcePolicy"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),zK=v(async(e,t)=>{let r=he("DeleteSecret"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_DeleteSecretCommand"),GK=v(async(e,t)=>{let r=he("DescribeSecret"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_DescribeSecretCommand"),WK=v(async(e,t)=>{let r=he("GetRandomPassword"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_GetRandomPasswordCommand"),JK=v(async(e,t)=>{let r=he("GetResourcePolicy"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),KK=v(async(e,t)=>{let r=he("GetSecretValue"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_GetSecretValueCommand"),YK=v(async(e,t)=>{let r=he("ListSecrets"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_ListSecretsCommand"),XK=v(async(e,t)=>{let r=he("ListSecretVersionIds"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_ListSecretVersionIdsCommand"),QK=v(async(e,t)=>{let r=he("PutResourcePolicy"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),ZK=v(async(e,t)=>{let r=he("PutSecretValue"),n;return n=JSON.stringify(G5(e,t)),ve(t,r,"/",void 0,n)},"se_PutSecretValueCommand"),e5=v(async(e,t)=>{let r=he("RemoveRegionsFromReplication"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_RemoveRegionsFromReplicationCommand"),t5=v(async(e,t)=>{let r=he("ReplicateSecretToRegions"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_ReplicateSecretToRegionsCommand"),r5=v(async(e,t)=>{let r=he("RestoreSecret"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_RestoreSecretCommand"),n5=v(async(e,t)=>{let r=he("RotateSecret"),n;return n=JSON.stringify(W5(e,t)),ve(t,r,"/",void 0,n)},"se_RotateSecretCommand"),s5=v(async(e,t)=>{let r=he("StopReplicationToReplica"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_StopReplicationToReplicaCommand"),o5=v(async(e,t)=>{let r=he("TagResource"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_TagResourceCommand"),i5=v(async(e,t)=>{let r=he("UntagResource"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_UntagResourceCommand"),a5=v(async(e,t)=>{let r=he("UpdateSecret"),n;return n=JSON.stringify(J5(e,t)),ve(t,r,"/",void 0,n)},"se_UpdateSecretCommand"),c5=v(async(e,t)=>{let r=he("UpdateSecretVersionStage"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_UpdateSecretVersionStageCommand"),d5=v(async(e,t)=>{let r=he("ValidateResourcePolicy"),n;return n=JSON.stringify((0,g._json)(e)),ve(t,r,"/",void 0,n)},"se_ValidateResourcePolicyCommand"),l5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=K5(r,t),{$metadata:re(e),...n}},"de_BatchGetSecretValueCommand"),u5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_CancelRotateSecretCommand"),p5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=Y5(r,t),{$metadata:re(e),...n}},"de_CreateSecretCommand"),m5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_DeleteResourcePolicyCommand"),f5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=X5(r,t),{$metadata:re(e),...n}},"de_DeleteSecretCommand"),h5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=Q5(r,t),{$metadata:re(e),...n}},"de_DescribeSecretCommand"),g5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_GetRandomPasswordCommand"),_5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_GetResourcePolicyCommand"),y5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=Z5(r,t),{$metadata:re(e),...n}},"de_GetSecretValueCommand"),S5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=eY(r,t),{$metadata:re(e),...n}},"de_ListSecretsCommand"),E5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=tY(r,t),{$metadata:re(e),...n}},"de_ListSecretVersionIdsCommand"),v5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_PutResourcePolicyCommand"),b5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_PutSecretValueCommand"),C5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=rY(r,t),{$metadata:re(e),...n}},"de_RemoveRegionsFromReplicationCommand"),w5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=nY(r,t),{$metadata:re(e),...n}},"de_ReplicateSecretToRegionsCommand"),P5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_RestoreSecretCommand"),x5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_RotateSecretCommand"),A5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_StopReplicationToReplicaCommand"),O5=v(async(e,t)=>e.statusCode>=300?Ee(e,t):(await(0,g.collectBody)(e.body,t),{$metadata:re(e)}),"de_TagResourceCommand"),I5=v(async(e,t)=>e.statusCode>=300?Ee(e,t):(await(0,g.collectBody)(e.body,t),{$metadata:re(e)}),"de_UntagResourceCommand"),R5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_UpdateSecretCommand"),T5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_UpdateSecretVersionStageCommand"),N5=v(async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);let r=await(0,_e.parseJsonBody)(e.body,t),n={};return n=(0,g._json)(r),{$metadata:re(e),...n}},"de_ValidateResourcePolicyCommand"),Ee=v(async(e,t)=>{let r={...e,body:await(0,_e.parseJsonErrorBody)(e.body,t)},n=(0,_e.loadRestJsonErrorCode)(e,r.body);switch(n){case"DecryptionFailure":case"com.amazonaws.secretsmanager#DecryptionFailure":throw await D5(r,t);case"InternalServiceError":case"com.amazonaws.secretsmanager#InternalServiceError":throw await M5(r,t);case"InvalidNextTokenException":case"com.amazonaws.secretsmanager#InvalidNextTokenException":throw await L5(r,t);case"InvalidParameterException":case"com.amazonaws.secretsmanager#InvalidParameterException":throw await j5(r,t);case"InvalidRequestException":case"com.amazonaws.secretsmanager#InvalidRequestException":throw await F5(r,t);case"ResourceNotFoundException":case"com.amazonaws.secretsmanager#ResourceNotFoundException":throw await V5(r,t);case"EncryptionFailure":case"com.amazonaws.secretsmanager#EncryptionFailure":throw await k5(r,t);case"LimitExceededException":case"com.amazonaws.secretsmanager#LimitExceededException":throw await U5(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.secretsmanager#MalformedPolicyDocumentException":throw await $5(r,t);case"PreconditionNotMetException":case"com.amazonaws.secretsmanager#PreconditionNotMetException":throw await B5(r,t);case"ResourceExistsException":case"com.amazonaws.secretsmanager#ResourceExistsException":throw await q5(r,t);case"PublicPolicyException":case"com.amazonaws.secretsmanager#PublicPolicyException":throw await H5(r,t);default:let s=r.body;return uY({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),D5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new YN({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_DecryptionFailureRes"),k5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new cD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_EncryptionFailureRes"),M5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new QN({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_InternalServiceErrorRes"),L5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new eD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_InvalidNextTokenExceptionRes"),j5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new rD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),F5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new sD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_InvalidRequestExceptionRes"),U5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new lD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),$5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new pD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_MalformedPolicyDocumentExceptionRes"),B5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new fD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_PreconditionNotMetExceptionRes"),H5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new yD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_PublicPolicyExceptionRes"),q5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new gD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_ResourceExistsExceptionRes"),V5=v(async(e,t)=>{let r=e.body,n=(0,g._json)(r),s=new iD({$metadata:re(e),...n});return(0,g.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),z5=v((e,t)=>(0,g.take)(e,{AddReplicaRegions:g._json,ClientRequestToken:[!0,r=>r??(0,fp.v4)()],Description:[],ForceOverwriteReplicaSecret:[],KmsKeyId:[],Name:[],SecretBinary:t.base64Encoder,SecretString:[],Tags:g._json}),"se_CreateSecretRequest"),G5=v((e,t)=>(0,g.take)(e,{ClientRequestToken:[!0,r=>r??(0,fp.v4)()],RotationToken:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[],VersionStages:g._json}),"se_PutSecretValueRequest"),W5=v((e,t)=>(0,g.take)(e,{ClientRequestToken:[!0,r=>r??(0,fp.v4)()],RotateImmediately:[],RotationLambdaARN:[],RotationRules:g._json,SecretId:[]}),"se_RotateSecretRequest"),J5=v((e,t)=>(0,g.take)(e,{ClientRequestToken:[!0,r=>r??(0,fp.v4)()],Description:[],KmsKeyId:[],SecretBinary:t.base64Encoder,SecretId:[],SecretString:[]}),"se_UpdateSecretRequest"),K5=v((e,t)=>(0,g.take)(e,{Errors:g._json,NextToken:g.expectString,SecretValues:v(r=>cY(r,t),"SecretValues")}),"de_BatchGetSecretValueResponse"),Y5=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,Name:g.expectString,ReplicationStatus:v(r=>hp(r,t),"ReplicationStatus"),VersionId:g.expectString}),"de_CreateSecretResponse"),X5=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,DeletionDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"DeletionDate"),Name:g.expectString}),"de_DeleteSecretResponse"),Q5=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,CreatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"CreatedDate"),DeletedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"DeletedDate"),Description:g.expectString,KmsKeyId:g.expectString,LastAccessedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastRotatedDate"),Name:g.expectString,NextRotationDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"NextRotationDate"),OwningService:g.expectString,PrimaryRegion:g.expectString,ReplicationStatus:v(r=>hp(r,t),"ReplicationStatus"),RotationEnabled:g.expectBoolean,RotationLambdaARN:g.expectString,RotationRules:g._json,Tags:g._json,VersionIdsToStages:g._json}),"de_DescribeSecretResponse"),Z5=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,CreatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"CreatedDate"),Name:g.expectString,SecretBinary:t.base64Decoder,SecretString:g.expectString,VersionId:g.expectString,VersionStages:g._json}),"de_GetSecretValueResponse"),eY=v((e,t)=>(0,g.take)(e,{NextToken:g.expectString,SecretList:v(r=>iY(r,t),"SecretList")}),"de_ListSecretsResponse"),tY=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,Name:g.expectString,NextToken:g.expectString,Versions:v(r=>lY(r,t),"Versions")}),"de_ListSecretVersionIdsResponse"),rY=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,ReplicationStatus:v(r=>hp(r,t),"ReplicationStatus")}),"de_RemoveRegionsFromReplicationResponse"),nY=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,ReplicationStatus:v(r=>hp(r,t),"ReplicationStatus")}),"de_ReplicateSecretToRegionsResponse"),hp=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>sY(n,t)),"de_ReplicationStatusListType"),sY=v((e,t)=>(0,g.take)(e,{KmsKeyId:g.expectString,LastAccessedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastAccessedDate"),Region:g.expectString,Status:g.expectString,StatusMessage:g.expectString}),"de_ReplicationStatusType"),oY=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,CreatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"CreatedDate"),DeletedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"DeletedDate"),Description:g.expectString,KmsKeyId:g.expectString,LastAccessedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastAccessedDate"),LastChangedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastChangedDate"),LastRotatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastRotatedDate"),Name:g.expectString,NextRotationDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"NextRotationDate"),OwningService:g.expectString,PrimaryRegion:g.expectString,RotationEnabled:g.expectBoolean,RotationLambdaARN:g.expectString,RotationRules:g._json,SecretVersionsToStages:g._json,Tags:g._json}),"de_SecretListEntry"),iY=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oY(n,t)),"de_SecretListType"),aY=v((e,t)=>(0,g.take)(e,{ARN:g.expectString,CreatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"CreatedDate"),Name:g.expectString,SecretBinary:t.base64Decoder,SecretString:g.expectString,VersionId:g.expectString,VersionStages:g._json}),"de_SecretValueEntry"),cY=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>aY(n,t)),"de_SecretValuesType"),dY=v((e,t)=>(0,g.take)(e,{CreatedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"CreatedDate"),KmsKeyIds:g._json,LastAccessedDate:v(r=>(0,g.expectNonNull)((0,g.parseEpochTimestamp)((0,g.expectNumber)(r))),"LastAccessedDate"),VersionId:g.expectString,VersionStages:g._json}),"de_SecretVersionsListEntry"),lY=v((e,t)=>(e||[]).filter(n=>n!=null).map(n=>dY(n,t)),"de_SecretVersionsListType"),re=v(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),uY=(0,g.withBaseException)(lt),ve=v(async(e,t,r,n,s)=>{let{hostname:o,protocol:a="https",port:c,path:d}=await e.endpoint(),l={protocol:a,hostname:o,port:c,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new j_.HttpRequest(l)},"buildHttpRpcRequest");function he(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`secretsmanager.${e}`}}v(he,"sharedHeaders");var F_=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").f(void 0,vD).ser(BK).de(l5).build(){static{v(this,"BatchGetSecretValueCommand")}},AD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").f(void 0,void 0).ser(HK).de(u5).build(){static{v(this,"CancelRotateSecretCommand")}},OD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").f(bD,void 0).ser(qK).de(p5).build(){static{v(this,"CreateSecretCommand")}},ID=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(VK).de(m5).build(){static{v(this,"DeleteResourcePolicyCommand")}},RD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").f(void 0,void 0).ser(zK).de(f5).build(){static{v(this,"DeleteSecretCommand")}},TD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").f(void 0,void 0).ser(GK).de(h5).build(){static{v(this,"DescribeSecretCommand")}},ND=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").f(void 0,CD).ser(WK).de(g5).build(){static{v(this,"GetRandomPasswordCommand")}},DD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").f(void 0,void 0).ser(JK).de(_5).build(){static{v(this,"GetResourcePolicyCommand")}},kD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").f(void 0,wD).ser(KK).de(y5).build(){static{v(this,"GetSecretValueCommand")}},U_=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").f(void 0,void 0).ser(YK).de(S5).build(){static{v(this,"ListSecretsCommand")}},$_=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").f(void 0,void 0).ser(XK).de(E5).build(){static{v(this,"ListSecretVersionIdsCommand")}},MD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").f(void 0,void 0).ser(QK).de(v5).build(){static{v(this,"PutResourcePolicyCommand")}},LD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").f(PD,void 0).ser(ZK).de(b5).build(){static{v(this,"PutSecretValueCommand")}},jD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").f(void 0,void 0).ser(e5).de(C5).build(){static{v(this,"RemoveRegionsFromReplicationCommand")}},FD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").f(void 0,void 0).ser(t5).de(w5).build(){static{v(this,"ReplicateSecretToRegionsCommand")}},UD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").f(void 0,void 0).ser(r5).de(P5).build(){static{v(this,"RestoreSecretCommand")}},$D=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").f(void 0,void 0).ser(n5).de(x5).build(){static{v(this,"RotateSecretCommand")}},BD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").f(void 0,void 0).ser(s5).de(A5).build(){static{v(this,"StopReplicationToReplicaCommand")}},HD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").f(void 0,void 0).ser(o5).de(O5).build(){static{v(this,"TagResourceCommand")}},qD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").f(void 0,void 0).ser(i5).de(I5).build(){static{v(this,"UntagResourceCommand")}},VD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").f(xD,void 0).ser(a5).de(R5).build(){static{v(this,"UpdateSecretCommand")}},zD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").f(void 0,void 0).ser(c5).de(T5).build(){static{v(this,"UpdateSecretVersionStageCommand")}},GD=class extends g.Command.classBuilder().ep(ye).m(function(e,t,r,n){return[(0,Se.getSerdePlugin)(r,this.serialize,this.deserialize),(0,fe.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").f(void 0,void 0).ser(d5).de(N5).build(){static{v(this,"ValidateResourcePolicyCommand")}},pY={BatchGetSecretValueCommand:F_,CancelRotateSecretCommand:AD,CreateSecretCommand:OD,DeleteResourcePolicyCommand:ID,DeleteSecretCommand:RD,DescribeSecretCommand:TD,GetRandomPasswordCommand:ND,GetResourcePolicyCommand:DD,GetSecretValueCommand:kD,ListSecretsCommand:U_,ListSecretVersionIdsCommand:$_,PutResourcePolicyCommand:MD,PutSecretValueCommand:LD,RemoveRegionsFromReplicationCommand:jD,ReplicateSecretToRegionsCommand:FD,RestoreSecretCommand:UD,RotateSecretCommand:$D,StopReplicationToReplicaCommand:BD,TagResourceCommand:HD,UntagResourceCommand:qD,UpdateSecretCommand:VD,UpdateSecretVersionStageCommand:zD,ValidateResourcePolicyCommand:GD},WD=class extends mc{static{v(this,"SecretsManager")}};(0,g.createAggregatedClient)(pY,WD);var mY=(0,yi.createPaginator)(mc,F_,"NextToken","NextToken","MaxResults"),fY=(0,yi.createPaginator)(mc,$_,"NextToken","NextToken","MaxResults"),hY=(0,yi.createPaginator)(mc,U_,"NextToken","NextToken","MaxResults")});var H_=A(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.resolveHttpAuthSchemeConfig=kn.defaultOpenSearchHttpAuthSchemeProvider=kn.defaultOpenSearchHttpAuthSchemeParametersProvider=void 0;var gY=(be(),Y(it)),B_=vt(),_Y=async(e,t,r)=>({operation:(0,B_.getSmithyContext)(t).operation,region:await(0,B_.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kn.defaultOpenSearchHttpAuthSchemeParametersProvider=_Y;function yY(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"es",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var SY=e=>{let t=[];switch(e.operation){default:t.push(yY(e))}return t};kn.defaultOpenSearchHttpAuthSchemeProvider=SY;var EY=e=>{let t=(0,gY.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,B_.normalizeProvider)(e.authSchemePreference??[])})};kn.resolveHttpAuthSchemeConfig=EY});var YD=A((_Se,vY)=>{vY.exports={name:"@aws-sdk/client-opensearch",description:"AWS SDK for JavaScript Opensearch Client for Node.js, Browser and React Native",version:"3.864.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-opensearch","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo opensearch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-opensearch",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-opensearch"}}});var uk=A(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.ruleSet=void 0;var ck="required",ut="fn",pt="argv",Fs="ref",XD=!0,QD="isSet",fc="booleanEquals",Si="error",Mn="endpoint",Br="tree",gp="PartitionResult",q_="stringEquals",ZD={[ck]:!1,type:"String"},ek={[ck]:!0,default:!1,type:"Boolean"},tk={[Fs]:"Endpoint"},dk={[ut]:fc,[pt]:[{[Fs]:"UseFIPS"},!0]},lk={[ut]:fc,[pt]:[{[Fs]:"UseDualStack"},!0]},Mt={},rk={[ut]:"getAttr",[pt]:[{[Fs]:gp},"supportsFIPS"]},nk={[ut]:fc,[pt]:[!0,{[ut]:"getAttr",[pt]:[{[Fs]:gp},"supportsDualStack"]}]},V_={[ut]:"getAttr",[pt]:[{[Fs]:gp},"name"]},sk={url:"https://aos.{Region}.api.aws",properties:{},headers:{}},ok=[dk],ik=[lk],ak=[{[Fs]:"Region"}],bY={version:"1.0",parameters:{Region:ZD,UseDualStack:ek,UseFIPS:ek,Endpoint:ZD},rules:[{conditions:[{[ut]:QD,[pt]:[tk]}],rules:[{conditions:ok,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Si},{conditions:ik,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Si},{endpoint:{url:tk,properties:Mt,headers:Mt},type:Mn}],type:Br},{conditions:[{[ut]:QD,[pt]:ak}],rules:[{conditions:[{[ut]:"aws.partition",[pt]:ak,assign:gp}],rules:[{conditions:[dk,lk],rules:[{conditions:[{[ut]:fc,[pt]:[XD,rk]},nk],rules:[{endpoint:{url:"https://es-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mt,headers:Mt},type:Mn}],type:Br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Si}],type:Br},{conditions:ok,rules:[{conditions:[{[ut]:fc,[pt]:[rk,XD]}],rules:[{endpoint:{url:"https://es-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Mt,headers:Mt},type:Mn}],type:Br},{error:"FIPS is enabled but this partition does not support FIPS",type:Si}],type:Br},{conditions:ik,rules:[{conditions:[nk],rules:[{conditions:[{[ut]:q_,[pt]:["aws",V_]}],endpoint:sk,type:Mn},{conditions:[{[ut]:q_,[pt]:["aws-cn",V_]}],endpoint:{url:"https://aos.{Region}.api.amazonwebservices.com.cn",properties:Mt,headers:Mt},type:Mn},{conditions:[{[ut]:q_,[pt]:["aws-us-gov",V_]}],endpoint:sk,type:Mn},{endpoint:{url:"https://es.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mt,headers:Mt},type:Mn}],type:Br},{error:"DualStack is enabled but this partition does not support DualStack",type:Si}],type:Br},{endpoint:{url:"https://es.{Region}.{PartitionResult#dnsSuffix}",properties:Mt,headers:Mt},type:Mn}],type:Br}],type:Br},{error:"Invalid Configuration: Missing Region",type:Si}]};_p.ruleSet=bY});var pk=A(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.defaultEndpointResolver=void 0;var CY=gs(),z_=hs(),wY=uk(),PY=new z_.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xY=(e,t={})=>PY.get(e,()=>(0,z_.resolveEndpoint)(wY.ruleSet,{endpointParams:e,logger:t.logger}));yp.defaultEndpointResolver=xY;z_.customEndpointFunctions.aws=CY.awsEndpointFunctions});var hk=A(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.getRuntimeConfig=void 0;var AY=(be(),Y(it)),OY=K(),IY=Rr(),mk=Ge(),fk=ke(),RY=H_(),TY=pk(),NY=e=>({apiVersion:"2021-01-01",base64Decoder:e?.base64Decoder??mk.fromBase64,base64Encoder:e?.base64Encoder??mk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??TY.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??RY.defaultOpenSearchHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new AY.AwsSdkSigV4Signer}],logger:e?.logger??new OY.NoOpLogger,serviceId:e?.serviceId??"OpenSearch",urlParser:e?.urlParser??IY.parseUrl,utf8Decoder:e?.utf8Decoder??fk.fromUtf8,utf8Encoder:e?.utf8Encoder??fk.toUtf8});Sp.getRuntimeConfig=NY});var Ek=A(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.getRuntimeConfig=void 0;var DY=(Ia(),Y(Oa)),kY=DY.__importDefault(YD()),gk=(be(),Y(it)),MY=D_(),_k=Wo(),Ep=wt(),LY=Jo(),yk=zt(),Us=Nr(),Sk=an(),jY=Ko(),FY=Is(),UY=hk(),$Y=K(),BY=Zo(),HY=K(),qY=e=>{(0,HY.emitWarningIfUnsupportedVersion)(process.version);let t=(0,BY.resolveDefaultsModeConfig)(e),r=()=>t().then($Y.loadConfigsForDefaultMode),n=(0,UY.getRuntimeConfig)(e);(0,gk.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Us.loadConfig)(gk.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??jY.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??MY.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_k.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:kY.default.version}),maxAttempts:e?.maxAttempts??(0,Us.loadConfig)(yk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Us.loadConfig)(Ep.NODE_REGION_CONFIG_OPTIONS,{...Ep.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Sk.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Us.loadConfig)({...yk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||FY.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??LY.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Sk.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Us.loadConfig)(Ep.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Us.loadConfig)(Ep.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Us.loadConfig)(_k.NODE_APP_ID_CONFIG_OPTIONS,s)}};vp.getRuntimeConfig=qY});var SL=A((bSe,yL)=>{"use strict";var bp=Object.defineProperty,VY=Object.getOwnPropertyDescriptor,zY=Object.getOwnPropertyNames,GY=Object.prototype.hasOwnProperty,u=(e,t)=>bp(e,"name",{value:t,configurable:!0}),WY=(e,t)=>{for(var r in t)bp(e,r,{get:t[r],enumerable:!0})},JY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of zY(t))!GY.call(e,s)&&s!==r&&bp(e,s,{get:()=>t[s],enumerable:!(n=VY(t,s))||n.enumerable});return e},KY=e=>JY(bp({},"__esModule",{value:!0}),e),Ok={};WY(Ok,{AWSServicePrincipal:()=>gX,AcceptInboundConnectionCommand:()=>lM,AccessDeniedException:()=>Lk,ActionSeverity:()=>dX,ActionStatus:()=>lX,ActionType:()=>uX,AddDataSourceCommand:()=>uM,AddDirectQueryDataSourceCommand:()=>pM,AddTagsCommand:()=>mM,AdvancedSecurityOptionsInputFilterSensitiveLog:()=>J_,AppConfigType:()=>SX,ApplicationStatus:()=>tQ,AssociatePackageCommand:()=>fM,AssociatePackagesCommand:()=>hM,AuthorizeVpcEndpointAccessCommand:()=>gM,AutoTuneDesiredState:()=>EX,AutoTuneState:()=>TX,AutoTuneType:()=>qX,BaseException:()=>Fk,CancelDomainConfigChangeCommand:()=>_M,CancelServiceSoftwareUpdateCommand:()=>yM,ConfigChangeStatus:()=>NX,ConflictException:()=>Gk,ConnectionMode:()=>iX,CreateApplicationCommand:()=>SM,CreateDomainCommand:()=>EM,CreateDomainRequestFilterSensitiveLog:()=>rM,CreateOutboundConnectionCommand:()=>vM,CreatePackageCommand:()=>bM,CreateVpcEndpointCommand:()=>CM,DataSourceStatus:()=>rQ,DataSourceType:()=>G_,DeleteApplicationCommand:()=>wM,DeleteDataSourceCommand:()=>PM,DeleteDirectQueryDataSourceCommand:()=>xM,DeleteDomainCommand:()=>AM,DeleteInboundConnectionCommand:()=>OM,DeleteOutboundConnectionCommand:()=>IM,DeletePackageCommand:()=>RM,DeleteVpcEndpointCommand:()=>TM,DependencyFailureException:()=>$k,DeploymentStatus:()=>yX,DescribeDomainAutoTunesCommand:()=>ey,DescribeDomainChangeProgressCommand:()=>NM,DescribeDomainCommand:()=>DM,DescribeDomainConfigCommand:()=>kM,DescribeDomainHealthCommand:()=>MM,DescribeDomainNodesCommand:()=>LM,DescribeDomainsCommand:()=>jM,DescribeDryRunProgressCommand:()=>FM,DescribeInboundConnectionsCommand:()=>ty,DescribeInstanceTypeLimitsCommand:()=>UM,DescribeOutboundConnectionsCommand:()=>ry,DescribePackagesCommand:()=>ny,DescribePackagesFilterName:()=>QX,DescribeReservedInstanceOfferingsCommand:()=>sy,DescribeReservedInstancesCommand:()=>oy,DescribeVpcEndpointsCommand:()=>$M,DirectQueryDataSourceType:()=>W_,DisabledOperationException:()=>Rk,DissociatePackageCommand:()=>BM,DissociatePackagesCommand:()=>HM,DomainHealth:()=>GX,DomainPackageStatus:()=>fX,DomainProcessingStatusType:()=>kX,DomainState:()=>WX,DryRunMode:()=>lQ,EngineType:()=>aQ,GetApplicationCommand:()=>qM,GetCompatibleVersionsCommand:()=>VM,GetDataSourceCommand:()=>zM,GetDirectQueryDataSourceCommand:()=>GM,GetDomainMaintenanceStatusCommand:()=>WM,GetPackageVersionHistoryCommand:()=>iy,GetUpgradeHistoryCommand:()=>ay,GetUpgradeStatusCommand:()=>JM,IPAddressType:()=>IX,InboundConnectionStatusCode:()=>aX,InitiatedBy:()=>DX,InternalException:()=>Hk,InvalidPaginationTokenException:()=>Qk,InvalidTypeException:()=>Jk,LimitExceededException:()=>Nk,ListApplicationsCommand:()=>cy,ListDataSourcesCommand:()=>KM,ListDirectQueryDataSourcesCommand:()=>YM,ListDomainMaintenancesCommand:()=>dy,ListDomainNamesCommand:()=>XM,ListDomainsForPackageCommand:()=>ly,ListInstanceTypeDetailsCommand:()=>uy,ListPackagesForDomainCommand:()=>py,ListScheduledActionsCommand:()=>my,ListTagsCommand:()=>QM,ListVersionsCommand:()=>fy,ListVpcEndpointAccessCommand:()=>ZM,ListVpcEndpointsCommand:()=>eL,ListVpcEndpointsForDomainCommand:()=>tL,LogType:()=>RX,MaintenanceStatus:()=>sQ,MaintenanceType:()=>nQ,MasterNodeStatus:()=>KX,MasterUserOptionsFilterSensitiveLog:()=>eM,NaturalLanguageQueryGenerationCurrentState:()=>mX,NaturalLanguageQueryGenerationDesiredState:()=>pX,NodeOptionsNodeType:()=>CX,NodeStatus:()=>YX,NodeType:()=>XX,OpenSearch:()=>_L,OpenSearchClient:()=>Ve,OpenSearchPartitionInstanceType:()=>bX,OpenSearchServiceException:()=>rt,OpenSearchWarmPartitionInstanceType:()=>wX,OptionState:()=>cX,OutboundConnectionStatusCode:()=>jX,OverallChangeStatus:()=>VX,PackageScopeOperationEnum:()=>uQ,PackageStatus:()=>UX,PackageType:()=>hX,PrincipalType:()=>_X,PropertyValueType:()=>MX,PurchaseReservedInstanceOfferingCommand:()=>rL,RejectInboundConnectionCommand:()=>nL,RemoveTagsCommand:()=>sL,RequirementLevel:()=>FX,ReservedInstancePaymentOption:()=>ZX,ResourceAlreadyExistsException:()=>Yk,ResourceNotFoundException:()=>kk,RevokeVpcEndpointAccessCommand:()=>oL,RolesKeyIdCOption:()=>AX,RollbackOnDisable:()=>zX,SAMLOptionsInputFilterSensitiveLog:()=>tM,ScheduleAt:()=>dQ,ScheduledAutoTuneActionType:()=>BX,ScheduledAutoTuneSeverityType:()=>HX,ScheduledBy:()=>cQ,SkipUnavailableStatus:()=>LX,SlotNotAvailableException:()=>nM,StartDomainMaintenanceCommand:()=>iL,StartServiceSoftwareUpdateCommand:()=>aL,SubjectKeyIdCOption:()=>OX,TLSSecurityPolicy:()=>PX,TimeUnit:()=>vX,UpdateApplicationCommand:()=>cL,UpdateDataSourceCommand:()=>dL,UpdateDirectQueryDataSourceCommand:()=>lL,UpdateDomainConfigCommand:()=>uL,UpdateDomainConfigRequestFilterSensitiveLog:()=>oM,UpdatePackageCommand:()=>pL,UpdatePackageScopeCommand:()=>mL,UpdateScheduledActionCommand:()=>fL,UpdateVpcEndpointCommand:()=>hL,UpgradeDomainCommand:()=>gL,UpgradeStatus:()=>iQ,UpgradeStep:()=>oQ,ValidationException:()=>Vk,VolumeType:()=>xX,VpcEndpointErrorCode:()=>eQ,VpcEndpointStatus:()=>$X,ZoneStatus:()=>JX,__Client:()=>i.Client,paginateDescribeDomainAutoTunes:()=>Fee,paginateDescribeInboundConnections:()=>Uee,paginateDescribeOutboundConnections:()=>$ee,paginateDescribePackages:()=>Bee,paginateDescribeReservedInstanceOfferings:()=>Hee,paginateDescribeReservedInstances:()=>qee,paginateGetPackageVersionHistory:()=>Vee,paginateGetUpgradeHistory:()=>zee,paginateListApplications:()=>Gee,paginateListDomainMaintenances:()=>Wee,paginateListDomainsForPackage:()=>Jee,paginateListInstanceTypeDetails:()=>Kee,paginateListPackagesForDomain:()=>Yee,paginateListScheduledActions:()=>Xee,paginateListVersions:()=>Qee});yL.exports=KY(Ok);var vk=Po(),YY=xo(),XY=Ao(),bk=xs(),QY=wt(),I=(Qe(),Y(fs)),ZY=Bo(),N=Dr(),Ck=zt(),wk=H_(),eX=u(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"es"}),"resolveClientEndpointParameters"),D={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},tX=Ek(),Pk=ei(),xk=le(),i=K(),rX=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(a=>a.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),nX=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),sX=u((e,t)=>{let r=Object.assign((0,Pk.getAwsRegionExtensionConfiguration)(e),(0,i.getDefaultExtensionConfiguration)(e),(0,xk.getHttpHandlerExtensionConfiguration)(e),rX(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Pk.resolveAwsRegionExtensionConfiguration)(r),(0,i.resolveDefaultRuntimeConfig)(r),(0,xk.resolveHttpHandlerRuntimeConfig)(r),nX(r))},"resolveRuntimeExtensions"),Ve=class extends i.Client{static{u(this,"OpenSearchClient")}config;constructor(...[e]){let t=(0,tX.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=eX(t),n=(0,bk.resolveUserAgentConfig)(r),s=(0,Ck.resolveRetryConfig)(n),o=(0,QY.resolveRegionConfig)(s),a=(0,vk.resolveHostHeaderConfig)(o),c=(0,N.resolveEndpointConfig)(a),d=(0,wk.resolveHttpAuthSchemeConfig)(c),l=sX(d,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,bk.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ck.getRetryPlugin)(this.config)),this.middlewareStack.use((0,ZY.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,vk.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,YY.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,XY.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,I.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:wk.defaultOpenSearchHttpAuthSchemeParametersProvider,identityProviderConfigProvider:u(async p=>new I.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,I.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},k=Cr(),L=(be(),Y(it)),oX=(oa(),Y(Fd)),rt=class Ik extends i.ServiceException{static{u(this,"OpenSearchServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Ik.prototype)}},iX={DIRECT:"DIRECT",VPC_ENDPOINT:"VPC_ENDPOINT"},aX={ACTIVE:"ACTIVE",APPROVED:"APPROVED",DELETED:"DELETED",DELETING:"DELETING",PENDING_ACCEPTANCE:"PENDING_ACCEPTANCE",PROVISIONING:"PROVISIONING",REJECTED:"REJECTED",REJECTING:"REJECTING"},Rk=class Tk extends rt{static{u(this,"DisabledOperationException")}name="DisabledOperationException";$fault="client";constructor(t){super({name:"DisabledOperationException",$fault:"client",...t}),Object.setPrototypeOf(this,Tk.prototype)}},Nk=class Dk extends rt{static{u(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Dk.prototype)}},kk=class Mk extends rt{static{u(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Mk.prototype)}},Lk=class jk extends rt{static{u(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,jk.prototype)}},cX={Active:"Active",Processing:"Processing",RequiresIndexDocuments:"RequiresIndexDocuments"},dX={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM"},lX={COMPLETED:"COMPLETED",ELIGIBLE:"ELIGIBLE",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",NOT_ELIGIBLE:"NOT_ELIGIBLE",PENDING_UPDATE:"PENDING_UPDATE"},uX={JVM_HEAP_SIZE_TUNING:"JVM_HEAP_SIZE_TUNING",JVM_YOUNG_GEN_TUNING:"JVM_YOUNG_GEN_TUNING",SERVICE_SOFTWARE_UPDATE:"SERVICE_SOFTWARE_UPDATE"},G_;(e=>{e.visit=u((t,r)=>t.S3GlueDataCatalog!==void 0?r.S3GlueDataCatalog(t.S3GlueDataCatalog):r._(t.$unknown[0],t.$unknown[1]),"visit")})(G_||(G_={}));var Fk=class Uk extends rt{static{u(this,"BaseException")}name="BaseException";$fault="client";constructor(t){super({name:"BaseException",$fault:"client",...t}),Object.setPrototypeOf(this,Uk.prototype)}},$k=class Bk extends rt{static{u(this,"DependencyFailureException")}name="DependencyFailureException";$fault="client";constructor(t){super({name:"DependencyFailureException",$fault:"client",...t}),Object.setPrototypeOf(this,Bk.prototype)}},Hk=class qk extends rt{static{u(this,"InternalException")}name="InternalException";$fault="server";constructor(t){super({name:"InternalException",$fault:"server",...t}),Object.setPrototypeOf(this,qk.prototype)}},Vk=class zk extends rt{static{u(this,"ValidationException")}name="ValidationException";$fault="client";constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,zk.prototype)}},W_;(e=>{e.visit=u((t,r)=>t.CloudWatchLog!==void 0?r.CloudWatchLog(t.CloudWatchLog):t.SecurityLake!==void 0?r.SecurityLake(t.SecurityLake):r._(t.$unknown[0],t.$unknown[1]),"visit")})(W_||(W_={}));var pX={Disabled:"DISABLED",Enabled:"ENABLED"},mX={DisableComplete:"DISABLE_COMPLETE",DisableFailed:"DISABLE_FAILED",DisableInProgress:"DISABLE_IN_PROGRESS",EnableComplete:"ENABLE_COMPLETE",EnableFailed:"ENABLE_FAILED",EnableInProgress:"ENABLE_IN_PROGRESS",NotEnabled:"NOT_ENABLED"},fX={ACTIVE:"ACTIVE",ASSOCIATING:"ASSOCIATING",ASSOCIATION_FAILED:"ASSOCIATION_FAILED",DISSOCIATING:"DISSOCIATING",DISSOCIATION_FAILED:"DISSOCIATION_FAILED"},hX={PACKAGE_CONFIG:"PACKAGE-CONFIG",PACKAGE_LICENSE:"PACKAGE-LICENSE",TXT_DICTIONARY:"TXT-DICTIONARY",ZIP_PLUGIN:"ZIP-PLUGIN"},Gk=class Wk extends rt{static{u(this,"ConflictException")}name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,Wk.prototype)}},gX={application_opensearchservice_amazonaws_com:"application.opensearchservice.amazonaws.com"},_X={AWS_ACCOUNT:"AWS_ACCOUNT",AWS_SERVICE:"AWS_SERVICE"},yX={COMPLETED:"COMPLETED",ELIGIBLE:"ELIGIBLE",IN_PROGRESS:"IN_PROGRESS",NOT_ELIGIBLE:"NOT_ELIGIBLE",PENDING_UPDATE:"PENDING_UPDATE"},SX={OpensearchDashboardAdminGroups:"opensearchDashboards.dashboardAdmin.groups",OpensearchDashboardAdminUsers:"opensearchDashboards.dashboardAdmin.users"},EX={DISABLED:"DISABLED",ENABLED:"ENABLED"},vX={HOURS:"HOURS"},bX={c4_2xlarge_search:"c4.2xlarge.search",c4_4xlarge_search:"c4.4xlarge.search",c4_8xlarge_search:"c4.8xlarge.search",c4_large_search:"c4.large.search",c4_xlarge_search:"c4.xlarge.search",c5_18xlarge_search:"c5.18xlarge.search",c5_2xlarge_search:"c5.2xlarge.search",c5_4xlarge_search:"c5.4xlarge.search",c5_9xlarge_search:"c5.9xlarge.search",c5_large_search:"c5.large.search",c5_xlarge_search:"c5.xlarge.search",c6g_12xlarge_search:"c6g.12xlarge.search",c6g_2xlarge_search:"c6g.2xlarge.search",c6g_4xlarge_search:"c6g.4xlarge.search",c6g_8xlarge_search:"c6g.8xlarge.search",c6g_large_search:"c6g.large.search",c6g_xlarge_search:"c6g.xlarge.search",d2_2xlarge_search:"d2.2xlarge.search",d2_4xlarge_search:"d2.4xlarge.search",d2_8xlarge_search:"d2.8xlarge.search",d2_xlarge_search:"d2.xlarge.search",i2_2xlarge_search:"i2.2xlarge.search",i2_xlarge_search:"i2.xlarge.search",i3_16xlarge_search:"i3.16xlarge.search",i3_2xlarge_search:"i3.2xlarge.search",i3_4xlarge_search:"i3.4xlarge.search",i3_8xlarge_search:"i3.8xlarge.search",i3_large_search:"i3.large.search",i3_xlarge_search:"i3.xlarge.search",m3_2xlarge_search:"m3.2xlarge.search",m3_large_search:"m3.large.search",m3_medium_search:"m3.medium.search",m3_xlarge_search:"m3.xlarge.search",m4_10xlarge_search:"m4.10xlarge.search",m4_2xlarge_search:"m4.2xlarge.search",m4_4xlarge_search:"m4.4xlarge.search",m4_large_search:"m4.large.search",m4_xlarge_search:"m4.xlarge.search",m5_12xlarge_search:"m5.12xlarge.search",m5_24xlarge_search:"m5.24xlarge.search",m5_2xlarge_search:"m5.2xlarge.search",m5_4xlarge_search:"m5.4xlarge.search",m5_large_search:"m5.large.search",m5_xlarge_search:"m5.xlarge.search",m6g_12xlarge_search:"m6g.12xlarge.search",m6g_2xlarge_search:"m6g.2xlarge.search",m6g_4xlarge_search:"m6g.4xlarge.search",m6g_8xlarge_search:"m6g.8xlarge.search",m6g_large_search:"m6g.large.search",m6g_xlarge_search:"m6g.xlarge.search",or1_12xlarge_search:"or1.12xlarge.search",or1_16xlarge_search:"or1.16xlarge.search",or1_2xlarge_search:"or1.2xlarge.search",or1_4xlarge_search:"or1.4xlarge.search",or1_8xlarge_search:"or1.8xlarge.search",or1_large_search:"or1.large.search",or1_medium_search:"or1.medium.search",or1_xlarge_search:"or1.xlarge.search",r3_2xlarge_search:"r3.2xlarge.search",r3_4xlarge_search:"r3.4xlarge.search",r3_8xlarge_search:"r3.8xlarge.search",r3_large_search:"r3.large.search",r3_xlarge_search:"r3.xlarge.search",r4_16xlarge_search:"r4.16xlarge.search",r4_2xlarge_search:"r4.2xlarge.search",r4_4xlarge_search:"r4.4xlarge.search",r4_8xlarge_search:"r4.8xlarge.search",r4_large_search:"r4.large.search",r4_xlarge_search:"r4.xlarge.search",r5_12xlarge_search:"r5.12xlarge.search",r5_24xlarge_search:"r5.24xlarge.search",r5_2xlarge_search:"r5.2xlarge.search",r5_4xlarge_search:"r5.4xlarge.search",r5_large_search:"r5.large.search",r5_xlarge_search:"r5.xlarge.search",r6g_12xlarge_search:"r6g.12xlarge.search",r6g_2xlarge_search:"r6g.2xlarge.search",r6g_4xlarge_search:"r6g.4xlarge.search",r6g_8xlarge_search:"r6g.8xlarge.search",r6g_large_search:"r6g.large.search",r6g_xlarge_search:"r6g.xlarge.search",r6gd_12xlarge_search:"r6gd.12xlarge.search",r6gd_16xlarge_search:"r6gd.16xlarge.search",r6gd_2xlarge_search:"r6gd.2xlarge.search",r6gd_4xlarge_search:"r6gd.4xlarge.search",r6gd_8xlarge_search:"r6gd.8xlarge.search",r6gd_large_search:"r6gd.large.search",r6gd_xlarge_search:"r6gd.xlarge.search",t2_medium_search:"t2.medium.search",t2_micro_search:"t2.micro.search",t2_small_search:"t2.small.search",t3_2xlarge_search:"t3.2xlarge.search",t3_large_search:"t3.large.search",t3_medium_search:"t3.medium.search",t3_micro_search:"t3.micro.search",t3_nano_search:"t3.nano.search",t3_small_search:"t3.small.search",t3_xlarge_search:"t3.xlarge.search",t4g_medium_search:"t4g.medium.search",t4g_small_search:"t4g.small.search",ultrawarm1_large_search:"ultrawarm1.large.search",ultrawarm1_medium_search:"ultrawarm1.medium.search",ultrawarm1_xlarge_search:"ultrawarm1.xlarge.search"},CX={COORDINATOR:"coordinator"},wX={ultrawarm1_large_search:"ultrawarm1.large.search",ultrawarm1_medium_search:"ultrawarm1.medium.search",ultrawarm1_xlarge_search:"ultrawarm1.xlarge.search"},PX={POLICY_MIN_TLS_1_0_2019_07:"Policy-Min-TLS-1-0-2019-07",POLICY_MIN_TLS_1_2_2019_07:"Policy-Min-TLS-1-2-2019-07",POLICY_MIN_TLS_1_2_PFS_2023_10:"Policy-Min-TLS-1-2-PFS-2023-10"},xX={gp2:"gp2",gp3:"gp3",io1:"io1",standard:"standard"},AX={GroupId:"GroupId",GroupName:"GroupName"},OX={Email:"Email",UserId:"UserId",UserName:"UserName"},IX={DUALSTACK:"dualstack",IPV4:"ipv4"},RX={AUDIT_LOGS:"AUDIT_LOGS",ES_APPLICATION_LOGS:"ES_APPLICATION_LOGS",INDEX_SLOW_LOGS:"INDEX_SLOW_LOGS",SEARCH_SLOW_LOGS:"SEARCH_SLOW_LOGS"},TX={DISABLED:"DISABLED",DISABLED_AND_ROLLBACK_COMPLETE:"DISABLED_AND_ROLLBACK_COMPLETE",DISABLED_AND_ROLLBACK_ERROR:"DISABLED_AND_ROLLBACK_ERROR",DISABLED_AND_ROLLBACK_IN_PROGRESS:"DISABLED_AND_ROLLBACK_IN_PROGRESS",DISABLED_AND_ROLLBACK_SCHEDULED:"DISABLED_AND_ROLLBACK_SCHEDULED",DISABLE_IN_PROGRESS:"DISABLE_IN_PROGRESS",ENABLED:"ENABLED",ENABLE_IN_PROGRESS:"ENABLE_IN_PROGRESS",ERROR:"ERROR"},NX={APPLYING_CHANGES:"ApplyingChanges",CANCELLED:"Cancelled",COMPLETED:"Completed",INITIALIZING:"Initializing",PENDING:"Pending",PENDING_USER_INPUT:"PendingUserInput",VALIDATING:"Validating",VALIDATION_FAILED:"ValidationFailed"},DX={CUSTOMER:"CUSTOMER",SERVICE:"SERVICE"},kX={ACTIVE:"Active",CREATING:"Creating",DELETING:"Deleting",ISOLATED:"Isolated",MODIFYING:"Modifying",UPDATING:"UpdatingServiceSoftware",UPGRADING:"UpgradingEngineVersion"},MX={PLAIN_TEXT:"PLAIN_TEXT",STRINGIFIED_JSON:"STRINGIFIED_JSON"},Jk=class Kk extends rt{static{u(this,"InvalidTypeException")}name="InvalidTypeException";$fault="client";constructor(t){super({name:"InvalidTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,Kk.prototype)}},Yk=class Xk extends rt{static{u(this,"ResourceAlreadyExistsException")}name="ResourceAlreadyExistsException";$fault="client";constructor(t){super({name:"ResourceAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Xk.prototype)}},LX={DISABLED:"DISABLED",ENABLED:"ENABLED"},jX={ACTIVE:"ACTIVE",APPROVED:"APPROVED",DELETED:"DELETED",DELETING:"DELETING",PENDING_ACCEPTANCE:"PENDING_ACCEPTANCE",PROVISIONING:"PROVISIONING",REJECTED:"REJECTED",REJECTING:"REJECTING",VALIDATING:"VALIDATING",VALIDATION_FAILED:"VALIDATION_FAILED"},FX={NONE:"NONE",OPTIONAL:"OPTIONAL",REQUIRED:"REQUIRED"},UX={AVAILABLE:"AVAILABLE",COPYING:"COPYING",COPY_FAILED:"COPY_FAILED",DELETED:"DELETED",DELETE_FAILED:"DELETE_FAILED",DELETING:"DELETING",VALIDATING:"VALIDATING",VALIDATION_FAILED:"VALIDATION_FAILED"},$X={ACTIVE:"ACTIVE",CREATE_FAILED:"CREATE_FAILED",CREATING:"CREATING",DELETE_FAILED:"DELETE_FAILED",DELETING:"DELETING",UPDATE_FAILED:"UPDATE_FAILED",UPDATING:"UPDATING"},BX={JVM_HEAP_SIZE_TUNING:"JVM_HEAP_SIZE_TUNING",JVM_YOUNG_GEN_TUNING:"JVM_YOUNG_GEN_TUNING"},HX={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM"},qX={SCHEDULED_ACTION:"SCHEDULED_ACTION"},VX={COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",PROCESSING:"PROCESSING"},zX={DEFAULT_ROLLBACK:"DEFAULT_ROLLBACK",NO_ROLLBACK:"NO_ROLLBACK"},GX={Green:"Green",NotAvailable:"NotAvailable",Red:"Red",Yellow:"Yellow"},WX={Active:"Active",NotAvailable:"NotAvailable",Processing:"Processing"},JX={Active:"Active",NotAvailable:"NotAvailable",StandBy:"StandBy"},KX={Available:"Available",UnAvailable:"UnAvailable"},YX={Active:"Active",NotAvailable:"NotAvailable",StandBy:"StandBy"},XX={Data:"Data",Master:"Master",Ultrawarm:"Ultrawarm"},Qk=class Zk extends rt{static{u(this,"InvalidPaginationTokenException")}name="InvalidPaginationTokenException";$fault="client";constructor(t){super({name:"InvalidPaginationTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,Zk.prototype)}},QX={EngineVersion:"EngineVersion",PackageID:"PackageID",PackageName:"PackageName",PackageOwner:"PackageOwner",PackageStatus:"PackageStatus",PackageType:"PackageType"},ZX={ALL_UPFRONT:"ALL_UPFRONT",NO_UPFRONT:"NO_UPFRONT",PARTIAL_UPFRONT:"PARTIAL_UPFRONT"},eQ={ENDPOINT_NOT_FOUND:"ENDPOINT_NOT_FOUND",SERVER_ERROR:"SERVER_ERROR"},tQ={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",FAILED:"FAILED",UPDATING:"UPDATING"},rQ={ACTIVE:"ACTIVE",DISABLED:"DISABLED"},nQ={REBOOT_NODE:"REBOOT_NODE",RESTART_DASHBOARD:"RESTART_DASHBOARD",RESTART_SEARCH_PROCESS:"RESTART_SEARCH_PROCESS"},sQ={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",PENDING:"PENDING",TIMED_OUT:"TIMED_OUT"},oQ={PRE_UPGRADE_CHECK:"PRE_UPGRADE_CHECK",SNAPSHOT:"SNAPSHOT",UPGRADE:"UPGRADE"},iQ={FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS",SUCCEEDED:"SUCCEEDED",SUCCEEDED_WITH_ISSUES:"SUCCEEDED_WITH_ISSUES"},aQ={Elasticsearch:"Elasticsearch",OpenSearch:"OpenSearch"},eM=u(e=>({...e,...e.MasterUserName&&{MasterUserName:i.SENSITIVE_STRING},...e.MasterUserPassword&&{MasterUserPassword:i.SENSITIVE_STRING}}),"MasterUserOptionsFilterSensitiveLog"),tM=u(e=>({...e,...e.MasterUserName&&{MasterUserName:i.SENSITIVE_STRING}}),"SAMLOptionsInputFilterSensitiveLog"),J_=u(e=>({...e,...e.MasterUserOptions&&{MasterUserOptions:eM(e.MasterUserOptions)},...e.SAMLOptions&&{SAMLOptions:tM(e.SAMLOptions)}}),"AdvancedSecurityOptionsInputFilterSensitiveLog"),rM=u(e=>({...e,...e.AdvancedSecurityOptions&&{AdvancedSecurityOptions:J_(e.AdvancedSecurityOptions)}}),"CreateDomainRequestFilterSensitiveLog"),cQ={CUSTOMER:"CUSTOMER",SYSTEM:"SYSTEM"},dQ={NOW:"NOW",OFF_PEAK_WINDOW:"OFF_PEAK_WINDOW",TIMESTAMP:"TIMESTAMP"},lQ={Basic:"Basic",Verbose:"Verbose"},uQ={ADD:"ADD",OVERRIDE:"OVERRIDE",REMOVE:"REMOVE"},nM=class sM extends rt{static{u(this,"SlotNotAvailableException")}name="SlotNotAvailableException";$fault="client";SlotSuggestions;constructor(t){super({name:"SlotNotAvailableException",$fault:"client",...t}),Object.setPrototypeOf(this,sM.prototype),this.SlotSuggestions=t.SlotSuggestions}},oM=u(e=>({...e,...e.AdvancedSecurityOptions&&{AdvancedSecurityOptions:J_(e.AdvancedSecurityOptions)}}),"UpdateDomainConfigRequestFilterSensitiveLog"),pQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/cc/inboundConnection/{ConnectionId}/accept"),r.p("ConnectionId",()=>e.ConnectionId,"{ConnectionId}",!1),r.m("PUT").h(n).b(void 0),r.build()},"se_AcceptInboundConnectionCommand"),mQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/dataSource"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{DataSourceType:u(o=>(0,i._json)(o),"DataSourceType"),Description:[],Name:[]})),r.m("POST").h(n).b(s),r.build()},"se_AddDataSourceCommand"),fQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/directQueryDataSource");let s;return s=JSON.stringify((0,i.take)(e,{DataSourceName:[],DataSourceType:u(o=>(0,i._json)(o),"DataSourceType"),Description:[],OpenSearchArns:u(o=>(0,i._json)(o),"OpenSearchArns"),TagList:u(o=>(0,i._json)(o),"TagList")})),r.m("POST").h(n).b(s),r.build()},"se_AddDirectQueryDataSourceCommand"),hQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/tags");let s;return s=JSON.stringify((0,i.take)(e,{ARN:[],TagList:u(o=>(0,i._json)(o),"TagList")})),r.m("POST").h(n).b(s),r.build()},"se_AddTagsCommand"),gQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/associate/{PackageID}/{DomainName}"),r.p("PackageID",()=>e.PackageID,"{PackageID}",!1),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{AssociationConfiguration:u(o=>(0,i._json)(o),"AssociationConfiguration"),PrerequisitePackageIDList:u(o=>(0,i._json)(o),"PrerequisitePackageIDList")})),r.m("POST").h(n).b(s),r.build()},"se_AssociatePackageCommand"),_Q=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/associateMultiple");let s;return s=JSON.stringify((0,i.take)(e,{DomainName:[],PackageList:u(o=>(0,i._json)(o),"PackageList")})),r.m("POST").h(n).b(s),r.build()},"se_AssociatePackagesCommand"),yQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/authorizeVpcEndpointAccess"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{Account:[],Service:[]})),r.m("POST").h(n).b(s),r.build()},"se_AuthorizeVpcEndpointAccessCommand"),SQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/config/cancel"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{DryRun:[]})),r.m("POST").h(n).b(s),r.build()},"se_CancelDomainConfigChangeCommand"),EQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/serviceSoftwareUpdate/cancel");let s;return s=JSON.stringify((0,i.take)(e,{DomainName:[]})),r.m("POST").h(n).b(s),r.build()},"se_CancelServiceSoftwareUpdateCommand"),vQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/application");let s;return s=JSON.stringify((0,i.take)(e,{appConfigs:u(o=>(0,i._json)(o),"appConfigs"),clientToken:[!0,o=>o??(0,oX.v4)()],dataSources:u(o=>(0,i._json)(o),"dataSources"),iamIdentityCenterOptions:u(o=>(0,i._json)(o),"iamIdentityCenterOptions"),name:[],tagList:u(o=>(0,i._json)(o),"tagList")})),r.m("POST").h(n).b(s),r.build()},"se_CreateApplicationCommand"),bQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain");let s;return s=JSON.stringify((0,i.take)(e,{AIMLOptions:u(o=>(0,i._json)(o),"AIMLOptions"),AccessPolicies:[],AdvancedOptions:u(o=>(0,i._json)(o),"AdvancedOptions"),AdvancedSecurityOptions:u(o=>(0,i._json)(o),"AdvancedSecurityOptions"),AutoTuneOptions:u(o=>yZ(o,t),"AutoTuneOptions"),ClusterConfig:u(o=>(0,i._json)(o),"ClusterConfig"),CognitoOptions:u(o=>(0,i._json)(o),"CognitoOptions"),DomainEndpointOptions:u(o=>(0,i._json)(o),"DomainEndpointOptions"),DomainName:[],EBSOptions:u(o=>(0,i._json)(o),"EBSOptions"),EncryptionAtRestOptions:u(o=>(0,i._json)(o),"EncryptionAtRestOptions"),EngineVersion:[],IPAddressType:[],IdentityCenterOptions:u(o=>(0,i._json)(o),"IdentityCenterOptions"),LogPublishingOptions:u(o=>(0,i._json)(o),"LogPublishingOptions"),NodeToNodeEncryptionOptions:u(o=>(0,i._json)(o),"NodeToNodeEncryptionOptions"),OffPeakWindowOptions:u(o=>(0,i._json)(o),"OffPeakWindowOptions"),SnapshotOptions:u(o=>(0,i._json)(o),"SnapshotOptions"),SoftwareUpdateOptions:u(o=>(0,i._json)(o),"SoftwareUpdateOptions"),TagList:u(o=>(0,i._json)(o),"TagList"),VPCOptions:u(o=>(0,i._json)(o),"VPCOptions")})),r.m("POST").h(n).b(s),r.build()},"se_CreateDomainCommand"),CQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/cc/outboundConnection");let s;return s=JSON.stringify((0,i.take)(e,{ConnectionAlias:[],ConnectionMode:[],ConnectionProperties:u(o=>(0,i._json)(o),"ConnectionProperties"),LocalDomainInfo:u(o=>(0,i._json)(o),"LocalDomainInfo"),RemoteDomainInfo:u(o=>(0,i._json)(o),"RemoteDomainInfo")})),r.m("POST").h(n).b(s),r.build()},"se_CreateOutboundConnectionCommand"),wQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages");let s;return s=JSON.stringify((0,i.take)(e,{EngineVersion:[],PackageConfiguration:u(o=>(0,i._json)(o),"PackageConfiguration"),PackageDescription:[],PackageEncryptionOptions:u(o=>(0,i._json)(o),"PackageEncryptionOptions"),PackageName:[],PackageSource:u(o=>(0,i._json)(o),"PackageSource"),PackageType:[],PackageVendingOptions:u(o=>(0,i._json)(o),"PackageVendingOptions")})),r.m("POST").h(n).b(s),r.build()},"se_CreatePackageCommand"),PQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/vpcEndpoints");let s;return s=JSON.stringify((0,i.take)(e,{ClientToken:[],DomainArn:[],VpcOptions:u(o=>(0,i._json)(o),"VpcOptions")})),r.m("POST").h(n).b(s),r.build()},"se_CreateVpcEndpointCommand"),xQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/application/{id}"),r.p("id",()=>e.id,"{id}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteApplicationCommand"),AQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/dataSource/{Name}"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.p("Name",()=>e.Name,"{Name}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteDataSourceCommand"),OQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/directQueryDataSource/{DataSourceName}"),r.p("DataSourceName",()=>e.DataSourceName,"{DataSourceName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteDirectQueryDataSourceCommand"),IQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteDomainCommand"),RQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/cc/inboundConnection/{ConnectionId}"),r.p("ConnectionId",()=>e.ConnectionId,"{ConnectionId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteInboundConnectionCommand"),TQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/cc/outboundConnection/{ConnectionId}"),r.p("ConnectionId",()=>e.ConnectionId,"{ConnectionId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteOutboundConnectionCommand"),NQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/packages/{PackageID}"),r.p("PackageID",()=>e.PackageID,"{PackageID}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeletePackageCommand"),DQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/vpcEndpoints/{VpcEndpointId}"),r.p("VpcEndpointId",()=>e.VpcEndpointId,"{VpcEndpointId}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteVpcEndpointCommand"),kQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_DescribeDomainCommand"),MQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/autoTunes"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{MaxResults:[],NextToken:[]})),r.m("GET").h(n).b(s),r.build()},"se_DescribeDomainAutoTunesCommand"),LQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/progress"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[xee]:[,e[fee]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_DescribeDomainChangeProgressCommand"),jQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/config"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_DescribeDomainConfigCommand"),FQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/health"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_DescribeDomainHealthCommand"),UQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/nodes"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_DescribeDomainNodesCommand"),$Q=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain-info");let s;return s=JSON.stringify((0,i.take)(e,{DomainNames:u(o=>(0,i._json)(o),"DomainNames")})),r.m("POST").h(n).b(s),r.build()},"se_DescribeDomainsCommand"),BQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/dryRun"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[Aee]:[,e[hee]],[Ree]:[()=>e.LoadDryRunConfig!==void 0,()=>e[yee].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_DescribeDryRunProgressCommand"),HQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/cc/inboundConnection/search");let s;return s=JSON.stringify((0,i.take)(e,{Filters:u(o=>(0,i._json)(o),"Filters"),MaxResults:[],NextToken:[]})),r.m("POST").h(n).b(s),r.build()},"se_DescribeInboundConnectionsCommand"),qQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/instanceTypeLimits/{EngineVersion}/{InstanceType}"),r.p("InstanceType",()=>e.InstanceType,"{InstanceType}",!1),r.p("EngineVersion",()=>e.EngineVersion,"{EngineVersion}",!1);let s=(0,i.map)({[Z_]:[,e[Q_]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_DescribeInstanceTypeLimitsCommand"),VQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/cc/outboundConnection/search");let s;return s=JSON.stringify((0,i.take)(e,{Filters:u(o=>(0,i._json)(o),"Filters"),MaxResults:[],NextToken:[]})),r.m("POST").h(n).b(s),r.build()},"se_DescribeOutboundConnectionsCommand"),zQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/describe");let s;return s=JSON.stringify((0,i.take)(e,{Filters:u(o=>(0,i._json)(o),"Filters"),MaxResults:[],NextToken:[]})),r.m("POST").h(n).b(s),r.build()},"se_DescribePackagesCommand"),GQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/reservedInstanceOfferings");let s=(0,i.map)({[Dee]:[,e[bee]],[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_DescribeReservedInstanceOfferingsCommand"),WQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/reservedInstances");let s=(0,i.map)({[Mee]:[,e[vee]],[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_DescribeReservedInstancesCommand"),JQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/vpcEndpoints/describe");let s;return s=JSON.stringify((0,i.take)(e,{VpcEndpointIds:u(o=>(0,i._json)(o),"VpcEndpointIds")})),r.m("POST").h(n).b(s),r.build()},"se_DescribeVpcEndpointsCommand"),KQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/packages/dissociate/{PackageID}/{DomainName}"),r.p("PackageID",()=>e.PackageID,"{PackageID}",!1),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("POST").h(n).b(void 0),r.build()},"se_DissociatePackageCommand"),YQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/dissociateMultiple");let s;return s=JSON.stringify((0,i.take)(e,{DomainName:[],PackageList:u(o=>(0,i._json)(o),"PackageList")})),r.m("POST").h(n).b(s),r.build()},"se_DissociatePackagesCommand"),XQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/application/{id}"),r.p("id",()=>e.id,"{id}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetApplicationCommand"),QQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/compatibleVersions");let s=(0,i.map)({[Z_]:[,e[Q_]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetCompatibleVersionsCommand"),ZQ=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/dataSource/{Name}"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.p("Name",()=>e.Name,"{Name}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetDataSourceCommand"),e9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/directQueryDataSource/{DataSourceName}"),r.p("DataSourceName",()=>e.DataSourceName,"{DataSourceName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetDirectQueryDataSourceCommand"),t9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/domainMaintenance"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[Tee]:[,(0,i.expectNonNull)(e[See],"MaintenanceId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetDomainMaintenanceStatusCommand"),r9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/packages/{PackageID}/history"),r.p("PackageID",()=>e.PackageID,"{PackageID}",!1);let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetPackageVersionHistoryCommand"),n9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/upgradeDomain/{DomainName}/history"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetUpgradeHistoryCommand"),s9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/upgradeDomain/{DomainName}/status"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetUpgradeStatusCommand"),o9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/list-applications");let s=(0,i.map)({[tt]:[,e[tt]],[Ak]:[()=>e.statuses!==void 0,()=>e[Ak]||[]],[Lt]:[()=>e.maxResults!==void 0,()=>e[Lt].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListApplicationsCommand"),i9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/domain/{DomainName}/dataSource"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_ListDataSourcesCommand"),a9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/directQueryDataSource");let s=(0,i.map)({[Nee]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDirectQueryDataSourcesCommand"),c9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/domainMaintenances"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[wee]:[,e[pee]],[Lee]:[,e[Cee]],[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDomainMaintenancesCommand"),d9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/domain");let s=(0,i.map)({[Oee]:[,e[gee]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDomainNamesCommand"),l9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/packages/{PackageID}/domains"),r.p("PackageID",()=>e.PackageID,"{PackageID}",!1);let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListDomainsForPackageCommand"),u9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/instanceTypeDetails/{EngineVersion}"),r.p("EngineVersion",()=>e.EngineVersion,"{EngineVersion}",!1);let s=(0,i.map)({[Z_]:[,e[Q_]],[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]],[kee]:[()=>e.RetrieveAZs!==void 0,()=>e[Eee].toString()],[Iee]:[,e[_ee]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListInstanceTypeDetailsCommand"),p9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/domain/{DomainName}/packages"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListPackagesForDomainCommand"),m9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/scheduledActions"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListScheduledActionsCommand"),f9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/tags");let s=(0,i.map)({[Pee]:[,(0,i.expectNonNull)(e[mee],"ARN")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListTagsCommand"),h9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/versions");let s=(0,i.map)({[Lt]:[()=>e.MaxResults!==void 0,()=>e[gr].toString()],[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListVersionsCommand"),g9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/listVpcEndpointAccess"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListVpcEndpointAccessCommand"),_9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/vpcEndpoints");let s=(0,i.map)({[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListVpcEndpointsCommand"),y9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};r.bp("/2021-01-01/opensearch/domain/{DomainName}/vpcEndpoints"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s=(0,i.map)({[tt]:[,e[mt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListVpcEndpointsForDomainCommand"),S9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/purchaseReservedInstanceOffering");let s;return s=JSON.stringify((0,i.take)(e,{InstanceCount:[],ReservationName:[],ReservedInstanceOfferingId:[]})),r.m("POST").h(n).b(s),r.build()},"se_PurchaseReservedInstanceOfferingCommand"),E9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={};return r.bp("/2021-01-01/opensearch/cc/inboundConnection/{ConnectionId}/reject"),r.p("ConnectionId",()=>e.ConnectionId,"{ConnectionId}",!1),r.m("PUT").h(n).b(void 0),r.build()},"se_RejectInboundConnectionCommand"),v9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/tags-removal");let s;return s=JSON.stringify((0,i.take)(e,{ARN:[],TagKeys:u(o=>(0,i._json)(o),"TagKeys")})),r.m("POST").h(n).b(s),r.build()},"se_RemoveTagsCommand"),b9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/revokeVpcEndpointAccess"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{Account:[],Service:[]})),r.m("POST").h(n).b(s),r.build()},"se_RevokeVpcEndpointAccessCommand"),C9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/domainMaintenance"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{Action:[],NodeId:[]})),r.m("POST").h(n).b(s),r.build()},"se_StartDomainMaintenanceCommand"),w9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/serviceSoftwareUpdate/start");let s;return s=JSON.stringify((0,i.take)(e,{DesiredStartTime:[],DomainName:[],ScheduleAt:[]})),r.m("POST").h(n).b(s),r.build()},"se_StartServiceSoftwareUpdateCommand"),P9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/application/{id}"),r.p("id",()=>e.id,"{id}",!1);let s;return s=JSON.stringify((0,i.take)(e,{appConfigs:u(o=>(0,i._json)(o),"appConfigs"),dataSources:u(o=>(0,i._json)(o),"dataSources")})),r.m("PUT").h(n).b(s),r.build()},"se_UpdateApplicationCommand"),x9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/dataSource/{Name}"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1),r.p("Name",()=>e.Name,"{Name}",!1);let s;return s=JSON.stringify((0,i.take)(e,{DataSourceType:u(o=>(0,i._json)(o),"DataSourceType"),Description:[],Status:[]})),r.m("PUT").h(n).b(s),r.build()},"se_UpdateDataSourceCommand"),A9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/directQueryDataSource/{DataSourceName}"),r.p("DataSourceName",()=>e.DataSourceName,"{DataSourceName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{DataSourceType:u(o=>(0,i._json)(o),"DataSourceType"),Description:[],OpenSearchArns:u(o=>(0,i._json)(o),"OpenSearchArns")})),r.m("PUT").h(n).b(s),r.build()},"se_UpdateDirectQueryDataSourceCommand"),O9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/config"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{AIMLOptions:u(o=>(0,i._json)(o),"AIMLOptions"),AccessPolicies:[],AdvancedOptions:u(o=>(0,i._json)(o),"AdvancedOptions"),AdvancedSecurityOptions:u(o=>(0,i._json)(o),"AdvancedSecurityOptions"),AutoTuneOptions:u(o=>_Z(o,t),"AutoTuneOptions"),ClusterConfig:u(o=>(0,i._json)(o),"ClusterConfig"),CognitoOptions:u(o=>(0,i._json)(o),"CognitoOptions"),DomainEndpointOptions:u(o=>(0,i._json)(o),"DomainEndpointOptions"),DryRun:[],DryRunMode:[],EBSOptions:u(o=>(0,i._json)(o),"EBSOptions"),EncryptionAtRestOptions:u(o=>(0,i._json)(o),"EncryptionAtRestOptions"),IPAddressType:[],IdentityCenterOptions:u(o=>(0,i._json)(o),"IdentityCenterOptions"),LogPublishingOptions:u(o=>(0,i._json)(o),"LogPublishingOptions"),NodeToNodeEncryptionOptions:u(o=>(0,i._json)(o),"NodeToNodeEncryptionOptions"),OffPeakWindowOptions:u(o=>(0,i._json)(o),"OffPeakWindowOptions"),SnapshotOptions:u(o=>(0,i._json)(o),"SnapshotOptions"),SoftwareUpdateOptions:u(o=>(0,i._json)(o),"SoftwareUpdateOptions"),VPCOptions:u(o=>(0,i._json)(o),"VPCOptions")})),r.m("POST").h(n).b(s),r.build()},"se_UpdateDomainConfigCommand"),I9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/update");let s;return s=JSON.stringify((0,i.take)(e,{CommitMessage:[],PackageConfiguration:u(o=>(0,i._json)(o),"PackageConfiguration"),PackageDescription:[],PackageEncryptionOptions:u(o=>(0,i._json)(o),"PackageEncryptionOptions"),PackageID:[],PackageSource:u(o=>(0,i._json)(o),"PackageSource")})),r.m("POST").h(n).b(s),r.build()},"se_UpdatePackageCommand"),R9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/packages/updateScope");let s;return s=JSON.stringify((0,i.take)(e,{Operation:[],PackageID:[],PackageUserList:u(o=>(0,i._json)(o),"PackageUserList")})),r.m("POST").h(n).b(s),r.build()},"se_UpdatePackageScopeCommand"),T9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/domain/{DomainName}/scheduledAction/update"),r.p("DomainName",()=>e.DomainName,"{DomainName}",!1);let s;return s=JSON.stringify((0,i.take)(e,{ActionID:[],ActionType:[],DesiredStartTime:[],ScheduleAt:[]})),r.m("PUT").h(n).b(s),r.build()},"se_UpdateScheduledActionCommand"),N9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/vpcEndpoints/update");let s;return s=JSON.stringify((0,i.take)(e,{VpcEndpointId:[],VpcOptions:u(o=>(0,i._json)(o),"VpcOptions")})),r.m("POST").h(n).b(s),r.build()},"se_UpdateVpcEndpointCommand"),D9=u(async(e,t)=>{let r=(0,I.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/2021-01-01/opensearch/upgradeDomain");let s;return s=JSON.stringify((0,i.take)(e,{AdvancedOptions:u(o=>(0,i._json)(o),"AdvancedOptions"),DomainName:[],PerformCheckOnly:[],TargetVersion:[]})),r.m("POST").h(n).b(s),r.build()},"se_UpgradeDomainCommand"),k9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connection:i._json});return Object.assign(r,s),r},"de_AcceptInboundConnectionCommand"),M9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Message:i.expectString});return Object.assign(r,s),r},"de_AddDataSourceCommand"),L9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DataSourceArn:i.expectString});return Object.assign(r,s),r},"de_AddDirectQueryDataSourceCommand"),j9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)});return await(0,i.collectBody)(e.body,t),r},"de_AddTagsCommand"),F9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetails:u(o=>Y_(o,t),"DomainPackageDetails")});return Object.assign(r,s),r},"de_AssociatePackageCommand"),U9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetailsList:u(o=>Cp(o,t),"DomainPackageDetailsList")});return Object.assign(r,s),r},"de_AssociatePackagesCommand"),$9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{AuthorizedPrincipal:i._json});return Object.assign(r,s),r},"de_AuthorizeVpcEndpointAccessCommand"),B9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{CancelledChangeIds:i._json,CancelledChangeProperties:i._json,DryRun:i.expectBoolean});return Object.assign(r,s),r},"de_CancelDomainConfigChangeCommand"),H9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ServiceSoftwareOptions:u(o=>X_(o,t),"ServiceSoftwareOptions")});return Object.assign(r,s),r},"de_CancelServiceSoftwareUpdateCommand"),q9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{appConfigs:i._json,arn:i.expectString,createdAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"createdAt"),dataSources:i._json,iamIdentityCenterOptions:i._json,id:i.expectString,name:i.expectString,tagList:i._json});return Object.assign(r,s),r},"de_CreateApplicationCommand"),V9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainStatus:u(o=>hc(o,t),"DomainStatus")});return Object.assign(r,s),r},"de_CreateDomainCommand"),z9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ConnectionAlias:i.expectString,ConnectionId:i.expectString,ConnectionMode:i.expectString,ConnectionProperties:i._json,ConnectionStatus:i._json,LocalDomainInfo:i._json,RemoteDomainInfo:i._json});return Object.assign(r,s),r},"de_CreateOutboundConnectionCommand"),G9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{PackageDetails:u(o=>wp(o,t),"PackageDetails")});return Object.assign(r,s),r},"de_CreatePackageCommand"),W9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{VpcEndpoint:i._json});return Object.assign(r,s),r},"de_CreateVpcEndpointCommand"),J9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)});return await(0,i.collectBody)(e.body,t),r},"de_DeleteApplicationCommand"),K9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Message:i.expectString});return Object.assign(r,s),r},"de_DeleteDataSourceCommand"),Y9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)});return await(0,i.collectBody)(e.body,t),r},"de_DeleteDirectQueryDataSourceCommand"),X9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainStatus:u(o=>hc(o,t),"DomainStatus")});return Object.assign(r,s),r},"de_DeleteDomainCommand"),Q9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connection:i._json});return Object.assign(r,s),r},"de_DeleteInboundConnectionCommand"),Z9=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connection:i._json});return Object.assign(r,s),r},"de_DeleteOutboundConnectionCommand"),e7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{PackageDetails:u(o=>wp(o,t),"PackageDetails")});return Object.assign(r,s),r},"de_DeletePackageCommand"),t7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{VpcEndpointSummary:i._json});return Object.assign(r,s),r},"de_DeleteVpcEndpointCommand"),r7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainStatus:u(o=>hc(o,t),"DomainStatus")});return Object.assign(r,s),r},"de_DescribeDomainCommand"),n7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{AutoTunes:u(o=>AZ(o,t),"AutoTunes"),NextToken:i.expectString});return Object.assign(r,s),r},"de_DescribeDomainAutoTunesCommand"),s7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ChangeProgressStatus:u(o=>MZ(o,t),"ChangeProgressStatus")});return Object.assign(r,s),r},"de_DescribeDomainChangeProgressCommand"),o7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainConfig:u(o=>cM(o,t),"DomainConfig")});return Object.assign(r,s),r},"de_DescribeDomainConfigCommand"),i7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ActiveAvailabilityZoneCount:i.expectString,AvailabilityZoneCount:i.expectString,ClusterHealth:i.expectString,DataNodeCount:i.expectString,DedicatedMaster:i.expectBoolean,DomainState:i.expectString,EnvironmentInformation:i._json,MasterEligibleNodeCount:i.expectString,MasterNode:i.expectString,StandByAvailabilityZoneCount:i.expectString,TotalShards:i.expectString,TotalUnAssignedShards:i.expectString,WarmNodeCount:i.expectString});return Object.assign(r,s),r},"de_DescribeDomainHealthCommand"),a7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainNodesStatusList:i._json});return Object.assign(r,s),r},"de_DescribeDomainNodesCommand"),c7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainStatusList:u(o=>BZ(o,t),"DomainStatusList")});return Object.assign(r,s),r},"de_DescribeDomainsCommand"),d7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DryRunConfig:u(o=>hc(o,t),"DryRunConfig"),DryRunProgressStatus:i._json,DryRunResults:i._json});return Object.assign(r,s),r},"de_DescribeDryRunProgressCommand"),l7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connections:i._json,NextToken:i.expectString});return Object.assign(r,s),r},"de_DescribeInboundConnectionsCommand"),u7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{LimitsByRole:i._json});return Object.assign(r,s),r},"de_DescribeInstanceTypeLimitsCommand"),p7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connections:i._json,NextToken:i.expectString});return Object.assign(r,s),r},"de_DescribeOutboundConnectionsCommand"),m7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,PackageDetailsList:u(o=>KZ(o,t),"PackageDetailsList")});return Object.assign(r,s),r},"de_DescribePackagesCommand"),f7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,ReservedInstanceOfferings:u(o=>ree(o,t),"ReservedInstanceOfferings")});return Object.assign(r,s),r},"de_DescribeReservedInstanceOfferingsCommand"),h7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,ReservedInstances:u(o=>eee(o,t),"ReservedInstances")});return Object.assign(r,s),r},"de_DescribeReservedInstancesCommand"),g7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{VpcEndpointErrors:i._json,VpcEndpoints:i._json});return Object.assign(r,s),r},"de_DescribeVpcEndpointsCommand"),_7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetails:u(o=>Y_(o,t),"DomainPackageDetails")});return Object.assign(r,s),r},"de_DissociatePackageCommand"),y7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetailsList:u(o=>Cp(o,t),"DomainPackageDetailsList")});return Object.assign(r,s),r},"de_DissociatePackagesCommand"),S7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{appConfigs:i._json,arn:i.expectString,createdAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"createdAt"),dataSources:i._json,endpoint:i.expectString,iamIdentityCenterOptions:i._json,id:i.expectString,lastUpdatedAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"lastUpdatedAt"),name:i.expectString,status:i.expectString});return Object.assign(r,s),r},"de_GetApplicationCommand"),E7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{CompatibleVersions:i._json});return Object.assign(r,s),r},"de_GetCompatibleVersionsCommand"),v7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DataSourceType:u(o=>(0,i._json)((0,L.awsExpectUnion)(o)),"DataSourceType"),Description:i.expectString,Name:i.expectString,Status:i.expectString});return Object.assign(r,s),r},"de_GetDataSourceCommand"),b7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DataSourceArn:i.expectString,DataSourceName:i.expectString,DataSourceType:u(o=>(0,i._json)((0,L.awsExpectUnion)(o)),"DataSourceType"),Description:i.expectString,OpenSearchArns:i._json});return Object.assign(r,s),r},"de_GetDirectQueryDataSourceCommand"),C7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Action:i.expectString,CreatedAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"CreatedAt"),NodeId:i.expectString,Status:i.expectString,StatusMessage:i.expectString,UpdatedAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"UpdatedAt")});return Object.assign(r,s),r},"de_GetDomainMaintenanceStatusCommand"),w7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,PackageID:i.expectString,PackageVersionHistoryList:u(o=>XZ(o,t),"PackageVersionHistoryList")});return Object.assign(r,s),r},"de_GetPackageVersionHistoryCommand"),P7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,UpgradeHistories:u(o=>aee(o,t),"UpgradeHistories")});return Object.assign(r,s),r},"de_GetUpgradeHistoryCommand"),x7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{StepStatus:i.expectString,UpgradeName:i.expectString,UpgradeStep:i.expectString});return Object.assign(r,s),r},"de_GetUpgradeStatusCommand"),A7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ApplicationSummaries:u(o=>CZ(o,t),"ApplicationSummaries"),nextToken:i.expectString});return Object.assign(r,s),r},"de_ListApplicationsCommand"),O7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DataSources:i._json});return Object.assign(r,s),r},"de_ListDataSourcesCommand"),I7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DirectQueryDataSources:i._json,NextToken:i.expectString});return Object.assign(r,s),r},"de_ListDirectQueryDataSourcesCommand"),R7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainMaintenances:u(o=>$Z(o,t),"DomainMaintenances"),NextToken:i.expectString});return Object.assign(r,s),r},"de_ListDomainMaintenancesCommand"),T7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainNames:i._json});return Object.assign(r,s),r},"de_ListDomainNamesCommand"),N7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetailsList:u(o=>Cp(o,t),"DomainPackageDetailsList"),NextToken:i.expectString});return Object.assign(r,s),r},"de_ListDomainsForPackageCommand"),D7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{InstanceTypeDetails:i._json,NextToken:i.expectString});return Object.assign(r,s),r},"de_ListInstanceTypeDetailsCommand"),k7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainPackageDetailsList:u(o=>Cp(o,t),"DomainPackageDetailsList"),NextToken:i.expectString});return Object.assign(r,s),r},"de_ListPackagesForDomainCommand"),M7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,ScheduledActions:i._json});return Object.assign(r,s),r},"de_ListScheduledActionsCommand"),L7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{TagList:i._json});return Object.assign(r,s),r},"de_ListTagsCommand"),j7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,Versions:i._json});return Object.assign(r,s),r},"de_ListVersionsCommand"),F7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{AuthorizedPrincipalList:i._json,NextToken:i.expectString});return Object.assign(r,s),r},"de_ListVpcEndpointAccessCommand"),U7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,VpcEndpointSummaryList:i._json});return Object.assign(r,s),r},"de_ListVpcEndpointsCommand"),$7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{NextToken:i.expectString,VpcEndpointSummaryList:i._json});return Object.assign(r,s),r},"de_ListVpcEndpointsForDomainCommand"),B7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ReservationName:i.expectString,ReservedInstanceId:i.expectString});return Object.assign(r,s),r},"de_PurchaseReservedInstanceOfferingCommand"),H7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Connection:i._json});return Object.assign(r,s),r},"de_RejectInboundConnectionCommand"),q7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)});return await(0,i.collectBody)(e.body,t),r},"de_RemoveTagsCommand"),V7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)});return await(0,i.collectBody)(e.body,t),r},"de_RevokeVpcEndpointAccessCommand"),z7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{MaintenanceId:i.expectString});return Object.assign(r,s),r},"de_StartDomainMaintenanceCommand"),G7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ServiceSoftwareOptions:u(o=>X_(o,t),"ServiceSoftwareOptions")});return Object.assign(r,s),r},"de_StartServiceSoftwareUpdateCommand"),W7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{appConfigs:i._json,arn:i.expectString,createdAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"createdAt"),dataSources:i._json,iamIdentityCenterOptions:i._json,id:i.expectString,lastUpdatedAt:u(o=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(o))),"lastUpdatedAt"),name:i.expectString});return Object.assign(r,s),r},"de_UpdateApplicationCommand"),J7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Message:i.expectString});return Object.assign(r,s),r},"de_UpdateDataSourceCommand"),K7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DataSourceArn:i.expectString});return Object.assign(r,s),r},"de_UpdateDirectQueryDataSourceCommand"),Y7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{DomainConfig:u(o=>cM(o,t),"DomainConfig"),DryRunProgressStatus:i._json,DryRunResults:i._json});return Object.assign(r,s),r},"de_UpdateDomainConfigCommand"),X7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{PackageDetails:u(o=>wp(o,t),"PackageDetails")});return Object.assign(r,s),r},"de_UpdatePackageCommand"),Q7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{Operation:i.expectString,PackageID:i.expectString,PackageUserList:i._json});return Object.assign(r,s),r},"de_UpdatePackageScopeCommand"),Z7=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{ScheduledAction:i._json});return Object.assign(r,s),r},"de_UpdateScheduledActionCommand"),eZ=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{VpcEndpoint:i._json});return Object.assign(r,s),r},"de_UpdateVpcEndpointCommand"),tZ=u(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M(e,t);let r=(0,i.map)({$metadata:R(e)}),n=(0,i.expectNonNull)((0,i.expectObject)(await(0,L.parseJsonBody)(e.body,t)),"body"),s=(0,i.take)(n,{AdvancedOptions:i._json,ChangeProgressDetails:u(o=>K_(o,t),"ChangeProgressDetails"),DomainName:i.expectString,PerformCheckOnly:i.expectBoolean,TargetVersion:i.expectString,UpgradeId:i.expectString});return Object.assign(r,s),r},"de_UpgradeDomainCommand"),M=u(async(e,t)=>{let r={...e,body:await(0,L.parseJsonErrorBody)(e.body,t)},n=(0,L.loadRestJsonErrorCode)(e,r.body);switch(n){case"DisabledOperationException":case"com.amazonaws.opensearch#DisabledOperationException":throw await aZ(r,t);case"LimitExceededException":case"com.amazonaws.opensearch#LimitExceededException":throw await uZ(r,t);case"ResourceNotFoundException":case"com.amazonaws.opensearch#ResourceNotFoundException":throw await mZ(r,t);case"BaseException":case"com.amazonaws.opensearch#BaseException":throw await sZ(r,t);case"DependencyFailureException":case"com.amazonaws.opensearch#DependencyFailureException":throw await iZ(r,t);case"InternalException":case"com.amazonaws.opensearch#InternalException":throw await cZ(r,t);case"ValidationException":case"com.amazonaws.opensearch#ValidationException":throw await hZ(r,t);case"AccessDeniedException":case"com.amazonaws.opensearch#AccessDeniedException":throw await nZ(r,t);case"ConflictException":case"com.amazonaws.opensearch#ConflictException":throw await oZ(r,t);case"InvalidTypeException":case"com.amazonaws.opensearch#InvalidTypeException":throw await lZ(r,t);case"ResourceAlreadyExistsException":case"com.amazonaws.opensearch#ResourceAlreadyExistsException":throw await pZ(r,t);case"InvalidPaginationTokenException":case"com.amazonaws.opensearch#InvalidPaginationTokenException":throw await dZ(r,t);case"SlotNotAvailableException":case"com.amazonaws.opensearch#SlotNotAvailableException":throw await fZ(r,t);default:let s=r.body;return rZ({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),rZ=(0,i.withBaseException)(rt),nZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Lk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_AccessDeniedExceptionRes"),sZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Fk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_BaseExceptionRes"),oZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Gk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_ConflictExceptionRes"),iZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new $k({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_DependencyFailureExceptionRes"),aZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Rk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_DisabledOperationExceptionRes"),cZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Hk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_InternalExceptionRes"),dZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Qk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_InvalidPaginationTokenExceptionRes"),lZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Jk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_InvalidTypeExceptionRes"),uZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Nk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_LimitExceededExceptionRes"),pZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Yk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_ResourceAlreadyExistsExceptionRes"),mZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new kk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),fZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{SlotSuggestions:i._json,message:i.expectString});Object.assign(r,s);let o=new nM({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_SlotNotAvailableExceptionRes"),hZ=u(async(e,t)=>{let r=(0,i.map)({}),n=e.body,s=(0,i.take)(n,{message:i.expectString});Object.assign(r,s);let o=new Vk({$metadata:R(e),...r});return(0,i.decorateServiceException)(o,e.body)},"de_ValidationExceptionRes"),gZ=u((e,t)=>(0,i.take)(e,{CronExpressionForRecurrence:[],Duration:i._json,StartAt:u(r=>r.getTime()/1e3,"StartAt")}),"se_AutoTuneMaintenanceSchedule"),iM=u((e,t)=>e.filter(r=>r!=null).map(r=>gZ(r,t)),"se_AutoTuneMaintenanceScheduleList"),_Z=u((e,t)=>(0,i.take)(e,{DesiredState:[],MaintenanceSchedules:u(r=>iM(r,t),"MaintenanceSchedules"),RollbackOnDisable:[],UseOffPeakWindow:[]}),"se_AutoTuneOptions"),yZ=u((e,t)=>(0,i.take)(e,{DesiredState:[],MaintenanceSchedules:u(r=>iM(r,t),"MaintenanceSchedules"),UseOffPeakWindow:[]}),"se_AutoTuneOptionsInput"),SZ=u((e,t)=>(0,i.take)(e,{Options:i.expectString,Status:u(r=>je(r,t),"Status")}),"de_AccessPoliciesStatus"),EZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_AdvancedOptionsStatus"),aM=u((e,t)=>(0,i.take)(e,{AnonymousAuthDisableDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"AnonymousAuthDisableDate"),AnonymousAuthEnabled:i.expectBoolean,Enabled:i.expectBoolean,IAMFederationOptions:i._json,InternalUserDatabaseEnabled:i.expectBoolean,JWTOptions:i._json,SAMLOptions:i._json}),"de_AdvancedSecurityOptions"),vZ=u((e,t)=>(0,i.take)(e,{Options:u(r=>aM(r,t),"Options"),Status:u(r=>je(r,t),"Status")}),"de_AdvancedSecurityOptionsStatus"),bZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_AIMLOptionsStatus"),CZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>wZ(n,t)),"de_ApplicationSummaries"),wZ=u((e,t)=>(0,i.take)(e,{arn:i.expectString,createdAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"createdAt"),endpoint:i.expectString,id:i.expectString,lastUpdatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"lastUpdatedAt"),name:i.expectString,status:i.expectString}),"de_ApplicationSummary"),PZ=u((e,t)=>(0,i.take)(e,{AutoTuneDetails:u(r=>xZ(r,t),"AutoTuneDetails"),AutoTuneType:i.expectString}),"de_AutoTune"),xZ=u((e,t)=>(0,i.take)(e,{ScheduledAutoTuneDetails:u(r=>nee(r,t),"ScheduledAutoTuneDetails")}),"de_AutoTuneDetails"),AZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>PZ(n,t)),"de_AutoTuneList"),OZ=u((e,t)=>(0,i.take)(e,{CronExpressionForRecurrence:i.expectString,Duration:i._json,StartAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"StartAt")}),"de_AutoTuneMaintenanceSchedule"),IZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>OZ(n,t)),"de_AutoTuneMaintenanceScheduleList"),RZ=u((e,t)=>(0,i.take)(e,{DesiredState:i.expectString,MaintenanceSchedules:u(r=>IZ(r,t),"MaintenanceSchedules"),RollbackOnDisable:i.expectString,UseOffPeakWindow:i.expectBoolean}),"de_AutoTuneOptions"),TZ=u((e,t)=>(0,i.take)(e,{Options:u(r=>RZ(r,t),"Options"),Status:u(r=>NZ(r,t),"Status")}),"de_AutoTuneOptionsStatus"),NZ=u((e,t)=>(0,i.take)(e,{CreationDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"CreationDate"),ErrorMessage:i.expectString,PendingDeletion:i.expectBoolean,State:i.expectString,UpdateDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"UpdateDate"),UpdateVersion:i.expectInt32}),"de_AutoTuneStatus"),K_=u((e,t)=>(0,i.take)(e,{ChangeId:i.expectString,ConfigChangeStatus:i.expectString,InitiatedBy:i.expectString,LastUpdatedTime:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"LastUpdatedTime"),Message:i.expectString,StartTime:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"StartTime")}),"de_ChangeProgressDetails"),DZ=u((e,t)=>(0,i.take)(e,{Description:i.expectString,LastUpdated:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"LastUpdated"),Name:i.expectString,Status:i.expectString}),"de_ChangeProgressStage"),kZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>DZ(n,t)),"de_ChangeProgressStageList"),MZ=u((e,t)=>(0,i.take)(e,{ChangeId:i.expectString,ChangeProgressStages:u(r=>kZ(r,t),"ChangeProgressStages"),CompletedProperties:i._json,ConfigChangeStatus:i.expectString,InitiatedBy:i.expectString,LastUpdatedTime:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"LastUpdatedTime"),PendingProperties:i._json,StartTime:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"StartTime"),Status:i.expectString,TotalNumberOfStages:i.expectInt32}),"de_ChangeProgressStatusDetails"),LZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_ClusterConfigStatus"),jZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_CognitoOptionsStatus"),cM=u((e,t)=>(0,i.take)(e,{AIMLOptions:u(r=>bZ(r,t),"AIMLOptions"),AccessPolicies:u(r=>SZ(r,t),"AccessPolicies"),AdvancedOptions:u(r=>EZ(r,t),"AdvancedOptions"),AdvancedSecurityOptions:u(r=>vZ(r,t),"AdvancedSecurityOptions"),AutoTuneOptions:u(r=>TZ(r,t),"AutoTuneOptions"),ChangeProgressDetails:u(r=>K_(r,t),"ChangeProgressDetails"),ClusterConfig:u(r=>LZ(r,t),"ClusterConfig"),CognitoOptions:u(r=>jZ(r,t),"CognitoOptions"),DomainEndpointOptions:u(r=>FZ(r,t),"DomainEndpointOptions"),EBSOptions:u(r=>HZ(r,t),"EBSOptions"),EncryptionAtRestOptions:u(r=>qZ(r,t),"EncryptionAtRestOptions"),EngineVersion:u(r=>lee(r,t),"EngineVersion"),IPAddressType:u(r=>zZ(r,t),"IPAddressType"),IdentityCenterOptions:u(r=>VZ(r,t),"IdentityCenterOptions"),LogPublishingOptions:u(r=>GZ(r,t),"LogPublishingOptions"),ModifyingProperties:i._json,NodeToNodeEncryptionOptions:u(r=>WZ(r,t),"NodeToNodeEncryptionOptions"),OffPeakWindowOptions:u(r=>JZ(r,t),"OffPeakWindowOptions"),SnapshotOptions:u(r=>see(r,t),"SnapshotOptions"),SoftwareUpdateOptions:u(r=>oee(r,t),"SoftwareUpdateOptions"),VPCOptions:u(r=>uee(r,t),"VPCOptions")}),"de_DomainConfig"),FZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_DomainEndpointOptionsStatus"),UZ=u((e,t)=>(0,i.take)(e,{Action:i.expectString,CreatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"CreatedAt"),DomainName:i.expectString,MaintenanceId:i.expectString,NodeId:i.expectString,Status:i.expectString,StatusMessage:i.expectString,UpdatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"UpdatedAt")}),"de_DomainMaintenanceDetails"),$Z=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>UZ(n,t)),"de_DomainMaintenanceList"),Y_=u((e,t)=>(0,i.take)(e,{AssociationConfiguration:i._json,DomainName:i.expectString,DomainPackageStatus:i.expectString,ErrorDetails:i._json,LastUpdated:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"LastUpdated"),PackageID:i.expectString,PackageName:i.expectString,PackageType:i.expectString,PackageVersion:i.expectString,PrerequisitePackageIDList:i._json,ReferencePath:i.expectString}),"de_DomainPackageDetails"),Cp=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Y_(n,t)),"de_DomainPackageDetailsList"),hc=u((e,t)=>(0,i.take)(e,{AIMLOptions:i._json,ARN:i.expectString,AccessPolicies:i.expectString,AdvancedOptions:i._json,AdvancedSecurityOptions:u(r=>aM(r,t),"AdvancedSecurityOptions"),AutoTuneOptions:i._json,ChangeProgressDetails:u(r=>K_(r,t),"ChangeProgressDetails"),ClusterConfig:i._json,CognitoOptions:i._json,Created:i.expectBoolean,Deleted:i.expectBoolean,DomainEndpointOptions:i._json,DomainEndpointV2HostedZoneId:i.expectString,DomainId:i.expectString,DomainName:i.expectString,DomainProcessingStatus:i.expectString,EBSOptions:i._json,EncryptionAtRestOptions:i._json,Endpoint:i.expectString,EndpointV2:i.expectString,Endpoints:i._json,EngineVersion:i.expectString,IPAddressType:i.expectString,IdentityCenterOptions:i._json,LogPublishingOptions:i._json,ModifyingProperties:i._json,NodeToNodeEncryptionOptions:i._json,OffPeakWindowOptions:i._json,Processing:i.expectBoolean,ServiceSoftwareOptions:u(r=>X_(r,t),"ServiceSoftwareOptions"),SnapshotOptions:i._json,SoftwareUpdateOptions:i._json,UpgradeProcessing:i.expectBoolean,VPCOptions:i._json}),"de_DomainStatus"),BZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hc(n,t)),"de_DomainStatusList"),HZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_EBSOptionsStatus"),qZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_EncryptionAtRestOptionsStatus"),VZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_IdentityCenterOptionsStatus"),zZ=u((e,t)=>(0,i.take)(e,{Options:i.expectString,Status:u(r=>je(r,t),"Status")}),"de_IPAddressTypeStatus"),GZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_LogPublishingOptionsStatus"),WZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_NodeToNodeEncryptionOptionsStatus"),JZ=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_OffPeakWindowOptionsStatus"),je=u((e,t)=>(0,i.take)(e,{CreationDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"CreationDate"),PendingDeletion:i.expectBoolean,State:i.expectString,UpdateDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"UpdateDate"),UpdateVersion:i.expectInt32}),"de_OptionStatus"),wp=u((e,t)=>(0,i.take)(e,{AllowListedUserList:i._json,AvailablePackageConfiguration:i._json,AvailablePackageVersion:i.expectString,AvailablePluginProperties:i._json,CreatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"CreatedAt"),EngineVersion:i.expectString,ErrorDetails:i._json,LastUpdatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"LastUpdatedAt"),PackageDescription:i.expectString,PackageEncryptionOptions:i._json,PackageID:i.expectString,PackageName:i.expectString,PackageOwner:i.expectString,PackageStatus:i.expectString,PackageType:i.expectString,PackageVendingOptions:i._json}),"de_PackageDetails"),KZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>wp(n,t)),"de_PackageDetailsList"),YZ=u((e,t)=>(0,i.take)(e,{CommitMessage:i.expectString,CreatedAt:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"CreatedAt"),PackageConfiguration:i._json,PackageVersion:i.expectString,PluginProperties:i._json}),"de_PackageVersionHistory"),XZ=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>YZ(n,t)),"de_PackageVersionHistoryList"),QZ=u((e,t)=>(0,i.take)(e,{RecurringChargeAmount:i.limitedParseDouble,RecurringChargeFrequency:i.expectString}),"de_RecurringCharge"),dM=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>QZ(n,t)),"de_RecurringChargeList"),ZZ=u((e,t)=>(0,i.take)(e,{BillingSubscriptionId:i.expectLong,CurrencyCode:i.expectString,Duration:i.expectInt32,FixedPrice:i.limitedParseDouble,InstanceCount:i.expectInt32,InstanceType:i.expectString,PaymentOption:i.expectString,RecurringCharges:u(r=>dM(r,t),"RecurringCharges"),ReservationName:i.expectString,ReservedInstanceId:i.expectString,ReservedInstanceOfferingId:i.expectString,StartTime:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"StartTime"),State:i.expectString,UsagePrice:i.limitedParseDouble}),"de_ReservedInstance"),eee=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZZ(n,t)),"de_ReservedInstanceList"),tee=u((e,t)=>(0,i.take)(e,{CurrencyCode:i.expectString,Duration:i.expectInt32,FixedPrice:i.limitedParseDouble,InstanceType:i.expectString,PaymentOption:i.expectString,RecurringCharges:u(r=>dM(r,t),"RecurringCharges"),ReservedInstanceOfferingId:i.expectString,UsagePrice:i.limitedParseDouble}),"de_ReservedInstanceOffering"),ree=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>tee(n,t)),"de_ReservedInstanceOfferingList"),nee=u((e,t)=>(0,i.take)(e,{Action:i.expectString,ActionType:i.expectString,Date:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"Date"),Severity:i.expectString}),"de_ScheduledAutoTuneDetails"),X_=u((e,t)=>(0,i.take)(e,{AutomatedUpdateDate:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"AutomatedUpdateDate"),Cancellable:i.expectBoolean,CurrentVersion:i.expectString,Description:i.expectString,NewVersion:i.expectString,OptionalDeployment:i.expectBoolean,UpdateAvailable:i.expectBoolean,UpdateStatus:i.expectString}),"de_ServiceSoftwareOptions"),see=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_SnapshotOptionsStatus"),oee=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_SoftwareUpdateOptionsStatus"),iee=u((e,t)=>(0,i.take)(e,{StartTimestamp:u(r=>(0,i.expectNonNull)((0,i.parseEpochTimestamp)((0,i.expectNumber)(r))),"StartTimestamp"),StepsList:u(r=>dee(r,t),"StepsList"),UpgradeName:i.expectString,UpgradeStatus:i.expectString}),"de_UpgradeHistory"),aee=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>iee(n,t)),"de_UpgradeHistoryList"),cee=u((e,t)=>(0,i.take)(e,{Issues:i._json,ProgressPercent:i.limitedParseDouble,UpgradeStep:i.expectString,UpgradeStepStatus:i.expectString}),"de_UpgradeStepItem"),dee=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>cee(n,t)),"de_UpgradeStepsList"),lee=u((e,t)=>(0,i.take)(e,{Options:i.expectString,Status:u(r=>je(r,t),"Status")}),"de_VersionStatus"),uee=u((e,t)=>(0,i.take)(e,{Options:i._json,Status:u(r=>je(r,t),"Status")}),"de_VPCDerivedInfoStatus"),R=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),pee="Action",mee="ARN",fee="ChangeId",Q_="DomainName",hee="DryRunId",gee="EngineType",_ee="InstanceType",yee="LoadDryRunConfig",See="MaintenanceId",gr="MaxResults",mt="NextToken",Eee="RetrieveAZs",vee="ReservedInstanceId",bee="ReservedInstanceOfferingId",Cee="Status",wee="action",Pee="arn",xee="changeid",Z_="domainName",Aee="dryRunId",Oee="engineType",Iee="instanceType",Ree="loadDryRunConfig",Tee="maintenanceId",Lt="maxResults",Nee="nexttoken",tt="nextToken",Dee="offeringId",kee="retrieveAZs",Mee="reservationId",Ak="statuses",Lee="status",lM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AcceptInboundConnection",{}).n("OpenSearchClient","AcceptInboundConnectionCommand").f(void 0,void 0).ser(pQ).de(k9).build(){static{u(this,"AcceptInboundConnectionCommand")}},uM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AddDataSource",{}).n("OpenSearchClient","AddDataSourceCommand").f(void 0,void 0).ser(mQ).de(M9).build(){static{u(this,"AddDataSourceCommand")}},pM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AddDirectQueryDataSource",{}).n("OpenSearchClient","AddDirectQueryDataSourceCommand").f(void 0,void 0).ser(fQ).de(L9).build(){static{u(this,"AddDirectQueryDataSourceCommand")}},mM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AddTags",{}).n("OpenSearchClient","AddTagsCommand").f(void 0,void 0).ser(hQ).de(j9).build(){static{u(this,"AddTagsCommand")}},fM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AssociatePackage",{}).n("OpenSearchClient","AssociatePackageCommand").f(void 0,void 0).ser(gQ).de(F9).build(){static{u(this,"AssociatePackageCommand")}},hM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AssociatePackages",{}).n("OpenSearchClient","AssociatePackagesCommand").f(void 0,void 0).ser(_Q).de(U9).build(){static{u(this,"AssociatePackagesCommand")}},gM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","AuthorizeVpcEndpointAccess",{}).n("OpenSearchClient","AuthorizeVpcEndpointAccessCommand").f(void 0,void 0).ser(yQ).de($9).build(){static{u(this,"AuthorizeVpcEndpointAccessCommand")}},_M=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CancelDomainConfigChange",{}).n("OpenSearchClient","CancelDomainConfigChangeCommand").f(void 0,void 0).ser(SQ).de(B9).build(){static{u(this,"CancelDomainConfigChangeCommand")}},yM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CancelServiceSoftwareUpdate",{}).n("OpenSearchClient","CancelServiceSoftwareUpdateCommand").f(void 0,void 0).ser(EQ).de(H9).build(){static{u(this,"CancelServiceSoftwareUpdateCommand")}},SM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CreateApplication",{}).n("OpenSearchClient","CreateApplicationCommand").f(void 0,void 0).ser(vQ).de(q9).build(){static{u(this,"CreateApplicationCommand")}},EM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CreateDomain",{}).n("OpenSearchClient","CreateDomainCommand").f(rM,void 0).ser(bQ).de(V9).build(){static{u(this,"CreateDomainCommand")}},vM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CreateOutboundConnection",{}).n("OpenSearchClient","CreateOutboundConnectionCommand").f(void 0,void 0).ser(CQ).de(z9).build(){static{u(this,"CreateOutboundConnectionCommand")}},bM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CreatePackage",{}).n("OpenSearchClient","CreatePackageCommand").f(void 0,void 0).ser(wQ).de(G9).build(){static{u(this,"CreatePackageCommand")}},CM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","CreateVpcEndpoint",{}).n("OpenSearchClient","CreateVpcEndpointCommand").f(void 0,void 0).ser(PQ).de(W9).build(){static{u(this,"CreateVpcEndpointCommand")}},wM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteApplication",{}).n("OpenSearchClient","DeleteApplicationCommand").f(void 0,void 0).ser(xQ).de(J9).build(){static{u(this,"DeleteApplicationCommand")}},PM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteDataSource",{}).n("OpenSearchClient","DeleteDataSourceCommand").f(void 0,void 0).ser(AQ).de(K9).build(){static{u(this,"DeleteDataSourceCommand")}},xM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteDirectQueryDataSource",{}).n("OpenSearchClient","DeleteDirectQueryDataSourceCommand").f(void 0,void 0).ser(OQ).de(Y9).build(){static{u(this,"DeleteDirectQueryDataSourceCommand")}},AM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteDomain",{}).n("OpenSearchClient","DeleteDomainCommand").f(void 0,void 0).ser(IQ).de(X9).build(){static{u(this,"DeleteDomainCommand")}},OM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteInboundConnection",{}).n("OpenSearchClient","DeleteInboundConnectionCommand").f(void 0,void 0).ser(RQ).de(Q9).build(){static{u(this,"DeleteInboundConnectionCommand")}},IM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteOutboundConnection",{}).n("OpenSearchClient","DeleteOutboundConnectionCommand").f(void 0,void 0).ser(TQ).de(Z9).build(){static{u(this,"DeleteOutboundConnectionCommand")}},RM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeletePackage",{}).n("OpenSearchClient","DeletePackageCommand").f(void 0,void 0).ser(NQ).de(e7).build(){static{u(this,"DeletePackageCommand")}},TM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DeleteVpcEndpoint",{}).n("OpenSearchClient","DeleteVpcEndpointCommand").f(void 0,void 0).ser(DQ).de(t7).build(){static{u(this,"DeleteVpcEndpointCommand")}},ey=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomainAutoTunes",{}).n("OpenSearchClient","DescribeDomainAutoTunesCommand").f(void 0,void 0).ser(MQ).de(n7).build(){static{u(this,"DescribeDomainAutoTunesCommand")}},NM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomainChangeProgress",{}).n("OpenSearchClient","DescribeDomainChangeProgressCommand").f(void 0,void 0).ser(LQ).de(s7).build(){static{u(this,"DescribeDomainChangeProgressCommand")}},DM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomain",{}).n("OpenSearchClient","DescribeDomainCommand").f(void 0,void 0).ser(kQ).de(r7).build(){static{u(this,"DescribeDomainCommand")}},kM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomainConfig",{}).n("OpenSearchClient","DescribeDomainConfigCommand").f(void 0,void 0).ser(jQ).de(o7).build(){static{u(this,"DescribeDomainConfigCommand")}},MM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomainHealth",{}).n("OpenSearchClient","DescribeDomainHealthCommand").f(void 0,void 0).ser(FQ).de(i7).build(){static{u(this,"DescribeDomainHealthCommand")}},LM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomainNodes",{}).n("OpenSearchClient","DescribeDomainNodesCommand").f(void 0,void 0).ser(UQ).de(a7).build(){static{u(this,"DescribeDomainNodesCommand")}},jM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDomains",{}).n("OpenSearchClient","DescribeDomainsCommand").f(void 0,void 0).ser($Q).de(c7).build(){static{u(this,"DescribeDomainsCommand")}},FM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeDryRunProgress",{}).n("OpenSearchClient","DescribeDryRunProgressCommand").f(void 0,void 0).ser(BQ).de(d7).build(){static{u(this,"DescribeDryRunProgressCommand")}},ty=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeInboundConnections",{}).n("OpenSearchClient","DescribeInboundConnectionsCommand").f(void 0,void 0).ser(HQ).de(l7).build(){static{u(this,"DescribeInboundConnectionsCommand")}},UM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeInstanceTypeLimits",{}).n("OpenSearchClient","DescribeInstanceTypeLimitsCommand").f(void 0,void 0).ser(qQ).de(u7).build(){static{u(this,"DescribeInstanceTypeLimitsCommand")}},ry=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeOutboundConnections",{}).n("OpenSearchClient","DescribeOutboundConnectionsCommand").f(void 0,void 0).ser(VQ).de(p7).build(){static{u(this,"DescribeOutboundConnectionsCommand")}},ny=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribePackages",{}).n("OpenSearchClient","DescribePackagesCommand").f(void 0,void 0).ser(zQ).de(m7).build(){static{u(this,"DescribePackagesCommand")}},sy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeReservedInstanceOfferings",{}).n("OpenSearchClient","DescribeReservedInstanceOfferingsCommand").f(void 0,void 0).ser(GQ).de(f7).build(){static{u(this,"DescribeReservedInstanceOfferingsCommand")}},oy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeReservedInstances",{}).n("OpenSearchClient","DescribeReservedInstancesCommand").f(void 0,void 0).ser(WQ).de(h7).build(){static{u(this,"DescribeReservedInstancesCommand")}},$M=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DescribeVpcEndpoints",{}).n("OpenSearchClient","DescribeVpcEndpointsCommand").f(void 0,void 0).ser(JQ).de(g7).build(){static{u(this,"DescribeVpcEndpointsCommand")}},BM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DissociatePackage",{}).n("OpenSearchClient","DissociatePackageCommand").f(void 0,void 0).ser(KQ).de(_7).build(){static{u(this,"DissociatePackageCommand")}},HM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","DissociatePackages",{}).n("OpenSearchClient","DissociatePackagesCommand").f(void 0,void 0).ser(YQ).de(y7).build(){static{u(this,"DissociatePackagesCommand")}},qM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetApplication",{}).n("OpenSearchClient","GetApplicationCommand").f(void 0,void 0).ser(XQ).de(S7).build(){static{u(this,"GetApplicationCommand")}},VM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetCompatibleVersions",{}).n("OpenSearchClient","GetCompatibleVersionsCommand").f(void 0,void 0).ser(QQ).de(E7).build(){static{u(this,"GetCompatibleVersionsCommand")}},zM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetDataSource",{}).n("OpenSearchClient","GetDataSourceCommand").f(void 0,void 0).ser(ZQ).de(v7).build(){static{u(this,"GetDataSourceCommand")}},GM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetDirectQueryDataSource",{}).n("OpenSearchClient","GetDirectQueryDataSourceCommand").f(void 0,void 0).ser(e9).de(b7).build(){static{u(this,"GetDirectQueryDataSourceCommand")}},WM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetDomainMaintenanceStatus",{}).n("OpenSearchClient","GetDomainMaintenanceStatusCommand").f(void 0,void 0).ser(t9).de(C7).build(){static{u(this,"GetDomainMaintenanceStatusCommand")}},iy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetPackageVersionHistory",{}).n("OpenSearchClient","GetPackageVersionHistoryCommand").f(void 0,void 0).ser(r9).de(w7).build(){static{u(this,"GetPackageVersionHistoryCommand")}},ay=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetUpgradeHistory",{}).n("OpenSearchClient","GetUpgradeHistoryCommand").f(void 0,void 0).ser(n9).de(P7).build(){static{u(this,"GetUpgradeHistoryCommand")}},JM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","GetUpgradeStatus",{}).n("OpenSearchClient","GetUpgradeStatusCommand").f(void 0,void 0).ser(s9).de(x7).build(){static{u(this,"GetUpgradeStatusCommand")}},cy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListApplications",{}).n("OpenSearchClient","ListApplicationsCommand").f(void 0,void 0).ser(o9).de(A7).build(){static{u(this,"ListApplicationsCommand")}},KM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListDataSources",{}).n("OpenSearchClient","ListDataSourcesCommand").f(void 0,void 0).ser(i9).de(O7).build(){static{u(this,"ListDataSourcesCommand")}},YM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListDirectQueryDataSources",{}).n("OpenSearchClient","ListDirectQueryDataSourcesCommand").f(void 0,void 0).ser(a9).de(I7).build(){static{u(this,"ListDirectQueryDataSourcesCommand")}},dy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListDomainMaintenances",{}).n("OpenSearchClient","ListDomainMaintenancesCommand").f(void 0,void 0).ser(c9).de(R7).build(){static{u(this,"ListDomainMaintenancesCommand")}},XM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListDomainNames",{}).n("OpenSearchClient","ListDomainNamesCommand").f(void 0,void 0).ser(d9).de(T7).build(){static{u(this,"ListDomainNamesCommand")}},ly=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListDomainsForPackage",{}).n("OpenSearchClient","ListDomainsForPackageCommand").f(void 0,void 0).ser(l9).de(N7).build(){static{u(this,"ListDomainsForPackageCommand")}},uy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListInstanceTypeDetails",{}).n("OpenSearchClient","ListInstanceTypeDetailsCommand").f(void 0,void 0).ser(u9).de(D7).build(){static{u(this,"ListInstanceTypeDetailsCommand")}},py=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListPackagesForDomain",{}).n("OpenSearchClient","ListPackagesForDomainCommand").f(void 0,void 0).ser(p9).de(k7).build(){static{u(this,"ListPackagesForDomainCommand")}},my=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListScheduledActions",{}).n("OpenSearchClient","ListScheduledActionsCommand").f(void 0,void 0).ser(m9).de(M7).build(){static{u(this,"ListScheduledActionsCommand")}},QM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListTags",{}).n("OpenSearchClient","ListTagsCommand").f(void 0,void 0).ser(f9).de(L7).build(){static{u(this,"ListTagsCommand")}},fy=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListVersions",{}).n("OpenSearchClient","ListVersionsCommand").f(void 0,void 0).ser(h9).de(j7).build(){static{u(this,"ListVersionsCommand")}},ZM=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListVpcEndpointAccess",{}).n("OpenSearchClient","ListVpcEndpointAccessCommand").f(void 0,void 0).ser(g9).de(F7).build(){static{u(this,"ListVpcEndpointAccessCommand")}},eL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListVpcEndpoints",{}).n("OpenSearchClient","ListVpcEndpointsCommand").f(void 0,void 0).ser(_9).de(U7).build(){static{u(this,"ListVpcEndpointsCommand")}},tL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","ListVpcEndpointsForDomain",{}).n("OpenSearchClient","ListVpcEndpointsForDomainCommand").f(void 0,void 0).ser(y9).de($7).build(){static{u(this,"ListVpcEndpointsForDomainCommand")}},rL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","PurchaseReservedInstanceOffering",{}).n("OpenSearchClient","PurchaseReservedInstanceOfferingCommand").f(void 0,void 0).ser(S9).de(B7).build(){static{u(this,"PurchaseReservedInstanceOfferingCommand")}},nL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","RejectInboundConnection",{}).n("OpenSearchClient","RejectInboundConnectionCommand").f(void 0,void 0).ser(E9).de(H7).build(){static{u(this,"RejectInboundConnectionCommand")}},sL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","RemoveTags",{}).n("OpenSearchClient","RemoveTagsCommand").f(void 0,void 0).ser(v9).de(q7).build(){static{u(this,"RemoveTagsCommand")}},oL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","RevokeVpcEndpointAccess",{}).n("OpenSearchClient","RevokeVpcEndpointAccessCommand").f(void 0,void 0).ser(b9).de(V7).build(){static{u(this,"RevokeVpcEndpointAccessCommand")}},iL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","StartDomainMaintenance",{}).n("OpenSearchClient","StartDomainMaintenanceCommand").f(void 0,void 0).ser(C9).de(z7).build(){static{u(this,"StartDomainMaintenanceCommand")}},aL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","StartServiceSoftwareUpdate",{}).n("OpenSearchClient","StartServiceSoftwareUpdateCommand").f(void 0,void 0).ser(w9).de(G7).build(){static{u(this,"StartServiceSoftwareUpdateCommand")}},cL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateApplication",{}).n("OpenSearchClient","UpdateApplicationCommand").f(void 0,void 0).ser(P9).de(W7).build(){static{u(this,"UpdateApplicationCommand")}},dL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateDataSource",{}).n("OpenSearchClient","UpdateDataSourceCommand").f(void 0,void 0).ser(x9).de(J7).build(){static{u(this,"UpdateDataSourceCommand")}},lL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateDirectQueryDataSource",{}).n("OpenSearchClient","UpdateDirectQueryDataSourceCommand").f(void 0,void 0).ser(A9).de(K7).build(){static{u(this,"UpdateDirectQueryDataSourceCommand")}},uL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateDomainConfig",{}).n("OpenSearchClient","UpdateDomainConfigCommand").f(oM,void 0).ser(O9).de(Y7).build(){static{u(this,"UpdateDomainConfigCommand")}},pL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdatePackage",{}).n("OpenSearchClient","UpdatePackageCommand").f(void 0,void 0).ser(I9).de(X7).build(){static{u(this,"UpdatePackageCommand")}},mL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdatePackageScope",{}).n("OpenSearchClient","UpdatePackageScopeCommand").f(void 0,void 0).ser(R9).de(Q7).build(){static{u(this,"UpdatePackageScopeCommand")}},fL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateScheduledAction",{}).n("OpenSearchClient","UpdateScheduledActionCommand").f(void 0,void 0).ser(T9).de(Z7).build(){static{u(this,"UpdateScheduledActionCommand")}},hL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpdateVpcEndpoint",{}).n("OpenSearchClient","UpdateVpcEndpointCommand").f(void 0,void 0).ser(N9).de(eZ).build(){static{u(this,"UpdateVpcEndpointCommand")}},gL=class extends i.Command.classBuilder().ep(D).m(function(e,t,r,n){return[(0,k.getSerdePlugin)(r,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonOpenSearchService","UpgradeDomain",{}).n("OpenSearchClient","UpgradeDomainCommand").f(void 0,void 0).ser(D9).de(tZ).build(){static{u(this,"UpgradeDomainCommand")}},jee={AcceptInboundConnectionCommand:lM,AddDataSourceCommand:uM,AddDirectQueryDataSourceCommand:pM,AddTagsCommand:mM,AssociatePackageCommand:fM,AssociatePackagesCommand:hM,AuthorizeVpcEndpointAccessCommand:gM,CancelDomainConfigChangeCommand:_M,CancelServiceSoftwareUpdateCommand:yM,CreateApplicationCommand:SM,CreateDomainCommand:EM,CreateOutboundConnectionCommand:vM,CreatePackageCommand:bM,CreateVpcEndpointCommand:CM,DeleteApplicationCommand:wM,DeleteDataSourceCommand:PM,DeleteDirectQueryDataSourceCommand:xM,DeleteDomainCommand:AM,DeleteInboundConnectionCommand:OM,DeleteOutboundConnectionCommand:IM,DeletePackageCommand:RM,DeleteVpcEndpointCommand:TM,DescribeDomainCommand:DM,DescribeDomainAutoTunesCommand:ey,DescribeDomainChangeProgressCommand:NM,DescribeDomainConfigCommand:kM,DescribeDomainHealthCommand:MM,DescribeDomainNodesCommand:LM,DescribeDomainsCommand:jM,DescribeDryRunProgressCommand:FM,DescribeInboundConnectionsCommand:ty,DescribeInstanceTypeLimitsCommand:UM,DescribeOutboundConnectionsCommand:ry,DescribePackagesCommand:ny,DescribeReservedInstanceOfferingsCommand:sy,DescribeReservedInstancesCommand:oy,DescribeVpcEndpointsCommand:$M,DissociatePackageCommand:BM,DissociatePackagesCommand:HM,GetApplicationCommand:qM,GetCompatibleVersionsCommand:VM,GetDataSourceCommand:zM,GetDirectQueryDataSourceCommand:GM,GetDomainMaintenanceStatusCommand:WM,GetPackageVersionHistoryCommand:iy,GetUpgradeHistoryCommand:ay,GetUpgradeStatusCommand:JM,ListApplicationsCommand:cy,ListDataSourcesCommand:KM,ListDirectQueryDataSourcesCommand:YM,ListDomainMaintenancesCommand:dy,ListDomainNamesCommand:XM,ListDomainsForPackageCommand:ly,ListInstanceTypeDetailsCommand:uy,ListPackagesForDomainCommand:py,ListScheduledActionsCommand:my,ListTagsCommand:QM,ListVersionsCommand:fy,ListVpcEndpointAccessCommand:ZM,ListVpcEndpointsCommand:eL,ListVpcEndpointsForDomainCommand:tL,PurchaseReservedInstanceOfferingCommand:rL,RejectInboundConnectionCommand:nL,RemoveTagsCommand:sL,RevokeVpcEndpointAccessCommand:oL,StartDomainMaintenanceCommand:iL,StartServiceSoftwareUpdateCommand:aL,UpdateApplicationCommand:cL,UpdateDataSourceCommand:dL,UpdateDirectQueryDataSourceCommand:lL,UpdateDomainConfigCommand:uL,UpdatePackageCommand:pL,UpdatePackageScopeCommand:mL,UpdateScheduledActionCommand:fL,UpdateVpcEndpointCommand:hL,UpgradeDomainCommand:gL},_L=class extends Ve{static{u(this,"OpenSearch")}};(0,i.createAggregatedClient)(jee,_L);var Fee=(0,I.createPaginator)(Ve,ey,"NextToken","NextToken","MaxResults"),Uee=(0,I.createPaginator)(Ve,ty,"NextToken","NextToken","MaxResults"),$ee=(0,I.createPaginator)(Ve,ry,"NextToken","NextToken","MaxResults"),Bee=(0,I.createPaginator)(Ve,ny,"NextToken","NextToken","MaxResults"),Hee=(0,I.createPaginator)(Ve,sy,"NextToken","NextToken","MaxResults"),qee=(0,I.createPaginator)(Ve,oy,"NextToken","NextToken","MaxResults"),Vee=(0,I.createPaginator)(Ve,iy,"NextToken","NextToken","MaxResults"),zee=(0,I.createPaginator)(Ve,ay,"NextToken","NextToken","MaxResults"),Gee=(0,I.createPaginator)(Ve,cy,"nextToken","nextToken","maxResults"),Wee=(0,I.createPaginator)(Ve,dy,"NextToken","NextToken","MaxResults"),Jee=(0,I.createPaginator)(Ve,ly,"NextToken","NextToken","MaxResults"),Kee=(0,I.createPaginator)(Ve,uy,"NextToken","NextToken","MaxResults"),Yee=(0,I.createPaginator)(Ve,py,"NextToken","NextToken","MaxResults"),Xee=(0,I.createPaginator)(Ve,my,"NextToken","NextToken","MaxResults"),Qee=(0,I.createPaginator)(Ve,fy,"NextToken","NextToken","MaxResults")});var ote={};jt(ote,{handler:()=>ste});module.exports=Y(ote);function V(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function E(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var Ap=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return Ap=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function Ei(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}var vi=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){let t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};var B=class extends Error{},Re=class e extends B{constructor(t,r,n,s){super(`${e.makeMessage(t,r,n)}`),this.status=t,this.headers=s,this.requestID=s?.get("x-request-id"),this.error=r;let o=r;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(t,r,n){let s=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,r,n,s){if(!t||!s)return new Hr({message:n,cause:vi(r)});let o=r?.error;return t===400?new $s(t,o,n,s):t===401?new Bs(t,o,n,s):t===403?new Hs(t,o,n,s):t===404?new qs(t,o,n,s):t===409?new Vs(t,o,n,s):t===422?new zs(t,o,n,s):t===429?new Gs(t,o,n,s):t>=500?new Ws(t,o,n,s):new e(t,o,n,s)}},xe=class extends Re{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Hr=class extends Re{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}},qr=class extends Hr{constructor({message:t}={}){super({message:t??"Request timed out."})}},$s=class extends Re{},Bs=class extends Re{},Hs=class extends Re{},qs=class extends Re{},Vs=class extends Re{},zs=class extends Re{},Gs=class extends Re{},Ws=class extends Re{},Js=class extends B{constructor(){super("Could not parse response content as the length limit was reached")}},Ks=class extends B{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},Wt=class extends Error{constructor(t){super(t)}};var OL=/^[a-z][a-z0-9+.-]*:/i,yy=e=>OL.test(e),ze=e=>(ze=Array.isArray,ze(e)),Op=ze;function Sy(e){return typeof e!="object"?{}:e??{}}function Ey(e){if(!e)return!0;for(let t in e)return!1;return!0}function vy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bi(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}var by=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new B(`${e} must be an integer`);if(t<0)throw new B(`${e} must be a positive integer`);return t};var Cy=e=>{try{return JSON.parse(e)}catch{return}};var Jt=e=>new Promise(t=>setTimeout(t,e));var Vr="5.12.2";var Ay=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function IL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var RL=()=>{let e=IL();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vr,"X-Stainless-OS":Py(Deno.build.os),"X-Stainless-Arch":wy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vr,"X-Stainless-OS":Py(globalThis.process.platform??"unknown"),"X-Stainless-Arch":wy(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let t=TL();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TL(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:r}of e){let n=r.exec(navigator.userAgent);if(n){let s=n[1]||0,o=n[2]||0,a=n[3]||0;return{browser:t,version:`${s}.${o}.${a}`}}}return null}var wy=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Py=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),xy,Oy=()=>xy??(xy=RL());function Iy(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ip(...e){let t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Sc(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Ip({start(){},async pull(r){let{done:n,value:s}=await t.next();n?r.close():r.enqueue(s)},async cancel(){await t.return?.()}})}function Rp(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){let r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ry(e){if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await e[Symbol.asyncIterator]().return?.();return}let t=e.getReader(),r=t.cancel();t.releaseLock(),await r}var Ty=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});var Ec="RFC3986",Tp=e=>String(e),vc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:Tp},Np="RFC1738";var bc=(e,t)=>(bc=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),bc(e,t)),Kt=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();var Dp=1024,Ny=(e,t,r,n,s)=>{if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let a="";for(let c=0;c<o.length;c+=Dp){let d=o.length>=Dp?o.slice(c,c+Dp):o,l=[];for(let p=0;p<d.length;++p){let m=d.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===Np&&(m===40||m===41)){l[l.length]=d.charAt(p);continue}if(m<128){l[l.length]=Kt[m];continue}if(m<2048){l[l.length]=Kt[192|m>>6]+Kt[128|m&63];continue}if(m<55296||m>=57344){l[l.length]=Kt[224|m>>12]+Kt[128|m>>6&63]+Kt[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|d.charCodeAt(p)&1023),l[l.length]=Kt[240|m>>18]+Kt[128|m>>12&63]+Kt[128|m>>6&63]+Kt[128|m&63]}a+=l.join("")}return a};function Dy(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function kp(e,t){if(ze(e)){let r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}var My={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Ly=function(e,t){Array.prototype.push.apply(e,ze(t)?t:[t])},ky,Te={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ny,encodeValuesOnly:!1,format:Ec,formatter:Tp,indices:!1,serializeDate(e){return(ky??(ky=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function kL(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}var Mp={};function jy(e,t,r,n,s,o,a,c,d,l,p,m,h,f,y,_,b,P){let C=e,q=P,F=0,$=!1;for(;(q=q.get(Mp))!==void 0&&!$;){let W=q.get(e);if(F+=1,typeof W<"u"){if(W===F)throw new RangeError("Cyclic object value");$=!0}typeof q.get(Mp)>"u"&&(F=0)}if(typeof l=="function"?C=l(t,C):C instanceof Date?C=h?.(C):r==="comma"&&ze(C)&&(C=kp(C,function(W){return W instanceof Date?h?.(W):W})),C===null){if(o)return d&&!_?d(t,Te.encoder,b,"key",f):t;C=""}if(kL(C)||Dy(C)){if(d){let W=_?t:d(t,Te.encoder,b,"key",f);return[y?.(W)+"="+y?.(d(C,Te.encoder,b,"value",f))]}return[y?.(t)+"="+y?.(String(C))]}let G=[];if(typeof C>"u")return G;let ie;if(r==="comma"&&ze(C))_&&d&&(C=kp(C,d)),ie=[{value:C.length>0?C.join(",")||null:void 0}];else if(ze(l))ie=l;else{let W=Object.keys(C);ie=p?W.sort(p):W}let ee=c?String(t).replace(/\./g,"%2E"):String(t),ae=n&&ze(C)&&C.length===1?ee+"[]":ee;if(s&&ze(C)&&C.length===0)return ae+"[]";for(let W=0;W<ie.length;++W){let ce=ie[W],_c=typeof ce=="object"&&typeof ce.value<"u"?ce.value:C[ce];if(a&&_c===null)continue;let xp=m&&c?ce.replace(/\./g,"%2E"):ce,vL=ze(C)?typeof r=="function"?r(ae,xp):ae:ae+(m?"."+xp:"["+xp+"]");P.set(e,F);let gy=new WeakMap;gy.set(Mp,P),Ly(G,jy(_c,vL,r,n,s,o,a,c,r==="comma"&&_&&ze(C)?null:d,l,p,m,h,f,y,_,b,gy))}return G}function ML(e=Te){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");let t=e.charset||Te.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Ec;if(typeof e.format<"u"){if(!bc(vc,e.format))throw new TypeError("Unknown format option provided.");r=e.format}let n=vc[r],s=Te.filter;(typeof e.filter=="function"||ze(e.filter))&&(s=e.filter);let o;if(e.arrayFormat&&e.arrayFormat in My?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Te.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Te.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Te.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Te.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Te.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Te.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Te.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Te.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Te.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Te.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Te.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Te.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Te.strictNullHandling}}function Lp(e,t={}){let r=e,n=ML(t),s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):ze(n.filter)&&(o=n.filter,s=o);let a=[];if(typeof r!="object"||r===null)return"";let c=My[n.arrayFormat],d=c==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);let l=new WeakMap;for(let h=0;h<s.length;++h){let f=s[h];n.skipNulls&&r[f]===null||Ly(a,jy(r[f],f,c,d,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let p=a.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""}function $y(e){let t=0;for(let s of e)t+=s.length;let r=new Uint8Array(t),n=0;for(let s of e)r.set(s,n),n+=s.length;return r}var Fy;function Ys(e){let t;return(Fy??(t=new globalThis.TextEncoder,Fy=t.encode.bind(t)))(e)}var Uy;function jp(e){let t;return(Uy??(t=new globalThis.TextDecoder,Uy=t.decode.bind(t)))(e)}var ft,ht,Ln=class{constructor(){ft.set(this,void 0),ht.set(this,void 0),V(this,ft,new Uint8Array,"f"),V(this,ht,null,"f")}decode(t){if(t==null)return[];let r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ys(t):t;V(this,ft,$y([E(this,ft,"f"),r]),"f");let n=[],s;for(;(s=jL(E(this,ft,"f"),E(this,ht,"f")))!=null;){if(s.carriage&&E(this,ht,"f")==null){V(this,ht,s.index,"f");continue}if(E(this,ht,"f")!=null&&(s.index!==E(this,ht,"f")+1||s.carriage)){n.push(jp(E(this,ft,"f").subarray(0,E(this,ht,"f")-1))),V(this,ft,E(this,ft,"f").subarray(E(this,ht,"f")),"f"),V(this,ht,null,"f");continue}let o=E(this,ht,"f")!==null?s.preceding-1:s.preceding,a=jp(E(this,ft,"f").subarray(0,o));n.push(a),V(this,ft,E(this,ft,"f").subarray(s.index),"f"),V(this,ht,null,"f")}return n}flush(){return E(this,ft,"f").length?this.decode(`
`):[]}};ft=new WeakMap,ht=new WeakMap;Ln.NEWLINE_CHARS=new Set([`
`,"\r"]);Ln.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function jL(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function By(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}var wc={off:0,error:200,warn:300,info:400,debug:500},Fp=(e,t,r)=>{if(e){if(vy(wc,e))return e;Ce(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(wc))}`)}};function Ci(){}function Cc(e,t,r){return!t||wc[e]>wc[r]?Ci:t[e].bind(t)}var FL={error:Ci,warn:Ci,info:Ci,debug:Ci},Hy=new WeakMap;function Ce(e){let t=e.logger,r=e.logLevel??"off";if(!t)return FL;let n=Hy.get(t);if(n&&n[0]===r)return n[1];let s={error:Cc("error",t,r),warn:Cc("warn",t,r),info:Cc("info",t,r),debug:Cc("debug",t,r)};return Hy.set(t,[r,s]),s}var _r=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var wi,Yt=class e{constructor(t,r,n){this.iterator=t,wi.set(this,void 0),this.controller=r,V(this,wi,n,"f")}static fromSSEResponse(t,r,n){let s=!1,o=n?Ce(n):console;async function*a(){if(s)throw new B("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(let d of UL(t,r))if(!c){if(d.data.startsWith("[DONE]")){c=!0;continue}if(d.event===null||!d.event.startsWith("thread.")){let l;try{l=JSON.parse(d.data)}catch(p){throw o.error("Could not parse message into JSON:",d.data),o.error("From chunk:",d.raw),p}if(l&&l.error)throw new Re(void 0,l.error,void 0,t.headers);yield l}else{let l;try{l=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(d.event=="error")throw new Re(void 0,l.error,l.message,void 0);yield{event:d.event,data:l}}}c=!0}catch(d){if(Ei(d))return;throw d}finally{c||r.abort()}}return new e(a,r,n)}static fromReadableStream(t,r,n){let s=!1;async function*o(){let c=new Ln,d=Rp(t);for await(let l of d)for(let p of c.decode(l))yield p;for(let l of c.flush())yield l}async function*a(){if(s)throw new B("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(let d of o())c||d&&(yield JSON.parse(d));c=!0}catch(d){if(Ei(d))return;throw d}finally{c||r.abort()}}return new e(a,r,n)}[(wi=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let t=[],r=[],n=this.iterator(),s=o=>({next:()=>{if(o.length===0){let a=n.next();t.push(a),r.push(a)}return o.shift()}});return[new e(()=>s(t),this.controller,E(this,wi,"f")),new e(()=>s(r),this.controller,E(this,wi,"f"))]}toReadableStream(){let t=this,r;return Ip({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{let{value:s,done:o}=await r.next();if(o)return n.close();let a=Ys(JSON.stringify(s)+`
`);n.enqueue(a)}catch(s){n.error(s)}},async cancel(){await r.return?.()}})}};async function*UL(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new B("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new B("Attempted to iterate over a response with no body");let r=new Up,n=new Ln,s=Rp(e.body);for await(let o of $L(s))for(let a of n.decode(o)){let c=r.decode(a);c&&(yield c)}for(let o of n.flush()){let a=r.decode(o);a&&(yield a)}}async function*$L(e){let t=new Uint8Array;for await(let r of e){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?Ys(r):r,s=new Uint8Array(t.length+n.length);s.set(t),s.set(n,t.length),t=s;let o;for(;(o=By(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}var Up=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,s]=BL(t,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}};function BL(e,t){let r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function Pc(e,t){let{response:r,requestLogID:n,retryOfRequestLogID:s,startTime:o}=t,a=await(async()=>{if(t.options.stream)return Ce(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Yt.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;let d=r.headers.get("content-type")?.split(";")[0]?.trim();if(d?.includes("application/json")||d?.endsWith("+json")){let m=await r.json();return $p(m,r)}return await r.text()})();return Ce(e).debug(`[${n}] response parsed`,_r({retryOfRequestLogID:s,url:r.url,status:r.status,body:a,durationMs:Date.now()-o})),a}function $p(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Pi,jn=class e extends Promise{constructor(t,r,n=Pc){super(s=>{s(null)}),this.responsePromise=r,this.parseResponse=n,Pi.set(this,void 0),V(this,Pi,t,"f")}_thenUnwrap(t){return new e(E(this,Pi,"f"),this.responsePromise,async(r,n)=>$p(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(E(this,Pi,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};Pi=new WeakMap;var xc,Ac=class{constructor(t,r,n,s){xc.set(this,void 0),V(this,xc,t,"f"),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let t=this.nextPageRequestOptions();if(!t)throw new B("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await E(this,xc,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(xc=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let r of t.getPaginatedItems())yield r}},xi=class extends jn{constructor(t,r,n){super(t,r,async(s,o)=>new n(s,o.response,await Pc(s,o),o.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let r of t)yield r}},Xt=class extends Ac{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},X=class extends Ac{constructor(t,r,n,s){super(t,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{...Sy(this.options.query),after:r}}:null}};var Hp=()=>{if(typeof File>"u"){let{process:e}=globalThis,t=typeof e?.versions?.node=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xs(e,t,r){return Hp(),new File(e,t??"unknown_file",r)}function Ai(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}var qp=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";var gt=async(e,t)=>({...e,body:await VL(e.body,t)}),qy=new WeakMap;function qL(e){let t=typeof e=="function"?e:e.fetch,r=qy.get(t);if(r)return r;let n=(async()=>{try{let s="Response"in t?t.Response:(await t("data:,")).constructor,o=new FormData;return o.toString()!==await new s(o).text()}catch{return!0}})();return qy.set(t,n),n}var VL=async(e,t)=>{if(!await qL(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,s])=>Bp(r,n,s))),r},zL=e=>e instanceof Blob&&"name"in e;var Bp=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,Xs([await r.blob()],Ai(r)));else if(qp(r))e.append(t,Xs([await new Response(Sc(r)).blob()],Ai(r)));else if(zL(r))e.append(t,r,Ai(r));else if(Array.isArray(r))await Promise.all(r.map(n=>Bp(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>Bp(e,`${t}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var Vy=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",GL=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Vy(e),WL=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Oc(e,t,r){if(Hp(),e=await e,GL(e))return e instanceof File?e:Xs([await e.arrayBuffer()],e.name);if(WL(e)){let s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Xs(await Vp(s),t,r)}let n=await Vp(e);if(t||(t=Ai(e)),!r?.type){let s=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(r={...r,type:s})}return Xs(n,t,r)}async function Vp(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Vy(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(qp(e))for await(let r of e)t.push(...await Vp(r));else{let r=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${JL(e)}`)}return t}function JL(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}var O=class{constructor(t){this._client=t}};function Gy(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var zy=Object.freeze(Object.create(null)),YL=(e=Gy)=>function(r,...n){if(r.length===1)return r[0];let s=!1,o=[],a=r.reduce((p,m,h)=>{/[?#]/.test(m)&&(s=!0);let f=n[h],y=(s?encodeURIComponent:e)(""+f);return h!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??zy)??zy)?.toString)&&(y=f+"",o.push({start:p.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),p+m+(h===n.length?"":y)},""),c=a.split(/[?#]/,1)[0],d=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=d.exec(c))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((p,m)=>p.start-m.start),o.length>0){let p=0,m=o.reduce((h,f)=>{let y=" ".repeat(f.start-p),_="^".repeat(f.length);return p=f.start+f.length,h+y+_},"");throw new B(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${m}`)}return a},x=YL(Gy);var Fn=class extends O{list(t,r={},n){return this._client.getAPIList(x`/chat/completions/${t}/messages`,X,{query:r,...n})}};function Oi(e){return e!==void 0&&"function"in e&&e.function!==void 0}function Ii(e){return e?.$brand==="auto-parseable-response-format"}function Un(e){return e?.$brand==="auto-parseable-tool"}function Wy(e,t){return!t||!zp(t)?{...e,choices:e.choices.map(r=>(Ky(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:Ri(e,t)}function Ri(e,t){let r=e.choices.map(n=>{if(n.finish_reason==="length")throw new Js;if(n.finish_reason==="content_filter")throw new Ks;return Ky(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(s=>ej(t,s))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?ZL(t,n.message.content):null}}});return{...e,choices:r}}function ZL(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function ej(e,t){let r=e.tools?.find(n=>Oi(n)&&n.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:Un(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function Jy(e,t){if(!e||!("tools"in e)||!e.tools)return!1;let r=e.tools?.find(n=>Oi(n)&&n.function?.name===t.function.name);return Oi(r)&&(Un(r)||r?.function.strict||!1)}function zp(e){return Ii(e.response_format)?!0:e.tools?.some(t=>Un(t)||t.type==="function"&&t.function.strict===!0)??!1}function Ky(e){for(let t of e||[])if(t.type!=="function")throw new B(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function Yy(e){for(let t of e??[]){if(t.type!=="function")throw new B(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new B(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Qs=e=>e?.role==="assistant",Gp=e=>e?.role==="tool";var Wp,Ic,Rc,Ti,Ni,Tc,Di,yr,ki,Nc,Dc,Zs,Xy,zr=class{constructor(){Wp.add(this),this.controller=new AbortController,Ic.set(this,void 0),Rc.set(this,()=>{}),Ti.set(this,()=>{}),Ni.set(this,void 0),Tc.set(this,()=>{}),Di.set(this,()=>{}),yr.set(this,{}),ki.set(this,!1),Nc.set(this,!1),Dc.set(this,!1),Zs.set(this,!1),V(this,Ic,new Promise((t,r)=>{V(this,Rc,t,"f"),V(this,Ti,r,"f")}),"f"),V(this,Ni,new Promise((t,r)=>{V(this,Tc,t,"f"),V(this,Di,r,"f")}),"f"),E(this,Ic,"f").catch(()=>{}),E(this,Ni,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},E(this,Wp,"m",Xy).bind(this))},0)}_connected(){this.ended||(E(this,Rc,"f").call(this),this._emit("connect"))}get ended(){return E(this,ki,"f")}get errored(){return E(this,Nc,"f")}get aborted(){return E(this,Dc,"f")}abort(){this.controller.abort()}on(t,r){return(E(this,yr,"f")[t]||(E(this,yr,"f")[t]=[])).push({listener:r}),this}off(t,r){let n=E(this,yr,"f")[t];if(!n)return this;let s=n.findIndex(o=>o.listener===r);return s>=0&&n.splice(s,1),this}once(t,r){return(E(this,yr,"f")[t]||(E(this,yr,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{V(this,Zs,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){V(this,Zs,!0,"f"),await E(this,Ni,"f")}_emit(t,...r){if(E(this,ki,"f"))return;t==="end"&&(V(this,ki,!0,"f"),E(this,Tc,"f").call(this));let n=E(this,yr,"f")[t];if(n&&(E(this,yr,"f")[t]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),t==="abort"){let s=r[0];!E(this,Zs,"f")&&!n?.length&&Promise.reject(s),E(this,Ti,"f").call(this,s),E(this,Di,"f").call(this,s),this._emit("end");return}if(t==="error"){let s=r[0];!E(this,Zs,"f")&&!n?.length&&Promise.reject(s),E(this,Ti,"f").call(this,s),E(this,Di,"f").call(this,s),this._emit("end")}}_emitFinal(){}};Ic=new WeakMap,Rc=new WeakMap,Ti=new WeakMap,Ni=new WeakMap,Tc=new WeakMap,Di=new WeakMap,yr=new WeakMap,ki=new WeakMap,Nc=new WeakMap,Dc=new WeakMap,Zs=new WeakMap,Wp=new WeakSet,Xy=function(t){if(V(this,Nc,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new xe),t instanceof xe)return V(this,Dc,!0,"f"),this._emit("abort",t);if(t instanceof B)return this._emit("error",t);if(t instanceof Error){let r=new B(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new B(String(t)))};function Qy(e){return typeof e.parse=="function"}var Ke,Jp,kc,Kp,Yp,Xp,Zy,eS,tj=10,eo=class extends zr{constructor(){super(...arguments),Ke.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);let r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),Gp(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Qs(t)&&t.tool_calls)for(let n of t.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();let t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new B("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),E(this,Ke,"m",Jp).call(this)}async finalMessage(){return await this.done(),E(this,Ke,"m",kc).call(this)}async finalFunctionToolCall(){return await this.done(),E(this,Ke,"m",Kp).call(this)}async finalFunctionToolCallResult(){return await this.done(),E(this,Ke,"m",Yp).call(this)}async totalUsage(){return await this.done(),E(this,Ke,"m",Xp).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);let r=E(this,Ke,"m",kc).call(this);r&&this._emit("finalMessage",r);let n=E(this,Ke,"m",Jp).call(this);n&&this._emit("finalContent",n);let s=E(this,Ke,"m",Kp).call(this);s&&this._emit("finalFunctionToolCall",s);let o=E(this,Ke,"m",Yp).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",E(this,Ke,"m",Xp).call(this))}async _createChatCompletion(t,r,n){let s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),E(this,Ke,"m",Zy).call(this,r);let o=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ri(o,r))}async _runChatCompletion(t,r,n){for(let s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,r,n)}async _runTools(t,r,n){let s="tool",{tool_choice:o="auto",stream:a,...c}=r,d=typeof o!="string"&&o.type==="function"&&o?.function?.name,{maxChatCompletions:l=tj}=n||{},p=r.tools.map(f=>{if(Un(f)){if(!f.$callback)throw new B("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),m={};for(let f of p)f.type==="function"&&(m[f.function.name||f.function.function.name]=f.function);let h="tools"in r?p.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(let f of r.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let _=(await this._createChatCompletion(t,{...c,tool_choice:o,tools:h,messages:[...this.messages]},n)).choices[0]?.message;if(!_)throw new B("missing message in ChatCompletion response");if(!_.tool_calls?.length)return;for(let b of _.tool_calls){if(b.type!=="function")continue;let P=b.id,{name:C,arguments:q}=b.function,F=m[C];if(F){if(d&&d!==C){let ee=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:s,tool_call_id:P,content:ee});continue}}else{let ee=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(m).map(ae=>JSON.stringify(ae)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:P,content:ee});continue}let $;try{$=Qy(F)?await F.parse(q):q}catch(ee){let ae=ee instanceof Error?ee.message:String(ee);this._addMessage({role:s,tool_call_id:P,content:ae});continue}let G=await F.function($,this),ie=E(this,Ke,"m",eS).call(this,G);if(this._addMessage({role:s,tool_call_id:P,content:ie}),d)return}}}};Ke=new WeakSet,Jp=function(){return E(this,Ke,"m",kc).call(this).content??null},kc=function(){let t=this.messages.length;for(;t-- >0;){let r=this.messages[t];if(Qs(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new B("stream ended without producing a ChatCompletionMessage with role=assistant")},Kp=function(){for(let t=this.messages.length-1;t>=0;t--){let r=this.messages[t];if(Qs(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Yp=function(){for(let t=this.messages.length-1;t>=0;t--){let r=this.messages[t];if(Gp(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(s=>s.type==="function"&&s.id===r.tool_call_id)))return r.content}},Xp=function(){let t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},Zy=function(t){if(t.n!=null&&t.n>1)throw new B("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},eS=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};var Mi=class e extends eo{static runTools(t,r,n){let s=new e,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,o)),s}_addMessage(t,r=!0){super._addMessage(t,r),Qs(t)&&t.content&&this._emit("content",t.content)}};var De={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},Qp=class extends Error{},Zp=class extends Error{};function rj(e,t=De.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return nj(e.trim(),t)}var nj=(e,t)=>{let r=e.length,n=0,s=h=>{throw new Qp(`${h} at position ${n}`)},o=h=>{throw new Zp(`${h} at position ${n}`)},a=()=>(m(),n>=r&&s("Unexpected end of input"),e[n]==='"'?c():e[n]==="{"?d():e[n]==="["?l():e.substring(n,n+4)==="null"||De.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||De.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||De.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||De.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||De.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||De.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):p()),c=()=>{let h=n,f=!1;for(n++;n<r&&(e[n]!=='"'||f&&e[n-1]==="\\");)f=e[n]==="\\"?!f:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(h,++n-Number(f)))}catch(y){o(String(y))}else if(De.STR&t)try{return JSON.parse(e.substring(h,n-Number(f))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},d=()=>{n++,m();let h={};try{for(;e[n]!=="}";){if(m(),n>=r&&De.OBJ&t)return h;let f=c();m(),n++;try{let y=a();Object.defineProperty(h,f,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(De.OBJ&t)return h;throw y}m(),e[n]===","&&n++}}catch{if(De.OBJ&t)return h;s("Expected '}' at end of object")}return n++,h},l=()=>{n++;let h=[];try{for(;e[n]!=="]";)h.push(a()),m(),e[n]===","&&n++}catch{if(De.ARR&t)return h;s("Expected ']' at end of array")}return n++,h},p=()=>{if(n===0){e==="-"&&De.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(De.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}o(String(f))}}let h=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(De.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,n))}catch{e.substring(h,n)==="-"&&De.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(y){o(String(y))}}},m=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},em=e=>rj(e,De.ALL^De.NUM);var Ne,Sr,to,Gr,tm,Mc,rm,nm,sm,Lc,om,tS,$n=class e extends eo{constructor(t){super(),Ne.add(this),Sr.set(this,void 0),to.set(this,void 0),Gr.set(this,void 0),V(this,Sr,t,"f"),V(this,to,[],"f")}get currentChatCompletionSnapshot(){return E(this,Gr,"f")}static fromReadableStream(t){let r=new e(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){let s=new e(r);return s._run(()=>s._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,r,n){super._createChatCompletion;let s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),E(this,Ne,"m",tm).call(this);let o=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of o)E(this,Ne,"m",rm).call(this,a);if(o.controller.signal?.aborted)throw new xe;return this._addChatCompletion(E(this,Ne,"m",Lc).call(this))}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),E(this,Ne,"m",tm).call(this),this._connected();let s=Yt.fromReadableStream(t,this.controller),o;for await(let a of s)o&&o!==a.id&&this._addChatCompletion(E(this,Ne,"m",Lc).call(this)),E(this,Ne,"m",rm).call(this,a),o=a.id;if(s.controller.signal?.aborted)throw new xe;return this._addChatCompletion(E(this,Ne,"m",Lc).call(this))}[(Sr=new WeakMap,to=new WeakMap,Gr=new WeakMap,Ne=new WeakSet,tm=function(){this.ended||V(this,Gr,void 0,"f")},Mc=function(r){let n=E(this,to,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},E(this,to,"f")[r.index]=n,n)},rm=function(r){if(this.ended)return;let n=E(this,Ne,"m",tS).call(this,r);this._emit("chunk",r,n);for(let s of r.choices){let o=n.choices[s.index];s.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",s.delta.content,o.message.content),this._emit("content.delta",{delta:s.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),s.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:s.delta.refusal,snapshot:o.message.refusal}),s.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:s.logprobs?.content,snapshot:o.logprobs?.content??[]}),s.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:s.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});let a=E(this,Ne,"m",Mc).call(this,o);o.finish_reason&&(E(this,Ne,"m",sm).call(this,o),a.current_tool_call_index!=null&&E(this,Ne,"m",nm).call(this,o,a.current_tool_call_index));for(let c of s.delta.tool_calls??[])a.current_tool_call_index!==c.index&&(E(this,Ne,"m",sm).call(this,o),a.current_tool_call_index!=null&&E(this,Ne,"m",nm).call(this,o,a.current_tool_call_index)),a.current_tool_call_index=c.index;for(let c of s.delta.tool_calls??[]){let d=o.message.tool_calls?.[c.index];d?.type&&(d?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:d.function?.name,index:c.index,arguments:d.function.arguments,parsed_arguments:d.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(d?.type,void 0))}}},nm=function(r,n){if(E(this,Ne,"m",Mc).call(this,r).done_tool_calls.has(n))return;let o=r.message.tool_calls?.[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){let a=E(this,Sr,"f")?.tools?.find(c=>Oi(c)&&c.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:Un(a)?a.$parseRaw(o.function.arguments):a?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},sm=function(r){let n=E(this,Ne,"m",Mc).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let s=E(this,Ne,"m",om).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Lc=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");let r=E(this,Gr,"f");if(!r)throw new B("request ended without sending any chunks");return V(this,Gr,void 0,"f"),V(this,to,[],"f"),sj(r,E(this,Sr,"f"))},om=function(){let r=E(this,Sr,"f")?.response_format;return Ii(r)?r:null},tS=function(r){var n,s,o,a;let c=E(this,Gr,"f"),{choices:d,...l}=r;c?Object.assign(c,l):c=V(this,Gr,{...l,choices:[]},"f");for(let{delta:p,finish_reason:m,index:h,logprobs:f=null,...y}of r.choices){let _=c.choices[h];if(_||(_=c.choices[h]={finish_reason:m,index:h,message:{},logprobs:f,...y}),f)if(!_.logprobs)_.logprobs=Object.assign({},f);else{let{content:G,refusal:ie,...ee}=f;Object.assign(_.logprobs,ee),G&&((n=_.logprobs).content??(n.content=[]),_.logprobs.content.push(...G)),ie&&((s=_.logprobs).refusal??(s.refusal=[]),_.logprobs.refusal.push(...ie))}if(m&&(_.finish_reason=m,E(this,Sr,"f")&&zp(E(this,Sr,"f")))){if(m==="length")throw new Js;if(m==="content_filter")throw new Ks}if(Object.assign(_,y),!p)continue;let{content:b,refusal:P,function_call:C,role:q,tool_calls:F,...$}=p;if(Object.assign(_.message,$),P&&(_.message.refusal=(_.message.refusal||"")+P),q&&(_.message.role=q),C&&(_.message.function_call?(C.name&&(_.message.function_call.name=C.name),C.arguments&&((o=_.message.function_call).arguments??(o.arguments=""),_.message.function_call.arguments+=C.arguments)):_.message.function_call=C),b&&(_.message.content=(_.message.content||"")+b,!_.message.refusal&&E(this,Ne,"m",om).call(this)&&(_.message.parsed=em(_.message.content))),F){_.message.tool_calls||(_.message.tool_calls=[]);for(let{index:G,id:ie,type:ee,function:ae,...W}of F){let ce=(a=_.message.tool_calls)[G]??(a[G]={});Object.assign(ce,W),ie&&(ce.id=ie),ee&&(ce.type=ee),ae&&(ce.function??(ce.function={name:ae.name??"",arguments:""})),ae?.name&&(ce.function.name=ae.name),ae?.arguments&&(ce.function.arguments+=ae.arguments,Jy(E(this,Sr,"f"),ce)&&(ce.function.parsed_arguments=em(ce.function.arguments)))}}}return c},Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("chunk",s=>{let o=r.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(let s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function sj(e,t){let{id:r,choices:n,created:s,model:o,system_fingerprint:a,...c}=e,d={...c,id:r,choices:n.map(({message:l,finish_reason:p,index:m,logprobs:h,...f})=>{if(!p)throw new B(`missing finish_reason for choice ${m}`);let{content:y=null,function_call:_,tool_calls:b,...P}=l,C=l.role;if(!C)throw new B(`missing role for choice ${m}`);if(_){let{arguments:q,name:F}=_;if(q==null)throw new B(`missing function_call.arguments for choice ${m}`);if(!F)throw new B(`missing function_call.name for choice ${m}`);return{...f,message:{content:y,function_call:{arguments:q,name:F},role:C,refusal:l.refusal??null},finish_reason:p,index:m,logprobs:h}}return b?{...f,index:m,finish_reason:p,logprobs:h,message:{...P,role:C,content:y,refusal:l.refusal??null,tool_calls:b.map((q,F)=>{let{function:$,type:G,id:ie,...ee}=q,{arguments:ae,name:W,...ce}=$||{};if(ie==null)throw new B(`missing choices[${m}].tool_calls[${F}].id
${jc(e)}`);if(G==null)throw new B(`missing choices[${m}].tool_calls[${F}].type
${jc(e)}`);if(W==null)throw new B(`missing choices[${m}].tool_calls[${F}].function.name
${jc(e)}`);if(ae==null)throw new B(`missing choices[${m}].tool_calls[${F}].function.arguments
${jc(e)}`);return{...ee,id:ie,type:G,function:{...ce,name:W,arguments:ae}}})}}:{...f,message:{...P,content:y,role:C,refusal:l.refusal??null},finish_reason:p,index:m,logprobs:h}}),created:s,model:o,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Wy(d,t)}function jc(e){return JSON.stringify(e)}var Li=class e extends $n{static fromReadableStream(t){let r=new e(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,n){let s=new e(r),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,r,o)),s}};var Er=class extends O{constructor(){super(...arguments),this.messages=new Fn(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(x`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(x`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/chat/completions",X,{query:t,...r})}delete(t,r){return this._client.delete(x`/chat/completions/${t}`,r)}parse(t,r){return Yy(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>Ri(n,t))}runTools(t,r){return t.stream?Li.runTools(this._client,t,r):Mi.runTools(this._client,t,r)}stream(t,r){return $n.createChatCompletion(this._client,t,r)}};Er.Messages=Fn;var Wr=class extends O{constructor(){super(...arguments),this.completions=new Er(this._client)}};Wr.Completions=Er;var rS=Symbol("brand.privateNullableHeaders");function*ij(e){if(!e)return;if(rS in e){let{values:n,nulls:s}=e;yield*n.entries();for(let o of s)yield[o,null];return}let t=!1,r;e instanceof Headers?r=e.entries():Op(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){let s=n[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");let o=Op(n[1])?n[1]:[n[1]],a=!1;for(let c of o)c!==void 0&&(t&&!a&&(a=!0,yield[s,null]),yield[s,c])}}var j=e=>{let t=new Headers,r=new Set;for(let n of e){let s=new Set;for(let[o,a]of ij(n)){let c=o.toLowerCase();s.has(c)||(t.delete(o),s.add(c)),a===null?(t.delete(o),r.add(c)):(t.append(o,a),r.delete(c))}}return{[rS]:!0,values:t,nulls:r}};var ro=class extends O{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:j([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}};var no=class extends O{create(t,r){return this._client.post("/audio/transcriptions",gt({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}};var so=class extends O{create(t,r){return this._client.post("/audio/translations",gt({body:t,...r,__metadata:{model:t.model}},this._client))}};var Qt=class extends O{constructor(){super(...arguments),this.transcriptions=new no(this._client),this.translations=new so(this._client),this.speech=new ro(this._client)}};Qt.Transcriptions=no;Qt.Translations=so;Qt.Speech=ro;var Bn=class extends O{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(x`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",X,{query:t,...r})}cancel(t,r){return this._client.post(x`/batches/${t}/cancel`,r)}};var oo=class extends O{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(x`/assistants/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(x`/assistants/${t}`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/assistants",X,{query:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(x`/assistants/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var io=class extends O{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var ao=class extends O{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var Jr=class extends O{constructor(){super(...arguments),this.sessions=new io(this._client),this.transcriptionSessions=new ao(this._client)}};Jr.Sessions=io;Jr.TranscriptionSessions=ao;var co=class extends O{create(t,r,n){return this._client.post(x`/threads/${t}/messages`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){let{thread_id:s}=r;return this._client.get(x`/threads/${s}/messages/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){let{thread_id:s,...o}=r;return this._client.post(x`/threads/${s}/messages/${t}`,{body:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(x`/threads/${t}/messages`,X,{query:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){let{thread_id:s}=r;return this._client.delete(x`/threads/${s}/messages/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var lo=class extends O{retrieve(t,r,n){let{thread_id:s,run_id:o,...a}=r;return this._client.get(x`/threads/${s}/runs/${o}/steps/${t}`,{query:a,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r,n){let{thread_id:s,...o}=r;return this._client.getAPIList(x`/threads/${s}/runs/${t}/steps`,X,{query:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var nS=e=>{if(typeof Buffer<"u"){let t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{let t=atob(e),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};var Kr=e=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[e]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(e)?.trim()};var Fe,qn,im,Zt,Fc,Ft,Vn,uo,Hn,Bc,_t,Uc,$c,Ui,ji,Fi,sS,oS,iS,aS,cS,dS,lS,vr=class extends zr{constructor(){super(...arguments),Fe.add(this),im.set(this,[]),Zt.set(this,{}),Fc.set(this,{}),Ft.set(this,void 0),Vn.set(this,void 0),uo.set(this,void 0),Hn.set(this,void 0),Bc.set(this,void 0),_t.set(this,void 0),Uc.set(this,void 0),$c.set(this,void 0),Ui.set(this,void 0)}[(im=new WeakMap,Zt=new WeakMap,Fc=new WeakMap,Ft=new WeakMap,Vn=new WeakMap,uo=new WeakMap,Hn=new WeakMap,Bc=new WeakMap,_t=new WeakMap,Uc=new WeakMap,$c=new WeakMap,Ui=new WeakMap,Fe=new WeakSet,Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("event",s=>{let o=r.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(let s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){let r=new qn;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let s=Yt.fromReadableStream(t,this.controller);for await(let o of s)E(this,Fe,"m",ji).call(this,o);if(s.controller.signal?.aborted)throw new xe;return this._addRun(E(this,Fe,"m",Fi).call(this))}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,s){let o=new qn;return o._run(()=>o._runToolAssistantStream(t,r,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,r,n,s){let o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},c=await t.submitToolOutputs(r,a,{...s,signal:this.controller.signal});this._connected();for await(let d of c)E(this,Fe,"m",ji).call(this,d);if(c.controller.signal?.aborted)throw new xe;return this._addRun(E(this,Fe,"m",Fi).call(this))}static createThreadAssistantStream(t,r,n){let s=new qn;return s._run(()=>s._threadAssistantStream(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,r,n,s){let o=new qn;return o._run(()=>o._runAssistantStream(t,r,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return E(this,Uc,"f")}currentRun(){return E(this,$c,"f")}currentMessageSnapshot(){return E(this,Ft,"f")}currentRunStepSnapshot(){return E(this,Ui,"f")}async finalRunSteps(){return await this.done(),Object.values(E(this,Zt,"f"))}async finalMessages(){return await this.done(),Object.values(E(this,Fc,"f"))}async finalRun(){if(await this.done(),!E(this,Vn,"f"))throw Error("Final run was not received.");return E(this,Vn,"f")}async _createThreadAssistantStream(t,r,n){let s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));let o={...r,stream:!0},a=await t.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(let c of a)E(this,Fe,"m",ji).call(this,c);if(a.controller.signal?.aborted)throw new xe;return this._addRun(E(this,Fe,"m",Fi).call(this))}async _createAssistantStream(t,r,n,s){let o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},c=await t.create(r,a,{...s,signal:this.controller.signal});this._connected();for await(let d of c)E(this,Fe,"m",ji).call(this,d);if(c.controller.signal?.aborted)throw new xe;return this._addRun(E(this,Fe,"m",Fi).call(this))}static accumulateDelta(t,r){for(let[n,s]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=s;continue}let o=t[n];if(o==null){t[n]=s;continue}if(n==="index"||n==="type"){t[n]=s;continue}if(typeof o=="string"&&typeof s=="string")o+=s;else if(typeof o=="number"&&typeof s=="number")o+=s;else if(bi(o)&&bi(s))o=this.accumulateDelta(o,s);else if(Array.isArray(o)&&Array.isArray(s)){if(o.every(a=>typeof a=="string"||typeof a=="number")){o.push(...s);continue}for(let a of s){if(!bi(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);let c=a.index;if(c==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);let d=o[c];d==null?o.push(a):o[c]=this.accumulateDelta(d,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${o}`);t[n]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,s){return await this._createAssistantStream(r,t,n,s)}async _runToolAssistantStream(t,r,n,s){return await this._createToolAssistantStream(r,t,n,s)}};qn=vr,ji=function(t){if(!this.ended)switch(V(this,Uc,t,"f"),E(this,Fe,"m",iS).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":E(this,Fe,"m",lS).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":E(this,Fe,"m",oS).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":E(this,Fe,"m",sS).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},Fi=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");if(!E(this,Vn,"f"))throw Error("Final run has not been received");return E(this,Vn,"f")},sS=function(t){let[r,n]=E(this,Fe,"m",cS).call(this,t,E(this,Ft,"f"));V(this,Ft,r,"f"),E(this,Fc,"f")[r.id]=r;for(let s of n){let o=r.content[s.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(let s of t.data.delta.content){if(s.type=="text"&&s.text){let o=s.text,a=r.content[s.index];if(a&&a.type=="text")this._emit("textDelta",o,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=E(this,uo,"f")){if(E(this,Hn,"f"))switch(E(this,Hn,"f").type){case"text":this._emit("textDone",E(this,Hn,"f").text,E(this,Ft,"f"));break;case"image_file":this._emit("imageFileDone",E(this,Hn,"f").image_file,E(this,Ft,"f"));break}V(this,uo,s.index,"f")}V(this,Hn,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(E(this,uo,"f")!==void 0){let s=t.data.content[E(this,uo,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,E(this,Ft,"f"));break;case"text":this._emit("textDone",s.text,E(this,Ft,"f"));break}}E(this,Ft,"f")&&this._emit("messageDone",t.data),V(this,Ft,void 0,"f")}},oS=function(t){let r=E(this,Fe,"m",aS).call(this,t);switch(V(this,Ui,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":let n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let o of n.step_details.tool_calls)o.index==E(this,Bc,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(E(this,_t,"f")&&this._emit("toolCallDone",E(this,_t,"f")),V(this,Bc,o.index,"f"),V(this,_t,r.step_details.tool_calls[o.index],"f"),E(this,_t,"f")&&this._emit("toolCallCreated",E(this,_t,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ui,void 0,"f"),t.data.step_details.type=="tool_calls"&&E(this,_t,"f")&&(this._emit("toolCallDone",E(this,_t,"f")),V(this,_t,void 0,"f")),this._emit("runStepDone",t.data,r);break;case"thread.run.step.in_progress":break}},iS=function(t){E(this,im,"f").push(t),this._emit("event",t)},aS=function(t){switch(t.event){case"thread.run.step.created":return E(this,Zt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=E(this,Zt,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){let s=qn.accumulateDelta(r,n.delta);E(this,Zt,"f")[t.data.id]=s}return E(this,Zt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":E(this,Zt,"f")[t.data.id]=t.data;break}if(E(this,Zt,"f")[t.data.id])return E(this,Zt,"f")[t.data.id];throw new Error("No snapshot available")},cS=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(let o of s.delta.content)if(o.index in r.content){let a=r.content[o.index];r.content[o.index]=E(this,Fe,"m",dS).call(this,o,a)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},dS=function(t,r){return qn.accumulateDelta(r,t)},lS=function(t){switch(V(this,$c,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":V(this,Vn,t.data,"f"),E(this,_t,"f")&&(this._emit("toolCallDone",E(this,_t,"f")),V(this,_t,void 0,"f"));break;case"thread.run.cancelling":break}};var zn=class extends O{constructor(){super(...arguments),this.steps=new lo(this._client)}create(t,r,n){let{include:s,...o}=r;return this._client.post(x`/threads/${t}/runs`,{query:{include:s},body:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(t,r,n){let{thread_id:s}=r;return this._client.get(x`/threads/${s}/runs/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){let{thread_id:s,...o}=r;return this._client.post(x`/threads/${s}/runs/${t}`,{body:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(x`/threads/${t}/runs`,X,{query:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){let{thread_id:s}=r;return this._client.post(x`/threads/${s}/runs/${t}/cancel`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){let s=await this.create(t,r,n);return await this.poll(s.id,{thread_id:t},n)}createAndStream(t,r,n){return vr.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){let s=j([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:a}=await this.retrieve(t,r,{...n,headers:{...n?.headers,...s}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(n?.pollIntervalMs)c=n.pollIntervalMs;else{let d=a.headers.get("openai-poll-after-ms");if(d){let l=parseInt(d);isNaN(l)||(c=l)}}await Jt(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,r,n){return vr.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n){let{thread_id:s,...o}=r;return this._client.post(x`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,n){let s=await this.submitToolOutputs(t,r,n);return await this.poll(s.id,r,n)}submitToolOutputsStream(t,r,n){return vr.createToolAssistantStream(t,this._client.beta.threads.runs,r,n)}};zn.Steps=lo;var Yr=class extends O{constructor(){super(...arguments),this.runs=new zn(this._client),this.messages=new co(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(x`/threads/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(x`/threads/${t}`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r){return this._client.delete(x`/threads/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){let n=await this.createAndRun(t,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(t,r){return vr.createThreadAssistantStream(t,this._client.beta.threads,r)}};Yr.Runs=zn;Yr.Messages=co;var er=class extends O{constructor(){super(...arguments),this.realtime=new Jr(this._client),this.assistants=new oo(this._client),this.threads=new Yr(this._client)}};er.Realtime=Jr;er.Assistants=oo;er.Threads=Yr;var Gn=class extends O{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}};var po=class extends O{retrieve(t,r,n){let{container_id:s}=r;return this._client.get(x`/containers/${s}/files/${t}/content`,{...n,headers:j([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}};var Wn=class extends O{constructor(){super(...arguments),this.content=new po(this._client)}create(t,r,n){return this._client.post(x`/containers/${t}/files`,gt({body:r,...n},this._client))}retrieve(t,r,n){let{container_id:s}=r;return this._client.get(x`/containers/${s}/files/${t}`,n)}list(t,r={},n){return this._client.getAPIList(x`/containers/${t}/files`,X,{query:r,...n})}delete(t,r,n){let{container_id:s}=r;return this._client.delete(x`/containers/${s}/files/${t}`,{...n,headers:j([{Accept:"*/*"},n?.headers])})}};Wn.Content=po;var Xr=class extends O{constructor(){super(...arguments),this.files=new Wn(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(x`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",X,{query:t,...r})}delete(t,r){return this._client.delete(x`/containers/${t}`,{...r,headers:j([{Accept:"*/*"},r?.headers])})}};Xr.Files=Wn;var Jn=class extends O{create(t,r){let n=!!t.encoding_format,s=n?t.encoding_format:"base64";n&&Ce(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);let o=this._client.post("/embeddings",{body:{...t,encoding_format:s},...r});return n?o:(Ce(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(a=>(a&&a.data&&a.data.forEach(c=>{let d=c.embedding;c.embedding=nS(d)}),a)))}};var mo=class extends O{retrieve(t,r,n){let{eval_id:s,run_id:o}=r;return this._client.get(x`/evals/${s}/runs/${o}/output_items/${t}`,n)}list(t,r,n){let{eval_id:s,...o}=r;return this._client.getAPIList(x`/evals/${s}/runs/${t}/output_items`,X,{query:o,...n})}};var Kn=class extends O{constructor(){super(...arguments),this.outputItems=new mo(this._client)}create(t,r,n){return this._client.post(x`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){let{eval_id:s}=r;return this._client.get(x`/evals/${s}/runs/${t}`,n)}list(t,r={},n){return this._client.getAPIList(x`/evals/${t}/runs`,X,{query:r,...n})}delete(t,r,n){let{eval_id:s}=r;return this._client.delete(x`/evals/${s}/runs/${t}`,n)}cancel(t,r,n){let{eval_id:s}=r;return this._client.post(x`/evals/${s}/runs/${t}`,n)}};Kn.OutputItems=mo;var Qr=class extends O{constructor(){super(...arguments),this.runs=new Kn(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(x`/evals/${t}`,r)}update(t,r,n){return this._client.post(x`/evals/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/evals",X,{query:t,...r})}delete(t,r){return this._client.delete(x`/evals/${t}`,r)}};Qr.Runs=Kn;var Yn=class extends O{create(t,r){return this._client.post("/files",gt({body:t,...r},this._client))}retrieve(t,r){return this._client.get(x`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",X,{query:t,...r})}delete(t,r){return this._client.delete(x`/files/${t}`,r)}content(t,r){return this._client.get(x`/files/${t}/content`,{...r,headers:j([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){let s=new Set(["processed","error","deleted"]),o=Date.now(),a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await Jt(r),a=await this.retrieve(t),Date.now()-o>n)throw new qr({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}};var fo=class extends O{};var ho=class extends O{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};var Xn=class extends O{constructor(){super(...arguments),this.graders=new ho(this._client)}};Xn.Graders=ho;var go=class extends O{create(t,r,n){return this._client.getAPIList(x`/fine_tuning/checkpoints/${t}/permissions`,Xt,{body:r,method:"post",...n})}retrieve(t,r={},n){return this._client.get(x`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}delete(t,r,n){let{fine_tuned_model_checkpoint:s}=r;return this._client.delete(x`/fine_tuning/checkpoints/${s}/permissions/${t}`,n)}};var Qn=class extends O{constructor(){super(...arguments),this.permissions=new go(this._client)}};Qn.Permissions=go;var _o=class extends O{list(t,r={},n){return this._client.getAPIList(x`/fine_tuning/jobs/${t}/checkpoints`,X,{query:r,...n})}};var Zn=class extends O{constructor(){super(...arguments),this.checkpoints=new _o(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(x`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",X,{query:t,...r})}cancel(t,r){return this._client.post(x`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return this._client.getAPIList(x`/fine_tuning/jobs/${t}/events`,X,{query:r,...n})}pause(t,r){return this._client.post(x`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(x`/fine_tuning/jobs/${t}/resume`,r)}};Zn.Checkpoints=_o;var Ut=class extends O{constructor(){super(...arguments),this.methods=new fo(this._client),this.jobs=new Zn(this._client),this.checkpoints=new Qn(this._client),this.alpha=new Xn(this._client)}};Ut.Methods=fo;Ut.Jobs=Zn;Ut.Checkpoints=Qn;Ut.Alpha=Xn;var yo=class extends O{};var Zr=class extends O{constructor(){super(...arguments),this.graderModels=new yo(this._client)}};Zr.GraderModels=yo;var es=class extends O{createVariation(t,r){return this._client.post("/images/variations",gt({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",gt({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}};var ts=class extends O{retrieve(t,r){return this._client.get(x`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",Xt,t)}delete(t,r){return this._client.delete(x`/models/${t}`,r)}};var rs=class extends O{create(t,r){return this._client.post("/moderations",{body:t,...r})}};function uS(e,t){return!t||!Tj(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:am(e,t)}function am(e,t){let r=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:kj(t,s)};if(s.type==="message"){let o=s.content.map(a=>a.type==="output_text"?{...a,parsed:Rj(t,a.text)}:a);return{...s,content:o}}return s}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||Hc(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let s of n.output)if(s.type==="message"){for(let o of s.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function Rj(e,t){return e.text?.format?.type!=="json_schema"?null:"$parseRaw"in e.text?.format?(e.text?.format).$parseRaw(t):JSON.parse(t)}function Tj(e){return!!Ii(e.text?.format)}function Nj(e){return e?.$brand==="auto-parseable-tool"}function Dj(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function kj(e,t){let r=Dj(e.tools??[],t.name);return{...t,...t,parsed_arguments:Nj(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function Hc(e){let t=[];for(let r of e.output)if(r.type==="message")for(let n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}var So,qc,en,Vc,pS,mS,fS,hS,zc=class e extends zr{constructor(t){super(),So.add(this),qc.set(this,void 0),en.set(this,void 0),Vc.set(this,void 0),V(this,qc,t,"f")}static createResponse(t,r,n){let s=new e(r);return s._run(()=>s._createOrRetrieveResponse(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,r,n){let s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),E(this,So,"m",pS).call(this);let o,a=null;"response_id"in r?(o=await t.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=r.starting_after??null):o=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(let c of o)E(this,So,"m",mS).call(this,c,a);if(o.controller.signal?.aborted)throw new xe;return E(this,So,"m",fS).call(this)}[(qc=new WeakMap,en=new WeakMap,Vc=new WeakMap,So=new WeakSet,pS=function(){this.ended||V(this,en,void 0,"f")},mS=function(r,n){if(this.ended)return;let s=(a,c)=>{(n==null||c.sequence_number>n)&&this._emit(a,c)},o=E(this,So,"m",hS).call(this,r);switch(s("event",r),r.type){case"response.output_text.delta":{let a=o.output[r.output_index];if(!a)throw new B(`missing output at index ${r.output_index}`);if(a.type==="message"){let c=a.content[r.content_index];if(!c)throw new B(`missing content at index ${r.content_index}`);if(c.type!=="output_text")throw new B(`expected content to be 'output_text', got ${c.type}`);s("response.output_text.delta",{...r,snapshot:c.text})}break}case"response.function_call_arguments.delta":{let a=o.output[r.output_index];if(!a)throw new B(`missing output at index ${r.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:s(r.type,r);break}},fS=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");let r=E(this,en,"f");if(!r)throw new B("request ended without sending any events");V(this,en,void 0,"f");let n=Mj(r,E(this,qc,"f"));return V(this,Vc,n,"f"),n},hS=function(r){let n=E(this,en,"f");if(!n){if(r.type!=="response.created")throw new B(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=V(this,en,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{let s=n.output[r.output_index];if(!s)throw new B(`missing output at index ${r.output_index}`);s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{let s=n.output[r.output_index];if(!s)throw new B(`missing output at index ${r.output_index}`);if(s.type==="message"){let o=s.content[r.content_index];if(!o)throw new B(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new B(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{let s=n.output[r.output_index];if(!s)throw new B(`missing output at index ${r.output_index}`);s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{V(this,en,r.response,"f");break}}return n},Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("event",s=>{let o=r.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{n=!0;for(let s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(let o of r)o.reject(s);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let t=E(this,Vc,"f");if(!t)throw new B("stream ended without producing a ChatCompletion");return t}};function Mj(e,t){return uS(e,t)}var Eo=class extends O{list(t,r={},n){return this._client.getAPIList(x`/responses/${t}/input_items`,X,{query:r,...n})}};var tn=class extends O{constructor(){super(...arguments),this.inputItems=new Eo(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Hc(n),n))}retrieve(t,r={},n){return this._client.get(x`/responses/${t}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Hc(s),s))}delete(t,r){return this._client.delete(x`/responses/${t}`,{...r,headers:j([{Accept:"*/*"},r?.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>am(n,t))}stream(t,r){return zc.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(x`/responses/${t}/cancel`,r)}};tn.InputItems=Eo;var vo=class extends O{create(t,r,n){return this._client.post(x`/uploads/${t}/parts`,gt({body:r,...n},this._client))}};var rn=class extends O{constructor(){super(...arguments),this.parts=new vo(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(x`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(x`/uploads/${t}/complete`,{body:r,...n})}};rn.Parts=vo;var gS=async e=>{let t=await Promise.allSettled(e),r=t.filter(s=>s.status==="rejected");if(r.length){for(let s of r)console.error(s.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let s of t)s.status==="fulfilled"&&n.push(s.value);return n};var bo=class extends O{create(t,r,n){return this._client.post(x`/vector_stores/${t}/file_batches`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){let{vector_store_id:s}=r;return this._client.get(x`/vector_stores/${s}/file_batches/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){let{vector_store_id:s}=r;return this._client.post(x`/vector_stores/${s}/file_batches/${t}/cancel`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){let s=await this.create(t,r);return await this.poll(t,s.id,n)}listFiles(t,r,n){let{vector_store_id:s,...o}=r;return this._client.getAPIList(x`/vector_stores/${s}/file_batches/${t}/files`,X,{query:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(t,r,n){let s=j([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:a}=await this.retrieve(r,{vector_store_id:t},{...n,headers:s}).withResponse();switch(o.status){case"in_progress":let c=5e3;if(n?.pollIntervalMs)c=n.pollIntervalMs;else{let d=a.headers.get("openai-poll-after-ms");if(d){let l=parseInt(d);isNaN(l)||(c=l)}}await Jt(c);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},s){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let o=s?.maxConcurrency??5,a=Math.min(o,r.length),c=this._client,d=r.values(),l=[...n];async function p(h){for(let f of h){let y=await c.files.create({file:f,purpose:"assistants"},s);l.push(y.id)}}let m=Array(a).fill(d).map(p);return await gS(m),await this.createAndPoll(t,{file_ids:l})}};var Co=class extends O{create(t,r,n){return this._client.post(x`/vector_stores/${t}/files`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){let{vector_store_id:s}=r;return this._client.get(x`/vector_stores/${s}/files/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){let{vector_store_id:s,...o}=r;return this._client.post(x`/vector_stores/${s}/files/${t}`,{body:o,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(x`/vector_stores/${t}/files`,X,{query:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){let{vector_store_id:s}=r;return this._client.delete(x`/vector_stores/${s}/files/${t}`,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){let s=await this.create(t,r,n);return await this.poll(t,s.id,n)}async poll(t,r,n){let s=j([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let o=await this.retrieve(r,{vector_store_id:t},{...n,headers:s}).withResponse(),a=o.data;switch(a.status){case"in_progress":let c=5e3;if(n?.pollIntervalMs)c=n.pollIntervalMs;else{let d=o.response.headers.get("openai-poll-after-ms");if(d){let l=parseInt(d);isNaN(l)||(c=l)}}await Jt(c);break;case"failed":case"completed":return a}}}async upload(t,r,n){let s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:s.id},n)}async uploadAndPoll(t,r,n){let s=await this.upload(t,r,n);return await this.poll(t,s.id,n)}content(t,r,n){let{vector_store_id:s}=r;return this._client.getAPIList(x`/vector_stores/${s}/files/${t}/content`,Xt,{...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var br=class extends O{constructor(){super(...arguments),this.files=new Co(this._client),this.fileBatches=new bo(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(x`/vector_stores/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(x`/vector_stores/${t}`,{body:r,...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",X,{query:t,...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(x`/vector_stores/${t}`,{...r,headers:j([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(t,r,n){return this._client.getAPIList(x`/vector_stores/${t}/search`,Xt,{body:r,method:"post",...n,headers:j([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};br.Files=Co;br.FileBatches=bo;var wo,_S,Gc,ns=class extends O{constructor(){super(...arguments),wo.add(this)}async unwrap(t,r,n=this._client.webhookSecret,s=300){return await this.verifySignature(t,r,n,s),JSON.parse(t)}async verifySignature(t,r,n=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");E(this,wo,"m",_S).call(this,n);let o=j([r]).values,a=E(this,wo,"m",Gc).call(this,o,"webhook-signature"),c=E(this,wo,"m",Gc).call(this,o,"webhook-timestamp"),d=E(this,wo,"m",Gc).call(this,o,"webhook-id"),l=parseInt(c,10);if(isNaN(l))throw new Wt("Invalid webhook timestamp format");let p=Math.floor(Date.now()/1e3);if(p-l>s)throw new Wt("Webhook timestamp is too old");if(l>p+s)throw new Wt("Webhook timestamp is too new");let m=a.split(" ").map(_=>_.startsWith("v1,")?_.substring(3):_),h=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=d?`${d}.${c}.${t}`:`${c}.${t}`,y=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let _ of m)try{let b=Buffer.from(_,"base64");if(await crypto.subtle.verify("HMAC",y,b,new TextEncoder().encode(f)))return}catch{continue}throw new Wt("The given webhook signature does not match the expected signature")}};wo=new WeakSet,_S=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Gc=function(t,r){if(!t)throw new Error("Headers are required");let n=t.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var cm,dm,Wc,yS,J=class{constructor({baseURL:t=Kr("OPENAI_BASE_URL"),apiKey:r=Kr("OPENAI_API_KEY"),organization:n=Kr("OPENAI_ORG_ID")??null,project:s=Kr("OPENAI_PROJECT_ID")??null,webhookSecret:o=Kr("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(cm.add(this),Wc.set(this,void 0),this.completions=new Gn(this),this.chat=new Wr(this),this.embeddings=new Jn(this),this.files=new Yn(this),this.images=new es(this),this.audio=new Qt(this),this.moderations=new rs(this),this.models=new ts(this),this.fineTuning=new Ut(this),this.graders=new Zr(this),this.vectorStores=new br(this),this.webhooks=new ns(this),this.beta=new er(this),this.batches=new Bn(this),this.uploads=new rn(this),this.responses=new tn(this),this.evals=new Qr(this),this.containers=new Xr(this),r===void 0)throw new B("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let c={apiKey:r,organization:n,project:s,webhookSecret:o,...a,baseURL:t||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&Ay())throw new B(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??dm.DEFAULT_TIMEOUT,this.logger=c.logger??console;let d="warn";this.logLevel=d,this.logLevel=Fp(c.logLevel,"ClientOptions.logLevel",this)??Fp(Kr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??d,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??Iy(),V(this,Wc,Ty,"f"),this._options=c,this.apiKey=r,this.organization=n,this.project=s,this.webhookSecret=o}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return j([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return Lp(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Vr}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ap()}`}makeStatusError(t,r,n,s){return Re.generate(t,r,n,s)}buildURL(t,r,n){let s=!E(this,cm,"m",yS).call(this)&&n||this.baseURL,o=yy(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Ey(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(s=>({method:t,path:r,...s})))}request(t,r=null){return new jn(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){let s=await t,o=s.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(s);let{req:a,url:c,timeout:d}=await this.buildRequest(s,{retryCount:o-r});await this.prepareRequest(a,{url:c,options:s});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=n===void 0?"":`, retryOf: ${n}`,m=Date.now();if(Ce(this).debug(`[${l}] sending request`,_r({retryOfRequestLogID:n,method:s.method,url:c,options:s,headers:a.headers})),s.signal?.aborted)throw new xe;let h=new AbortController,f=await this.fetchWithTimeout(c,a,d,h).catch(vi),y=Date.now();if(f instanceof Error){let P=`retrying, ${r} attempts remaining`;if(s.signal?.aborted)throw new xe;let C=Ei(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return Ce(this).info(`[${l}] connection ${C?"timed out":"failed"} - ${P}`),Ce(this).debug(`[${l}] connection ${C?"timed out":"failed"} (${P})`,_r({retryOfRequestLogID:n,url:c,durationMs:y-m,message:f.message})),this.retryRequest(s,r,n??l);throw Ce(this).info(`[${l}] connection ${C?"timed out":"failed"} - error; no more retries left`),Ce(this).debug(`[${l}] connection ${C?"timed out":"failed"} (error; no more retries left)`,_r({retryOfRequestLogID:n,url:c,durationMs:y-m,message:f.message})),C?new qr:new Hr({cause:f})}let _=[...f.headers.entries()].filter(([P])=>P==="x-request-id").map(([P,C])=>", "+P+": "+JSON.stringify(C)).join(""),b=`[${l}${p}${_}] ${a.method} ${c} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${y-m}ms`;if(!f.ok){let P=await this.shouldRetry(f);if(r&&P){let ie=`retrying, ${r} attempts remaining`;return await Ry(f.body),Ce(this).info(`${b} - ${ie}`),Ce(this).debug(`[${l}] response error (${ie})`,_r({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:y-m})),this.retryRequest(s,r,n??l,f.headers)}let C=P?"error; no more retries left":"error; not retryable";Ce(this).info(`${b} - ${C}`);let q=await f.text().catch(ie=>vi(ie).message),F=Cy(q),$=F?void 0:q;throw Ce(this).debug(`[${l}] response error (${C})`,_r({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:$,durationMs:Date.now()-m})),this.makeStatusError(f.status,F,$,f.headers)}return Ce(this).info(b),Ce(this).debug(`[${l}] response start`,_r({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:y-m})),{response:f,options:s,controller:h,requestLogID:l,retryOfRequestLogID:n,startTime:m}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){let n=this.makeRequest(r,null,void 0);return new xi(this,n,t)}async fetchWithTimeout(t,r,n,s){let{signal:o,method:a,...c}=r||{};o&&o.addEventListener("abort",()=>s.abort());let d=setTimeout(()=>s.abort(),n),l=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p={signal:s.signal,...l?{duplex:"half"}:{},method:"GET",...c};a&&(p.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(d)}}async shouldRetry(t){let r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,s){let o,a=s?.get("retry-after-ms");if(a){let d=parseFloat(a);Number.isNaN(d)||(o=d)}let c=s?.get("retry-after");if(c&&!o){let d=parseFloat(c);Number.isNaN(d)?o=Date.parse(c)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){let d=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,d)}return await Jt(o),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){let o=r-t,a=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return a*c*1e3}async buildRequest(t,{retryCount:r=0}={}){let n={...t},{method:s,path:o,query:a,defaultBaseURL:c}=n,d=this.buildURL(o,a,c);"timeout"in n&&by("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:p}=this.buildBody({options:n}),m=await this.buildHeaders({options:t,method:s,bodyHeaders:l,retryCount:r});return{req:{method:s,headers:m,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"},...p&&{body:p},...this.fetchOptions??{},...n.fetchOptions??{}},url:d,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:s}){let o={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);let a=j([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...Oy(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};let n=j([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Sc(t)}:E(this,Wc,"f").call(this,{body:t,headers:n})}};dm=J,Wc=new WeakMap,cm=new WeakSet,yS=function(){return this.baseURL!=="https://api.openai.com/v1"};J.OpenAI=dm;J.DEFAULT_TIMEOUT=6e5;J.OpenAIError=B;J.APIError=Re;J.APIConnectionError=Hr;J.APIConnectionTimeoutError=qr;J.APIUserAbortError=xe;J.NotFoundError=qs;J.ConflictError=Vs;J.RateLimitError=Gs;J.BadRequestError=$s;J.AuthenticationError=Bs;J.InternalServerError=Ws;J.PermissionDeniedError=Hs;J.UnprocessableEntityError=zs;J.InvalidWebhookSignatureError=Wt;J.toFile=Oc;J.Completions=Gn;J.Chat=Wr;J.Embeddings=Jn;J.Files=Yn;J.Images=es;J.Audio=Qt;J.Moderations=rs;J.Models=ts;J.FineTuning=Ut;J.Graders=Zr;J.VectorStores=br;J.Webhooks=ns;J.Beta=er;J.Batches=Bn;J.Uploads=rn;J.Responses=tn;J.Evals=Qr;J.Containers=Xr;var Pp=w(KD()),EL=w(SL()),Zee=new Pp.SecretsManagerClient({region:process.env.AWS_REGION}),JEe=new EL.OpenSearchClient({region:process.env.AWS_REGION,endpoint:process.env.OPENSEARCH_ENDPOINT});async function ete(){try{let e=new Pp.GetSecretValueCommand({SecretId:process.env.OPENAI_SECRET_NAME||"openai-api-key"}),t=await Zee.send(e),r=JSON.parse(t.SecretString||"{}");return r.apiKey||r.OPENAI_API_KEY||""}catch(e){throw console.error("Error getting OpenAI API key:",e),new Error("Failed to retrieve OpenAI API key")}}var hy=null;async function tte(){if(!hy){let e=await ete();hy=new J({apiKey:e})}return hy}async function rte(e,t){return(await t.embeddings.create({model:"text-embedding-3-small",input:e})).data[0].embedding}async function nte(e,t,r=5){try{let n=await rte(e,t),s={query:{script_score:{query:{match_all:{}},script:{source:'cosineSimilarity(params.query_vector, "embedding") + 1.0',params:{query_vector:n}}}},size:r,_source:["content","source"]},o=await fetch(`${process.env.OPENSEARCH_ENDPOINT}/documents/_search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error(`OpenSearch search failed: ${o.statusText}`);return((await o.json()).hits?.hits||[]).map(d=>d._source.content).filter(Boolean)}catch(n){return console.error("Error searching documents:",n),[]}}var ste=async e=>{try{if(e.requestContext.http.method!=="POST")return gc(405,{error:"Method not allowed"});let t=e.body?JSON.parse(e.body):{},r=t.messages,n=t.model??"gpt-4o-mini";if(!Array.isArray(r)||r.length===0)return gc(400,{error:"messages[] required"});let s=await tte(),o=r.filter(h=>h.role==="user").pop();if(!o)return gc(400,{error:"No user message found"});let a=await nte(o.content,s,3),l=[{role:"system",content:`Eres un asistente AI experto que responde preguntas bas\xE1ndose en la informaci\xF3n proporcionada. 
      Si la pregunta no est\xE1 relacionada con el contexto proporcionado, responde de manera general pero honesta.
      ${a.length>0?`

Contexto relevante de la base de conocimientos:
${a.join(`

`)}`:""}`},...r],m=(await s.chat.completions.create({model:n,messages:l,max_tokens:1500,temperature:.7})).choices[0]?.message?.content??"";return gc(200,{text:m,context_used:a.length>0,documents_found:a.length})}catch(t){return console.error(t),gc(500,{error:"Internal error",detail:t?.message||String(t)})}};function gc(e,t){return{statusCode:e,headers:{"content-type":"application/json","access-control-allow-origin":"*","access-control-allow-headers":"*"},body:JSON.stringify(t)}}0&&(module.exports={handler});
